{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/window/assets/Script/ComponentScript/window/shot_crazyTime.js"],"names":["cc","Class","extends","Component","properties","titleNode","default","type","Node","titleSprite","Sprite","desNode","countDownNode","countDownSprite","countDownSpriteFrameList","SpriteFrame","resultNode","hitLabel","Label","lastLabel","scoreLabel","addScoreLabel","isStartCrazyTimeAction","countDown","addScoreCountDown","overCountDown","afterResultCount","titleNodeOpacity","isAction","timeEnd","parentScene","serializable","onLoad","ani","getComponent","Animation","clipName","getClips","name","animation","getAnimationState","that","once","changeToDes","play","shot","GameWorld","crazyBottleCount","green","purple","orange","red","crazyBottleHitCount","crazyBottleScore","AudioHelper","stopMusic","isNew","hall","GlobalFuncs","ReadBoolFromLocalStorage","gameModel","IS_NEW_CRAZY","active","startCrazyTimeFirst","setCrazyTimeBucket","startCrazyTime","setInLocalStorage","playMusic","EffectPath_mp3","musicCrazy","btnScaleEffectOnce","countDownOut","gamePause","setCountDownEnd","time","spriteFrame","crazyTimeOut","crazyTimeEnd","crazyTimeGood","playEffect","crazyCheer","key","bottleConfig","crazyTimeAddScoreFirst","removeCrazyWhenEnd","crazyTimeAddScore","setResult","string","bottleCount","crazyBonus","node","starCrazyTimeOverCountDown","musicGame","crazyTimeEndEnter","crazyTimeOver","addCrazyTimeScore","levelUp","destroy","update","dt","crazyMoment","onDestroy","ty","NotificationCenter","ignoreScope","unscheduleAllCallbacks"],"mappings":"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","file":"shot_crazyTime.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/window","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        titleNode : {\n            default : null,\n            type : cc.Node\n        },\n        titleSprite : {\n          default : null,\n            type : cc.Sprite\n        },\n\n        desNode : {\n            default : null,\n            type : cc.Node\n        },\n\n        countDownNode : {\n            default : null,\n            type : cc.Node\n        },\n        countDownSprite : {\n            default : null,\n            type : cc.Sprite\n        },\n        countDownSpriteFrameList : [cc.SpriteFrame],\n\n        resultNode : {\n            default : null,\n            type : cc.Node\n        },\n        hitLabel : {\n            default : null,\n            type : cc.Label\n        },\n        lastLabel : {\n            default : null,\n            type : cc.Label\n        },\n        scoreLabel : {\n            default : null,\n            type : cc.Label\n        },\n        addScoreLabel : {\n            default : null,\n            type : cc.Label\n        },\n\n        isStartCrazyTimeAction : false,\n        // titleCountDown : 120,\n        countDown : 0,\n        addScoreCountDown : 0,\n        overCountDown : 0,\n\n        afterResultCount : 0,\n\n        titleNodeOpacity : 0,\n\n        isAction : false,\n\n        timeEnd : 0,\n\n        parentScene: {\n            default: null,\n            serializable: false\n        }\n    },\n\n    onLoad : function() {\n        var ani = this.titleNode.getComponent(cc.Animation);\n        var clipName = ani.getClips()[0].name;\n        var animation = ani.getAnimationState(clipName);\n        var that = this;\n        animation.once(\"finished\", function () {\n            that.changeToDes();\n        });\n        animation.play();\n\n        shot.GameWorld.crazyBottleCount.green = 0;\n        shot.GameWorld.crazyBottleCount.purple = 0;\n        shot.GameWorld.crazyBottleCount.orange = 0;\n        shot.GameWorld.crazyBottleCount.red = 0;\n        shot.GameWorld.crazyBottleHitCount = 0;\n        shot.GameWorld.crazyBottleScore = 0;\n\n    },\n\n    changeToDes : function () {\n        shot.AudioHelper.stopMusic();\n        var isNew = hall.GlobalFuncs.ReadBoolFromLocalStorage(shot.gameModel.IS_NEW_CRAZY,true);\n        this.titleNode.active = false;\n        if(isNew){\n            this.desNode.active = true;\n        }else {\n            this.startCrazyTimeFirst();\n        }\n    },\n\n    startCrazyTimeFirst : function () {\n        if(!this.isStartCrazyTimeAction){\n            this.isStartCrazyTimeAction = true;\n            this.parentScene.setCrazyTimeBucket();\n        }\n    },\n\n    startCrazyTime : function () {\n        hall.GlobalFuncs.setInLocalStorage(shot.gameModel.IS_NEW_CRAZY,false);\n        shot.AudioHelper.playMusic(shot.EffectPath_mp3.musicCrazy,false);\n        this.countDown = 180;\n        hall.GlobalFuncs.btnScaleEffectOnce(this.countDownSprite,1.5);\n        this.desNode.active = false;\n        this.countDownNode.active = true;\n        // this.parentScene.setCrazyTimeBucket();\n    },\n\n    countDownOut : function () {\n        shot.GameWorld.gamePause = false;\n        this.countDownNode.active = false;\n        this.parentScene.startCrazyTime();\n    },\n\n    setCountDownEnd : function (time) {\n        if(time <= 5 && time != 0 && this.timeEnd != time){\n            this.timeEnd = time;\n            this.countDownNode.active = true;\n            this.countDownSprite.spriteFrame = this.countDownSpriteFrameList[time-1];\n            hall.GlobalFuncs.btnScaleEffectOnce(this.countDownSprite,1.5);\n        }\n    },\n\n    //结束\n    crazyTimeOut : function () {\n        shot.GameWorld.gamePause = true;\n        this.countDownSprite.spriteFrame = this.countDownSpriteFrameList[6];\n        this.crazyTimeEnd();\n    },\n    crazyTimeGood : function () {\n        shot.AudioHelper.playEffect(shot.EffectPath_mp3.crazyCheer,false);\n        shot.GameWorld.gamePause = true;\n        this.countDownSprite.spriteFrame = this.countDownSpriteFrameList[5];\n        this.crazyTimeEnd();\n    },\n    crazyTimeEnd : function () {\n        this.countDownNode.active = true;\n        this.addScoreCountDown = 60;\n        for (var key in shot.GameWorld.crazyBottleCount){\n            shot.GameWorld.crazyBottleHitCount += shot.GameWorld.crazyBottleCount[key];\n            shot.GameWorld.crazyBottleScore += shot.GameWorld.crazyBottleCount[key]*shot.GameWorld.bottleConfig[key].crazyBottleScore;\n        }\n    },\n    crazyTimeAddScoreFirst : function () {\n        this.parentScene.removeCrazyWhenEnd();\n    },\n    crazyTimeAddScore : function () {\n        this.resultNode.active = true;\n        this.setResult();\n    },\n    setResult : function () {\n        // this.hitLabel.string = shot.GameWorld.crazyBottleHitCount+\"\";\n        this.hitLabel.string = shot.GameWorld.crazyBottleScore +\"\";\n\n        this.lastLabel.string = ((shot.GameWorld.crazyBottleHitCount/(shot.GameWorld.crazyBottleHitCount+shot.GameWorld.bottleCount))*100 >> 0)+\"%\";\n\n        if(shot.GameWorld.bottleCount == 0){\n            this.scoreLabel.string = shot.GameWorld.crazyBonus;\n        }else {\n            this.scoreLabel.string = \"0\";\n        }\n\n        this.addScoreLabel.string = \"+\"+shot.GameWorld.crazyBottleScore;\n\n        var ani = this.resultNode.getComponent(cc.Animation);\n        var clipName = ani.getClips()[0].name;\n        var animation = ani.getAnimationState(clipName);\n        var that = this;\n        animation.once(\"finished\", function () {\n            if(shot.GameWorld.bottleCount == 0){\n                that.addScoreLabel.node.active = true;\n                that.countDownSprite.node.active = false;\n                that.overCountDown = 90;\n                return;\n            }\n            that.afterResultCount = 90;\n        });\n        animation.play();\n    },\n    starCrazyTimeOverCountDown : function () {\n        if(this.isAction){\n            return;\n        }\n        shot.AudioHelper.playMusic(shot.EffectPath_mp3.musicGame,true);\n        this.countDownNode.active = false;\n        this.resultNode.active = false;\n        this.parentScene.crazyTimeEndEnter();\n    },\n    crazyTimeOver : function () {\n        this.parentScene.addCrazyTimeScore();\n        this.parentScene.levelUp();\n        this.node.destroy();\n    },\n    update :function(dt) {\n        // if(!shot.GameWorld.gamePause){\n        //     return;\n        // }\n        if(!shot.GameWorld.crazyMoment){\n            return;\n        }\n        if(this.countDown){\n            this.countDown --;\n            if(this.countDown == 120){\n                this.countDownSprite.spriteFrame = this.countDownSpriteFrameList[1];\n                hall.GlobalFuncs.btnScaleEffectOnce(this.countDownSprite,1.5);\n            }else if(this.countDown == 60){\n                this.countDownSprite.spriteFrame = this.countDownSpriteFrameList[0];\n                hall.GlobalFuncs.btnScaleEffectOnce(this.countDownSprite,1.5);\n            }else if(this.countDown == 0){\n                this.countDownOut();\n            }\n            return;\n        }\n        if(this.addScoreCountDown){\n            this.addScoreCountDown --;\n            if(this.addScoreCountDown == 0){\n                this.crazyTimeAddScoreFirst();\n            }\n            return;\n        }\n        if(this.overCountDown){\n            this.overCountDown --;\n            this.addScoreLabel.string = ((shot.GameWorld.crazyBottleScore+(90-this.overCountDown)*shot.GameWorld.crazyBonus/90) >> 0)+\"\";\n            if(this.overCountDown == 0){\n                shot.GameWorld.crazyBottleScore += shot.GameWorld.crazyBonus;\n                this.addScoreLabel.string = shot.GameWorld.crazyBottleScore+\"\";\n                this.afterResultCount = 90;\n                // this.isAction = false;\n            }\n        }\n        if(this.afterResultCount){\n            this.afterResultCount --;\n            if(this.afterResultCount == 0){\n                this.isAction = false;\n                this.starCrazyTimeOverCountDown();\n            }\n        }\n    },\n    // LIFE-CYCLE CALLBACKS:\n\n\n    onDestroy : function () {\n        ty.NotificationCenter.ignoreScope(this);\n        this.unscheduleAllCallbacks();\n    }\n    // start () {\n    //\n    // },\n\n\n});\n"]}