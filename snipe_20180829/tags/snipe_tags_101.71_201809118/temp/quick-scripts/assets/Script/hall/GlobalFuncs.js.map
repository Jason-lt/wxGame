{"version":3,"sources":["GlobalFuncs.js"],"names":["hall","GlobalFuncs","SceneGather","sliceStringToLength","str","length","len","tmp","s","i","charCode","charCodeAt","slice","formatGold","score","tar","scoreText","arr","endStr","sp","isInteger","indexOf","split","wanStr","substr","yiStr","PrintArray","index","LOGD","FindInArray","obj","FindInArrayBuFun","array","func","element","GetSubArrayExceptIndex","indexs","newarr","sort","SortNumberFunc","splice","c1","c2","GetLevelByExp","exp","level","parseInt","Math","pow","GetExpByLevel","ChangeSpriteTexure","sprite","texureName","frme","cc","spriteFrameCache","getSpriteFrame","setSpriteFrame","ChangeSpriteTexureWithSize","size","f_size","getOriginalSize","setScaleX","width","setScaleY","height","ReadBoolFromLocalStorage","key","def_value","sys","localStorage","getItem","bv","ReadNumFromLocalStorage","Number","ReadStringFromLocalStorage","String","ReadValueFromLocalStorage","Array","setInLocalStorage","value","setItem","e","DownloadImg","url","filePath","cobj","callback","params","LOGE","configObj","ty","Http","httpGet","retObj","result","JSON","parse","call","formatSeconds","theTime","theTime1","theTime2","_keyStr","base64encode","input","output","chr1","chr2","chr3","enc1","enc2","enc3","enc4","_utf8_encode","isNaN","charAt","base64decode","base64decodeRaw","_utf8_decode","replace","push","string","utftext","n","c","fromCharCode","c3","checkMsgWithGameId","param","gameId","pgameId","CreateUuid","hexDigits","floor","random","uuid","join","getLocalUuid","local_uuid","LOCAL_UUID_KEY","checkLocalUUID","getRandomNumberBefore","number","getShareRandomNumberWithShareList","shareList","returnRandom","nowIndex","weight","replaceKeyWordInString","repString","concat","replaceMap","shot","Share","shareKeywordReplace","reg","RegExp","replaceToStringWithDic","dic","stringify","getMoneyStringWithCoupons","couponCount","money","toFixed","isEmptyObject","name","showPopWinByPreFab","preFabPath","loader","loadRes","err","prefab","preFabNode","instantiate","director","getScene","addChild","setToCenter","checkBSGS","cityName","keyWord","SystemInfo","bsgsCitys","btnScaleEffect","node","scale","stopAllActions","scale_1","scaleTo","scale_2","delay","delayTime","seq1","sequence","runAction","repeatForever","btnScaleEffectOnce","_TAG"],"mappings":";;;;;;AACAA,KAAKC,WAAL,GAAmB,EAAnB;AACAD,KAAKE,WAAL,GAAmB,EAAnB,EAAwB;;AAExBF,KAAKC,WAAL,CAAiBE,mBAAjB,GAAuC,UAASC,GAAT,EAAcC,MAAd,EAAsB;AAAE;AAC9D,KAAG,CAACD,GAAJ,EAAS;AACR,SAAOA,GAAP;AACA;AACD,KAAIE,MAAM,CAAV;AACA,KAAIC,MAAM,CAAV;AACA,KAAIC,CAAJ;AACA,MAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIL,IAAIC,MAAxB,EAAgCI,GAAhC,EAAqC;AACpC,MAAIC,WAAWN,IAAIO,UAAJ,CAAeF,CAAf,CAAf;AACA,MAAIC,YAAY,CAAZ,IAAiBA,YAAY,GAAjC,EAAsC;AACrCH,UAAO,CAAP;AACA,GAFD,MAEO;AAAE;AACRA,UAAO,CAAP;AACA;AACD,MAAIA,OAAOF,SAAS,CAApB,EAAuB;AACtBC;AACA;AACD;AACD,KAAIC,OAAOF,MAAX,EAAmB;AAClBG,MAAIJ,IAAIQ,KAAJ,CAAU,CAAV,CAAJ;AACA,EAFD,MAEO;AACNJ,MAAIJ,IAAIQ,KAAJ,CAAU,CAAV,EAAaN,GAAb,CAAJ;AACAE,OAAK,IAAL;AACA;AACD,QAAOA,CAAP;AACA,CAzBD;;AA2BA;AACAR,KAAKC,WAAL,CAAiBY,UAAjB,GAA8B,UAASC,KAAT,EAAe;AAC5C,KAAG,CAACA,KAAJ,EAAU;AACT,SAAO,GAAP;AACA;AACD,KAAIC,MAAM,EAAV;AACA,KAAID,QAAQ,CAAZ,EAAc;AACbC,QAAM,GAAN;AACAD,UAAQ,CAACA,KAAT;AACA;AACD,KAAIE,YAAY,EAAhB;AACA,KAAIC,GAAJ;AACA,KAAIC,MAAJ;AACA,KAAIC,EAAJ;AACA,KAAIC,YAAY,KAAhB;AACA,KAAIN,QAAQ,KAAZ,EAAkB;AACjBE,cAAYF,QAAQ,EAApB;AACA,EAFD,MAEM,IAAIA,SAAS,KAAT,IAAkBA,QAAQ,SAA9B,EAAyC;AAC9CE,cAAaF,QAAQ,KAAT,GAAkB,EAA9B;AACA,MAAIE,UAAUK,OAAV,CAAkB,GAAlB,KAA0B,CAAC,CAA/B,EAAiC;AAChCD,eAAY,IAAZ;AACAJ,gBAAa,MAAb;AACA,GAHD,MAGM;AACLI,eAAY,KAAZ;AACAJ,gBAAa,KAAb;AACA;AACDC,QAAMD,UAAUM,KAAV,CAAgB,GAAhB,CAAN;AACA,MAAIC,SAASN,IAAI,CAAJ,CAAb;AACAE,OAAK,CAAL;AACA,MAAII,OAAOlB,MAAP,IAAiB,CAArB,EAAuB;AACtBc,QAAK,CAAL;AACA,GAFD,MAGK,IAAII,OAAOlB,MAAP,IAAiB,CAArB,EAAuB;AAC3Bc,QAAK,CAAL;AACA,GAFI,MAGA,IAAII,OAAOlB,MAAP,IAAiB,CAArB,EAAuB;AAC3Bc,QAAK,CAAL;AACA,GAFI,MAGA,IAAII,OAAOlB,MAAP,IAAiB,CAArB,EAAuB;AAC3Bc,QAAK,CAAL;AACA;AACDD,WAASD,IAAI,CAAJ,EAAOO,MAAP,CAAc,CAAd,EAAgBL,EAAhB,CAAT;AACAH,cAAYO,SAAS,GAAT,GAAeL,MAAf,GAAwB,GAApC;AACA,MAAIC,MAAM,CAAN,IAAWC,SAAf,EAA0B;AACzBJ,eAAYO,SAAS,GAArB;AACA;AAED,EA9BK,MA8BA;AACLP,cAAaF,QAAQ,SAAT,GAAsB,EAAlC;;AAEA,MAAIE,UAAUK,OAAV,CAAkB,GAAlB,KAA0B,CAAC,CAA/B,EAAiC;AAChCD,eAAY,IAAZ;AACAJ,gBAAa,MAAb;AACA,GAHD,MAII;AACHI,eAAY,KAAZ;AACAJ,gBAAa,KAAb;AACA;;AAEDC,QAAOD,UAAUM,KAAV,CAAgB,GAAhB,CAAP;;AAEA,MAAIG,QAAQR,IAAI,CAAJ,CAAZ;AACAE,OAAK,CAAL;AACA,MAAIM,MAAMpB,MAAN,IAAgB,CAApB,EAAsB;AACrBc,QAAK,CAAL;AACA,GAFD,MAGK,IAAIM,MAAMpB,MAAN,IAAgB,CAApB,EAAsB;AAC1Bc,QAAK,CAAL;AACA,GAFI,MAGA,IAAIM,MAAMpB,MAAN,IAAgB,CAApB,EAAsB;AAC1Bc,QAAK,CAAL;AACA,GAFI,MAGD;AACHA,QAAK,CAAL;AACA;;AAEDD,WAASD,IAAI,CAAJ,EAAOO,MAAP,CAAc,CAAd,EAAgBL,EAAhB,CAAT;;AAEAH,cAAYS,QAAQ,GAAR,GAAcP,MAAd,GAAuB,GAAnC;AACA,MAAIC,MAAM,CAAN,IAAWC,SAAf,EAA0B;AACzBJ,eAAYS,QAAQ,GAApB;AACA;AACD;AACD,QAAOV,MAAMC,SAAb;AACA,CAnFD;;AAqFAhB,KAAKC,WAAL,CAAiByB,UAAjB,GAA8B,UAAST,GAAT,EAAc;AAC3C,KAAIT,IAAI,EAAR;AACA,MAAK,IAAImB,QAAQ,CAAjB,EAAoBA,QAAQV,IAAIZ,MAAhC,EAAwCsB,OAAxC,EAAiD;AAChDnB,OAAKS,IAAIU,KAAJ,CAAL;AACAnB,OAAK,GAAL;AACA;AACDR,MAAK4B,IAAL,CAAU,IAAV,EAAgB,QAAhB,EAA0BpB,CAA1B;AACA,CAPD;;AASAR,KAAKC,WAAL,CAAiB4B,WAAjB,GAA+B,UAASZ,GAAT,EAAca,GAAd,EAAmB;AACjD,KAAIxB,MAAMW,IAAIZ,MAAd;AACA,MAAK,IAAIsB,QAAQ,CAAjB,EAAoBA,QAAQrB,GAA5B,EAAiCqB,OAAjC,EAA0C;AACzC,MAAIV,IAAIU,KAAJ,MAAeG,GAAnB,EAAwB;AACvB,UAAOH,KAAP;AACA;AACD;AACD,QAAO,CAAC,CAAR;AACA,CARD;;AAUA3B,KAAKC,WAAL,CAAiB8B,gBAAjB,GAAoC,UAASC,KAAT,EAAgBC,IAAhB,EAAsB;AAAE;AACxD,MAAK,IAAIxB,IAAI,CAAR,EAAWH,MAAM0B,MAAM3B,MAA5B,EAAoCI,IAAIH,GAAxC,EAA6CG,GAA7C,EAAkD;AAC9C,MAAIyB,UAAUF,MAAMvB,CAAN,CAAd;AACA,MAAIwB,KAAKC,OAAL,CAAJ,EAAmB;AACf,UAAOA,OAAP;AACH;AACJ;AACD,QAAO,IAAP;AACH,CARD;;AAUAlC,KAAKC,WAAL,CAAiBkC,sBAAjB,GAA0C,UAASlB,GAAT,EAAcmB,MAAd,EAAsB;AAC/D,KAAIC,SAASpB,IAAIL,KAAJ,CAAU,CAAV,CAAb;AACAwB,QAAOE,IAAP,CAAYtC,KAAKC,WAAL,CAAiBsC,cAA7B;AACA,MAAK,IAAI9B,IAAI2B,OAAO/B,MAAP,GAAgB,CAA7B,EAAgCI,KAAK,CAArC,EAAwCA,GAAxC,EAA6C;AAC5C4B,SAAOG,MAAP,CAAcJ,OAAO3B,CAAP,CAAd,EAAyB,CAAzB;AACA;AACD,QAAO4B,MAAP;AACA,CAPD;;AASArC,KAAKC,WAAL,CAAiBsC,cAAjB,GAAkC,UAASE,EAAT,EAAaC,EAAb,EAAiB;AAAE;AACpD,QAAOD,KAAKC,EAAZ;AACA,CAFD;;AAIA;AACA1C,KAAKC,WAAL,CAAiB0C,aAAjB,GAAiC,UAASC,GAAT,EAAc;AAC9C,KAAIC,QAAQ,CAAZ;AACA,QAAOD,MAAM,CAAb,EAAgB;AACfA,SAAOE,SAAS,IAAIC,KAAKC,GAAL,CAASH,KAAT,EAAgB,GAAhB,CAAJ,GAA2B,IAAIE,KAAKC,GAAL,CAASH,KAAT,EAAgB,GAAhB,CAA/B,GAAsD,EAA/D,CAAP;AACAA;AACA;AACD,QAAOA,QAAQ,CAAf;AACA,CAPD;;AASA;AACA7C,KAAKC,WAAL,CAAiBgD,aAAjB,GAAiC,UAASJ,KAAT,EAAgB;AAChD,KAAID,MAAM,CAAV;AACA,MAAK,IAAInC,IAAI,CAAb,EAAgBA,IAAIoC,KAApB,EAA2BpC,GAA3B,EAAgC;AAC/BmC,SAAOE,SAAS,IAAIC,KAAKC,GAAL,CAASvC,IAAI,CAAb,EAAgB,GAAhB,CAAJ,GAA2B,IAAIsC,KAAKC,GAAL,CAASvC,IAAI,CAAb,EAAgB,GAAhB,CAA/B,GAAsD,EAA/D,CAAP;AACA;AACD,QAAOmC,GAAP;AACA,CAND;;AAQA5C,KAAKC,WAAL,CAAiBiD,kBAAjB,GAAsC,UAASC,MAAT,EAAiBC,UAAjB,EAA6B;AAAE;AACpE,KAAIC,OAAOC,GAAGC,gBAAH,CAAoBC,cAApB,CAAmCJ,UAAnC,CAAX;AACG,KAAGC,IAAH,EACIF,OAAOM,cAAP,CAAsBJ,IAAtB;AACP,CAJD;;AAMArD,KAAKC,WAAL,CAAiByD,0BAAjB,GAA8C,UAASP,MAAT,EAAiBC,UAAjB,EAA6BO,IAA7B,EAAmC;AAAE;AAClF,KAAIN,OAAOC,GAAGC,gBAAH,CAAoBC,cAApB,CAAmCJ,UAAnC,CAAX;AACA,KAAIQ,SAASP,KAAKQ,eAAL,EAAb;AACAV,QAAOW,SAAP,CAAiBH,KAAKI,KAAL,GAAaH,OAAOG,KAArC;AACAZ,QAAOa,SAAP,CAAiBL,KAAKM,MAAL,GAAcL,OAAOK,MAAtC;AACAd,QAAOM,cAAP,CAAsBJ,IAAtB;AACA,CAND;;AAQArD,KAAKC,WAAL,CAAiBiE,wBAAjB,GAA4C,UAASC,GAAT,EAAcC,SAAd,EAAyB;AACpE,KAAG,CAACd,GAAGe,GAAH,CAAOC,YAAP,CAAoBC,OAAxB,EAAiC;AAChC,SAAOH,SAAP;AACA;AACD,KAAI7D,MAAM+C,GAAGe,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BJ,GAA5B,CAAV;AACA,KAAI,CAAC5D,GAAL,EAAU;AACT,SAAO6D,SAAP;AACA;AACD,KAAII,KAAKjE,QAAQ,MAAR,GAAiB,IAAjB,GAAwB,KAAjC;AACA,QAAOiE,EAAP;AACA,CAVD;;AAYAxE,KAAKC,WAAL,CAAiBwE,uBAAjB,GAA2C,UAASN,GAAT,EAAcC,SAAd,EAAyB;AACnE,KAAG,CAACd,GAAGe,GAAH,CAAOC,YAAP,CAAoBC,OAAxB,EAAiC;AAChC,SAAOH,SAAP;AACA;AACD,KAAI7D,MAAM+C,GAAGe,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BJ,GAA5B,CAAV;AACA,KAAI,CAAC5D,GAAL,EAAU;AACT,SAAO6D,SAAP;AACA;AACD,QAAOM,OAAOnE,GAAP,CAAP;AACA,CATD;;AAWAP,KAAKC,WAAL,CAAiB0E,0BAAjB,GAA8C,UAASR,GAAT,EAAcC,SAAd,EAAyB;AACtE,KAAG,CAACd,GAAGe,GAAH,CAAOC,YAAP,CAAoBC,OAAxB,EAAiC;AAChC,SAAOH,SAAP;AACA;AACD,KAAI7D,MAAM+C,GAAGe,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BJ,GAA5B,CAAV;AACA,KAAI,CAAC5D,GAAL,EAAU;AACT,SAAO6D,SAAP;AACA;AACD,QAAOQ,OAAOrE,GAAP,CAAP;AACA,CATD;AAUAP,KAAKC,WAAL,CAAiB4E,yBAAjB,GAA6C,UAASV,GAAT,EAAcC,SAAd,EAAyB;AACrE,KAAG,CAACd,GAAGe,GAAH,CAAOC,YAAP,CAAoBC,OAAxB,EAAiC;AAChC,SAAOH,SAAP;AACA;AACD,KAAI7D,MAAM+C,GAAGe,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BJ,GAA5B,CAAV;AACA,KAAI,CAAC5D,GAAL,EAAU;AACT,SAAO6D,SAAP;AACA;AACD,QAAOU,MAAMvE,GAAN,CAAP;AACA,CATD;;AAYAP,KAAKC,WAAL,CAAiB8E,iBAAjB,GAAqC,UAASZ,GAAT,EAAca,KAAd,EAAoB;AACxD,KAAG;AACF1B,KAAGe,GAAH,CAAOC,YAAP,CAAoBW,OAApB,CAA4Bd,GAA5B,EAAiCa,QAAM,EAAvC;AACA,EAFD,CAEC,OAAME,CAAN,EAAQ,CAAE;AACX,CAJD;;AAMAlF,KAAKC,WAAL,CAAiBkF,WAAjB,GAA+B,UAASC,GAAT,EAAcC,QAAd,EAAwBC,IAAxB,EAA8BC,QAA9B,EAAwCC,MAAxC,EAAgD;AAC9E,KAAIJ,IAAI/D,OAAJ,CAAY,MAAZ,IAAsB,CAA1B,EAA6B;AAC5BrB,OAAKyF,IAAL,CAAU,QAAV,EAAoB,uCAApB;AACA;AACA;AACD,KAAIC,YAAY;AACf,cAAYN;AADG,EAAhB;AAGAO,IAAGC,IAAH,CAAQC,OAAR,CAAgB,YAAhB,EAA8BH,SAA9B,EAAyC,UAASI,MAAT,EAAiB;AACzD,MAAIC,SAASC,KAAKC,KAAL,CAAWH,MAAX,CAAb;AACA,MAAIC,OAAO,YAAP,KAAwB,KAAxB,IAAiCA,OAAO,SAAP,KAAqB,CAAtD,IAA2DA,OAAO,UAAP,KAAsB,CAArF,EAAwF;AACvFR,YAASW,IAAT,CAAcZ,IAAd,EAAmBS,OAAO,MAAP,CAAnB,EAAmCP,MAAnC;AACA;AACD,EALD,EAKG,EALH;AAMA,CAdD;;AAgBA;AACAxF,KAAKC,WAAL,CAAiBkG,aAAjB,GAAiC,UAASnB,KAAT,EAAgB;AAChD,KAAIoB,UAAUtD,SAASkC,KAAT,CAAd,CADgD,CACjB;AAC/B,KAAIqB,WAAW,CAAf,CAFgD,CAE9B;AAClB,KAAIC,WAAW,CAAf,CAHgD,CAG9B;AAClB,KAAIF,UAAU,EAAd,EAAkB;AACjBC,aAAWvD,SAASsD,UAAU,EAAnB,CAAX;AACAA,YAAUtD,SAASsD,UAAU,EAAnB,CAAV;AACA,MAAIC,WAAW,EAAf,EAAmB;AAClBC,cAAWxD,SAASuD,WAAW,EAApB,CAAX;AACAA,cAAWvD,SAASuD,WAAW,EAApB,CAAX;AACA;AACD;AACD,KAAIN,SAAS,EAAb;AACA,KAAIK,UAAU,CAAd,EACCL,SAAS,KAAKjD,SAASsD,OAAT,CAAd,CADD,KAGCL,SAAS,MAAMjD,SAASsD,OAAT,CAAf;AACD,KAAIC,YAAY,CAAhB,EAAmB;AAClB,MAAIA,WAAW,CAAf,EACCN,SAAS,KAAKjD,SAASuD,QAAT,CAAL,GAA0B,GAA1B,GAAgCN,MAAzC,CADD,KAGCA,SAAS,MAAMjD,SAASuD,QAAT,CAAN,GAA2B,GAA3B,GAAiCN,MAA1C;AACD;AACD,KAAIO,YAAY,CAAhB,EAAmB;AAClB,MAAIA,WAAW,CAAf,EACCP,SAAS,KAAKjD,SAASwD,QAAT,CAAL,GAA0B,GAA1B,GAAgCP,MAAzC,CADD,KAGCA,SAAS,MAAMjD,SAASwD,QAAT,CAAN,GAA2B,GAA3B,GAAiCP,MAA1C;AACD;AACD,QAAOA,MAAP;AACA,CA9BD;;AAgCA;;;;;;AAMA,IAAIQ,UAAU,mEAAd;;AAEAvG,KAAKC,WAAL,CAAiBuG,YAAjB,GAAgC,UAASC,KAAT,EAAgB;AAC/C,KAAIC,SAAS,EAAb;AACA,KAAIC,IAAJ,EAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,IAAtB,EAA4BC,IAA5B,EAAkCC,IAAlC,EAAwCC,IAAxC;AACA,KAAIxG,IAAI,CAAR;;AAEAgG,SAAQzG,KAAKC,WAAL,CAAiBiH,YAAjB,CAA8BT,KAA9B,CAAR;AACA,KAAInG,MAAMmG,MAAMpG,MAAhB;AACA,QAAOI,IAAIH,GAAX,EAAgB;;AAEfqG,SAAOF,MAAM9F,UAAN,CAAiBF,GAAjB,CAAP;AACAmG,SAAOH,MAAM9F,UAAN,CAAiBF,GAAjB,CAAP;AACAoG,SAAOJ,MAAM9F,UAAN,CAAiBF,GAAjB,CAAP;;AAEAqG,SAAOH,QAAQ,CAAf;AACAI,SAAQ,CAACJ,OAAO,CAAR,KAAc,CAAf,GAAqBC,QAAQ,CAApC;AACAI,SAAQ,CAACJ,OAAO,EAAR,KAAe,CAAhB,GAAsBC,QAAQ,CAArC;AACAI,SAAOJ,OAAO,EAAd;;AAEA,MAAIM,MAAMP,IAAN,CAAJ,EAAiB;AAChBI,UAAOC,OAAO,EAAd;AACA,GAFD,MAEO,IAAIE,MAAMN,IAAN,CAAJ,EAAiB;AACvBI,UAAO,EAAP;AACA;;AAEDP,WAASA,SACRH,QAAQa,MAAR,CAAeN,IAAf,CADQ,GACeP,QAAQa,MAAR,CAAeL,IAAf,CADf,GAERR,QAAQa,MAAR,CAAeJ,IAAf,CAFQ,GAEeT,QAAQa,MAAR,CAAeH,IAAf,CAFxB;AAIA;;AAED,QAAOP,MAAP;AACA,CA/BD;;AAiCA1G,KAAKC,WAAL,CAAiBoH,YAAjB,GAAgC,UAASZ,KAAT,EAAgB;AAC5C,KAAIC,SAAS1G,KAAKC,WAAL,CAAiBqH,eAAjB,CAAiCb,KAAjC,CAAb;AACA,QAAOzG,KAAKC,WAAL,CAAiBsH,YAAjB,CAA8Bb,MAA9B,CAAP;AACH,CAHD;;AAKA;AACA1G,KAAKC,WAAL,CAAiBqH,eAAjB,GAAmC,UAASb,KAAT,EAAgB;;AAElD,KAAIE,IAAJ,EAAUC,IAAV,EAAgBC,IAAhB;AACA,KAAIC,IAAJ,EAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,IAAtB;AACA,KAAIxG,IAAI,CAAR;;AAEAgG,SAAQA,MAAMe,OAAN,CAAc,qBAAd,EAAqC,EAArC,CAAR;AACA,KAAIlH,MAAMmG,MAAMpG,MAAhB;AACA,KAAIqG,SAAS,EAAb;AACA,QAAOjG,IAAIH,GAAX,EAAgB;;AAEfwG,SAAOP,QAAQlF,OAAR,CAAgBoF,MAAMW,MAAN,CAAa3G,GAAb,CAAhB,CAAP;AACAsG,SAAOR,QAAQlF,OAAR,CAAgBoF,MAAMW,MAAN,CAAa3G,GAAb,CAAhB,CAAP;AACAuG,SAAOT,QAAQlF,OAAR,CAAgBoF,MAAMW,MAAN,CAAa3G,GAAb,CAAhB,CAAP;AACAwG,SAAOV,QAAQlF,OAAR,CAAgBoF,MAAMW,MAAN,CAAa3G,GAAb,CAAhB,CAAP;;AAEAkG,SAAQG,QAAQ,CAAT,GAAeC,QAAQ,CAA9B;AACAH,SAAQ,CAACG,OAAO,EAAR,KAAe,CAAhB,GAAsBC,QAAQ,CAArC;AACAH,SAAQ,CAACG,OAAO,CAAR,KAAc,CAAf,GAAoBC,IAA3B;;AAEAP,SAAOe,IAAP,CAAYd,IAAZ;;AAEA,MAAIK,QAAQ,EAAZ,EAAgB;AACfN,UAAOe,IAAP,CAAYb,IAAZ;AACA;AACD,MAAIK,QAAQ,EAAZ,EAAgB;AACfP,UAAOe,IAAP,CAAYZ,IAAZ;AACA;AACD;AACD,QAAOH,MAAP;AACA,CA9BD;;AAgCA;AACA1G,KAAKC,WAAL,CAAiBiH,YAAjB,GAAgC,UAASQ,MAAT,EAAiB;AAChDA,UAASA,OAAOF,OAAP,CAAe,OAAf,EAAwB,IAAxB,CAAT;AACA,KAAIG,UAAU,EAAd;AACA,MAAK,IAAIC,IAAI,CAAR,EAAWtH,MAAMoH,OAAOrH,MAA7B,EAAqCuH,IAAItH,GAAzC,EAA8CsH,GAA9C,EAAmD;AAClD,MAAIC,IAAIH,OAAO/G,UAAP,CAAkBiH,CAAlB,CAAR;AACA,MAAIC,IAAI,GAAR,EAAa;AACZF,cAAW/C,OAAOkD,YAAP,CAAoBD,CAApB,CAAX;AACA,GAFD,MAEO,IAAKA,IAAI,GAAL,IAAcA,IAAI,IAAtB,EAA6B;AACnCF,cAAW/C,OAAOkD,YAAP,CAAqBD,KAAK,CAAN,GAAW,GAA/B,CAAX;AACAF,cAAW/C,OAAOkD,YAAP,CAAqBD,IAAI,EAAL,GAAW,GAA/B,CAAX;AACA,GAHM,MAGA;AACNF,cAAW/C,OAAOkD,YAAP,CAAqBD,KAAK,EAAN,GAAY,GAAhC,CAAX;AACAF,cAAW/C,OAAOkD,YAAP,CAAsBD,KAAK,CAAN,GAAW,EAAZ,GAAkB,GAAtC,CAAX;AACAF,cAAW/C,OAAOkD,YAAP,CAAqBD,IAAI,EAAL,GAAW,GAA/B,CAAX;AACA;AAED;;AAED,QAAOF,OAAP;AACA,CAnBD;;AAqBA;AACA3H,KAAKC,WAAL,CAAiBsH,YAAjB,GAAgC,UAASvF,KAAT,EAAgB;AAC/C,KAAI0F,SAAS,EAAb;AACA,KAAIjH,IAAI,CAAR;AAAA,KAAWgC,EAAX;AAAA,KAAeC,EAAf;AACA,KAAImF,IAAIpF,KAAKC,KAAK,CAAlB;AACA,KAAIpC,MAAM0B,MAAM3B,MAAhB;AACA,QAAOI,IAAIH,GAAX,EAAgB;AACfuH,MAAI7F,MAAMvB,CAAN,CAAJ;AACA,MAAIoH,IAAI,GAAR,EAAa;AACZH,aAAU9C,OAAOkD,YAAP,CAAoBD,CAApB,CAAV;AACApH;AACA,GAHD,MAGO,IAAKoH,IAAI,GAAL,IAAcA,IAAI,GAAtB,EAA4B;AAClCnF,QAAKV,MAAMvB,IAAI,CAAV,CAAL;AACAiH,aAAU9C,OAAOkD,YAAP,CAAqB,CAACD,IAAI,EAAL,KAAY,CAAb,GAAmBnF,KAAK,EAA5C,CAAV;AACAjC,QAAK,CAAL;AACA,GAJM,MAIA;AACNiC,QAAKV,MAAMvB,IAAI,CAAV,CAAL;AACAsH,QAAK/F,MAAMvB,IAAI,CAAV,CAAL;AACAiH,aAAU9C,OAAOkD,YAAP,CAAqB,CAACD,IAAI,EAAL,KAAY,EAAb,GAAoB,CAACnF,KAAK,EAAN,KAAa,CAAjC,GAAuCqF,KAAK,EAAhE,CAAV;AACAtH,QAAK,CAAL;AACA;AACD;AACD,QAAOiH,MAAP;AACA,CAtBD;;AAwBA;;;;;AAKA1H,KAAKC,WAAL,CAAiB+H,kBAAjB,GAAsC,UAASC,KAAT,EAAgBC,MAAhB,EAAwB;AAC7D,KAAIC,UAAUF,MAAM,QAAN,EAAgB,QAAhB,CAAd;AACA,KAAIE,WAAWD,MAAf,EAAuB;AACtBlI,OAAKyF,IAAL,CAAU,QAAV,EAAoB,aAApB;AACA,SAAO,IAAP;AACA;AACD,QAAO,KAAP;AACA,CAPD;;AASA;;;;;AAKAzF,KAAKC,WAAL,CAAiBmI,UAAjB,GAA8B,YAAY;AACzC,KAAI5H,IAAI,EAAR;AACA,KAAI6H,YAAY,kBAAhB;AACA,MAAK,IAAI5H,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAC5BD,IAAEC,CAAF,IAAO4H,UAAU7G,MAAV,CAAiBuB,KAAKuF,KAAL,CAAWvF,KAAKwF,MAAL,KAAgB,IAA3B,CAAjB,EAAmD,CAAnD,CAAP;AACA;AACD/H,GAAE,EAAF,IAAQ,GAAR,CANyC,CAM3B;AACdA,GAAE,EAAF,IAAQ6H,UAAU7G,MAAV,CAAkBhB,EAAE,EAAF,IAAQ,GAAT,GAAgB,GAAjC,EAAsC,CAAtC,CAAR,CAPyC,CAOU;AACnDA,GAAE,CAAF,IAAOA,EAAE,EAAF,IAAQA,EAAE,EAAF,IAAQA,EAAE,EAAF,IAAQ,EAA/B;;AAEA,KAAIgI,OAAOhI,EAAEiI,IAAF,CAAO,EAAP,CAAX;AACA,QAAOD,IAAP;AACA,CAZD;;AAcAxI,KAAKC,WAAL,CAAiByI,YAAjB,GAAgC,YAAY;;AAE3C,KAAIC,aAAa3I,KAAKC,WAAL,CAAiB0E,0BAAjB,CAA4C3E,KAAK4I,cAAjD,EAAiE,EAAjE,CAAjB;AACA,KAAI,CAACD,UAAL,EAAgB;AACfA,eAAa3I,KAAKC,WAAL,CAAiBmI,UAAjB,EAAb;AACApI,OAAKC,WAAL,CAAiB8E,iBAAjB,CAAmC/E,KAAK4I,cAAxC,EAAwDD,UAAxD;AACA;AACD,QAAOA,UAAP;AACA,CARD;;AAUA3I,KAAKC,WAAL,CAAiB4I,cAAjB,GAAkC,YAAW;AAC5C,KAAIF,aAAa3I,KAAKC,WAAL,CAAiB0E,0BAAjB,CAA4C3E,KAAK4I,cAAjD,EAAiE,EAAjE,CAAjB;AACA,QAAOD,cAAc,EAArB;AACA,CAHD;;AAKA;AACA3I,KAAKC,WAAL,CAAiB6I,qBAAjB,GAAyC,UAASC,MAAT,EAAiB;AACzD,QAAQhG,KAAKuF,KAAL,CAAWvF,KAAKwF,MAAL,KAAc,KAAzB,CAAD,GAAkCQ,MAAzC;AACA,CAFD;AAGA;AACA/I,KAAKC,WAAL,CAAiB+I,iCAAjB,GAAqD,UAASC,SAAT,EAAoB;AACxE,KAAIC,eAAelJ,KAAKC,WAAL,CAAiB6I,qBAAjB,CAAuC,GAAvC,CAAnB;AACA,KAAIK,WAAW,CAAf;AACA,KAAGF,aAAaA,UAAU5I,MAAvB,IAAiC4I,UAAU5I,MAAV,GAAmB,CAAvD,EAAyD;AACxD,SAAO6I,eAAeD,UAAUE,QAAV,EAAoBC,MAA1C,EAAiD;AAChDF,mBAAgBD,UAAUE,QAAV,EAAoBC,MAApC;AACAD;AACA,OAAGA,YAAYF,UAAU5I,MAAzB,EAAgC;AAC/B8I,eAAW,CAAX;AACA;AACD;AACD;AACD,QAAOA,QAAP;AACA,CAbD;AAcA;AACAnJ,KAAKC,WAAL,CAAiBoJ,sBAAjB,GAA0C,UAAS3B,MAAT,EAAiB;AAC1D,KAAI4B,YAAY,GAAGC,MAAH,CAAU7B,MAAV,CAAhB;AACA,KAAI8B,aAAaC,KAAKC,KAAL,CAAWC,mBAA5B;AACA,MAAK,IAAIxF,GAAT,IAAgBqF,UAAhB,EAA2B;AAC1B,MAAII,MAAM,IAAIC,MAAJ,CAAW1F,GAAX,EAAe,GAAf,CAAV;AACAmF,cAAYA,UAAU9B,OAAV,CAAkBoC,GAAlB,EAAsBJ,WAAWrF,GAAX,CAAtB,CAAZ;AACA;AACD,QAAOmF,SAAP;AACA,CARD;AASA;AACAtJ,KAAKC,WAAL,CAAiB6J,sBAAjB,GAA0C,UAASC,GAAT,EAAc;AACvD,QAAQ,WAAW/D,KAAKgE,SAAL,CAAeD,GAAf,CAAnB;AACA,CAFD;AAGA;AACA/J,KAAKC,WAAL,CAAiBgK,yBAAjB,GAA6C,UAASC,WAAT,EAAsB;AAClE,KAAIC,QAAQ,CAACD,cAAY,GAAb,EAAkBE,OAAlB,CAA0B,CAA1B,IAA8B,EAA1C;AACA,QAAOD,KAAP;AACA,CAHD;;AAKAnK,KAAKC,WAAL,CAAiBoK,aAAjB,GAAiC,UAAUvI,GAAV,EAAe;AAC/C,MAAK,IAAIwI,IAAT,IAAiBxI,GAAjB,EAAsB;AACrB,SAAO,KAAP;AACA;AACD,QAAO,IAAP;AACA,CALD;;AAOA;;;;;AAKA9B,KAAKC,WAAL,CAAiBsK,kBAAjB,GAAsC,UAAUC,UAAV,EAAsBvI,IAAtB,EAA4B;AACjEqB,IAAGmH,MAAH,CAAUC,OAAV,CAAkBF,UAAlB,EAA8B,UAAUG,GAAV,EAAeC,MAAf,EAAuB;AACpD,MAAIC,aAAavH,GAAGwH,WAAH,CAAeF,MAAf,CAAjB;AACAtH,KAAGyH,QAAH,CAAYC,QAAZ,GAAuBC,QAAvB,CAAgCJ,UAAhC;AACApB,OAAKxJ,WAAL,CAAiBiL,WAAjB,CAA6BL,UAA7B;AACA;AACA;AACA;AACA5I,OAAK4I,UAAL;AACA,EARD;AASA,CAVD;;AAYA;;;;;AAKA7K,KAAKC,WAAL,CAAiBkL,SAAjB,GAA6B,UAAUC,QAAV,EAAoB;AAChD,KAAI,CAACA,QAAL,EAAe;AACd,SAAO,IAAP;AACA;AACD,KAAIC,OAAJ;AACA,MAAK,IAAIlH,GAAT,IAAgBwB,GAAG2F,UAAH,CAAcC,SAA9B,EAAwC;AACvCF,YAAU1F,GAAG2F,UAAH,CAAcC,SAAd,CAAwBpH,GAAxB,CAAV;AACA,MAAIiH,SAAS/J,OAAT,CAAiBgK,OAAjB,IAA4B,CAAC,CAAjC,EAAmC;AAClC,UAAO,IAAP;AACA;AACD;AACD,QAAO,KAAP;AACA,CAZD;AAaA;AACA;AACArL,KAAKC,WAAL,CAAiBuL,cAAjB,GAAkC,UAAUC,IAAV,EAAeC,KAAf,EAAqB;AACtDD,MAAKE,cAAL;AACA,KAAIC,UAAUtI,GAAGuI,OAAH,CAAW,GAAX,EAAgBH,KAAhB,EAAuBA,KAAvB,CAAd;AACA,KAAII,UAAUxI,GAAGuI,OAAH,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,CAAd;AACA,KAAIE,QAAQzI,GAAG0I,SAAH,CAAa,GAAb,CAAZ;AACA,KAAIC,OAAO3I,GAAG4I,QAAH,CAAYN,OAAZ,EAAqBE,OAArB,EAA6BF,OAA7B,EAAsCE,OAAtC,EAA8CC,KAA9C,CAAX;AACAN,MAAKU,SAAL,CAAeF,KAAKG,aAAL,EAAf;AACA,CAPD;AAQA;AACA;AACApM,KAAKC,WAAL,CAAiBoM,kBAAjB,GAAsC,UAAUZ,IAAV,EAAeC,KAAf,EAAqB;AAC1DD,MAAKA,IAAL,CAAUE,cAAV;AACA,KAAIC,UAAUtI,GAAGuI,OAAH,CAAW,GAAX,EAAgBH,KAAhB,EAAuBA,KAAvB,CAAd;AACA,KAAII,UAAUxI,GAAGuI,OAAH,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,CAAd;AACA;AACA,KAAII,OAAO3I,GAAG4I,QAAH,CAAYN,OAAZ,EAAqBE,OAArB,CAAX;AACAL,MAAKA,IAAL,CAAUU,SAAV,CAAoBF,IAApB;AACA,CAPD;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAjM,KAAKC,WAAL,CAAiBqM,IAAjB,GAAwB,kBAAxB","file":"GlobalFuncs.js","sourceRoot":"../../../../../assets/Script/hall","sourcesContent":["\nhall.GlobalFuncs = {};\nhall.SceneGather = [];  // scene jihe\n\nhall.GlobalFuncs.sliceStringToLength = function(str, length) { //先算出整个字符串的长度，并获得第length - 2个字符串的位置，给\"..\"留2个位置\n\tif(!str) {\n\t\treturn str;\n\t}\n\tvar len = 0;\n\tvar tmp = 0;\n\tvar s;\n\tfor (var i = 0; i < str.length; i++) {\n\t\tvar charCode = str.charCodeAt(i);\n\t\tif (charCode >= 0 && charCode <= 128) {\n\t\t\ttmp += 1;\n\t\t} else { // 如果是中文则长度加2\n\t\t\ttmp += 2;\n\t\t}\n\t\tif (tmp <= length - 2) {\n\t\t\tlen++;\n\t\t}\n\t}\n\tif (tmp <= length) {\n\t\ts = str.slice(0);\n\t} else {\n\t\ts = str.slice(0, len);\n\t\ts += \"..\";\n\t}\n\treturn s;\n};\n\n// 规划金币\nhall.GlobalFuncs.formatGold = function(score){\n\tif(!score){\n\t\treturn \"0\";\n\t}\n\tvar tar = \"\";\n\tif (score < 0){\n\t\ttar = \"-\";\n\t\tscore = -score;\n\t}\n\tvar scoreText = \"\";\n\tvar arr;\n\tvar endStr;\n\tvar sp;\n\tvar isInteger = false;\n\tif (score < 10000){\n\t\tscoreText = score + \"\";\n\t}else if (score >= 10000 && score < 100000000) {\n\t\tscoreText = (score / 10000) + \"\";\n\t\tif (scoreText.indexOf(\".\") == -1){\n\t\t\tisInteger = true;\n\t\t\tscoreText += \".000\";\n\t\t}else {\n\t\t\tisInteger = false;\n\t\t\tscoreText += \"000\";\n\t\t}\n\t\tarr = scoreText.split(\".\");\n\t\tvar wanStr = arr[0];\n\t\tsp = 1;\n\t\tif (wanStr.length == 1){\n\t\t\tsp = 2;\n\t\t}\n\t\telse if (wanStr.length == 2){\n\t\t\tsp = 1;\n\t\t}\n\t\telse if (wanStr.length == 3){\n\t\t\tsp = 0;\n\t\t}\n\t\telse if (wanStr.length == 4){\n\t\t\tsp = 0;\n\t\t}\n\t\tendStr = arr[1].substr(0,sp);\n\t\tscoreText = wanStr + \".\" + endStr + \"万\";\n\t\tif (sp == 0 || isInteger) {\n\t\t\tscoreText = wanStr + \"万\";\n\t\t}\n\n\t}else {\n\t\tscoreText = (score / 100000000) + \"\";\n\n\t\tif (scoreText.indexOf(\".\") == -1){\n\t\t\tisInteger = true;\n\t\t\tscoreText += \".000\";\n\t\t}\n\t\telse{\n\t\t\tisInteger = false;\n\t\t\tscoreText += \"000\";\n\t\t}\n\n\t\tarr =  scoreText.split(\".\");\n\n\t\tvar yiStr = arr[0];\n\t\tsp = 1;\n\t\tif (yiStr.length == 1){\n\t\t\tsp = 2;\n\t\t}\n\t\telse if (yiStr.length == 2){\n\t\t\tsp = 1;\n\t\t}\n\t\telse if (yiStr.length == 3){\n\t\t\tsp = 0;\n\t\t}\n\t\telse{\n\t\t\tsp = 0;\n\t\t}\n\n\t\tendStr = arr[1].substr(0,sp);\n\n\t\tscoreText = yiStr + \".\" + endStr + \"亿\";\n\t\tif (sp == 0 || isInteger) {\n\t\t\tscoreText = yiStr + \"亿\";\n\t\t}\n\t}\n\treturn tar + scoreText;\n};\n\nhall.GlobalFuncs.PrintArray = function(arr) {\n\tvar s = \"\";\n\tfor (var index = 0; index < arr.length; index++) {\n\t\ts += arr[index];\n\t\ts += \" \";\n\t}\n\thall.LOGD(null, 'global', s);\n};\n\nhall.GlobalFuncs.FindInArray = function(arr, obj) {\n\tvar len = arr.length;\n\tfor (var index = 0; index < len; index++) {\n\t\tif (arr[index] === obj) {\n\t\t\treturn index;\n\t\t}\n\t}\n\treturn -1;\n};\n\nhall.GlobalFuncs.FindInArrayBuFun = function(array, func) { //array.find是ECMA2015才提供，可能在一些设备上不支持\n    for (var i = 0, len = array.length; i < len; i++) {\n        var element = array[i];\n        if (func(element)) {\n            return element;\n        }\n    }\n    return null;\n};\n\nhall.GlobalFuncs.GetSubArrayExceptIndex = function(arr, indexs) {\n\tvar newarr = arr.slice(0);\n\tindexs.sort(hall.GlobalFuncs.SortNumberFunc);\n\tfor (var i = indexs.length - 1; i >= 0; i--) {\n\t\tnewarr.splice(indexs[i], 1);\n\t}\n\treturn newarr;\n};\n\nhall.GlobalFuncs.SortNumberFunc = function(c1, c2) { //数字数组， 从小到大排列的排序函数\n\treturn c1 - c2;\n};\n\n//根据经验判断当前处于多少级\nhall.GlobalFuncs.GetLevelByExp = function(exp) {\n\tvar level = 0;\n\twhile (exp > 0) {\n\t\texp -= parseInt(5 * Math.pow(level, 3.5) + 3 * Math.pow(level, 1.5) + 50);\n\t\tlevel++;\n\t}\n\treturn level - 1;\n};\n\n//是指升到level级时候的总经验, level必须大于0\nhall.GlobalFuncs.GetExpByLevel = function(level) {\n\tvar exp = 0;\n\tfor (var i = 0; i < level; i++) {\n\t\texp += parseInt(5 * Math.pow(i - 1, 3.5) + 3 * Math.pow(i - 1, 1.5) + 50);\n\t}\n\treturn exp;\n};\n\nhall.GlobalFuncs.ChangeSpriteTexure = function(sprite, texureName) { //用setSpriteFrame一定会自动适应大小，如果需要强制不改变大小，需要设置scale，这会导致变形，所以去掉bAdjustSize参数\n\tvar frme = cc.spriteFrameCache.getSpriteFrame(texureName);\n    if(frme)\n        sprite.setSpriteFrame(frme);\n};\n\nhall.GlobalFuncs.ChangeSpriteTexureWithSize = function(sprite, texureName, size) { //强制拉伸缩放frame自动适应大小，可能会导致扭曲，为了尽量少改动代码，不在上面方法增加参数，而是新建一个方法\n\tvar frme = cc.spriteFrameCache.getSpriteFrame(texureName);\n\tvar f_size = frme.getOriginalSize();\n\tsprite.setScaleX(size.width / f_size.width);\n\tsprite.setScaleY(size.height / f_size.height);\n\tsprite.setSpriteFrame(frme);\n};\n\nhall.GlobalFuncs.ReadBoolFromLocalStorage = function(key, def_value) {\n\tif(!cc.sys.localStorage.getItem) {\n\t\treturn def_value;\n\t}\n\tvar tmp = cc.sys.localStorage.getItem(key);\n\tif (!tmp) {\n\t\treturn def_value;\n\t}\n\tvar bv = tmp === \"true\" ? true : false;\n\treturn bv;\n};\n\nhall.GlobalFuncs.ReadNumFromLocalStorage = function(key, def_value) {\n\tif(!cc.sys.localStorage.getItem) {\n\t\treturn def_value;\n\t}\n\tvar tmp = cc.sys.localStorage.getItem(key);\n\tif (!tmp) {\n\t\treturn def_value;\n\t}\n\treturn Number(tmp);\n};\n\nhall.GlobalFuncs.ReadStringFromLocalStorage = function(key, def_value) {\n\tif(!cc.sys.localStorage.getItem) {\n\t\treturn def_value;\n\t}\n\tvar tmp = cc.sys.localStorage.getItem(key);\n\tif (!tmp) {\n\t\treturn def_value;\n\t}\n\treturn String(tmp);\n};\nhall.GlobalFuncs.ReadValueFromLocalStorage = function(key, def_value) {\n\tif(!cc.sys.localStorage.getItem) {\n\t\treturn def_value;\n\t}\n\tvar tmp = cc.sys.localStorage.getItem(key);\n\tif (!tmp) {\n\t\treturn def_value;\n\t}\n\treturn Array(tmp);\n};\n\n\nhall.GlobalFuncs.setInLocalStorage = function(key, value){\n\ttry{\n\t\tcc.sys.localStorage.setItem(key, value+\"\");\n\t}catch(e){}\n};\n\nhall.GlobalFuncs.DownloadImg = function(url, filePath, cobj, callback, params) {\n\tif (url.indexOf('http') < 0) {\n\t\thall.LOGE('global', 'Invalid url to download, return!!!!!!');\n\t\treturn;\n\t}\n\tvar configObj = {\n\t\t'imageUrl': url\n\t};\n\tty.Http.httpGet(\"proxyImage\", configObj, function(retObj) {\n\t\tvar result = JSON.parse(retObj);\n\t\tif (result[\"statusCode\"] == \"200\" && result[\"openErr\"] != 1 && result[\"writeErr\"] != 1) {\n\t\t\tcallback.call(cobj,result[\"path\"], params);\n\t\t}\n\t}, \"\");\n};\n\n//格式化秒 00:00:00 value ---秒\nhall.GlobalFuncs.formatSeconds = function(value) {\n\tvar theTime = parseInt(value); // 秒\n\tvar theTime1 = 0; // 分\n\tvar theTime2 = 0; // 小时\n\tif (theTime > 60) {\n\t\ttheTime1 = parseInt(theTime / 60);\n\t\ttheTime = parseInt(theTime % 60);\n\t\tif (theTime1 > 60) {\n\t\t\ttheTime2 = parseInt(theTime1 / 60);\n\t\t\ttheTime1 = parseInt(theTime1 % 60);\n\t\t}\n\t}\n\tvar result = \"\";\n\tif (theTime > 9)\n\t\tresult = \"\" + parseInt(theTime);\n\telse\n\t\tresult = \"0\" + parseInt(theTime);\n\tif (theTime1 >= 0) {\n\t\tif (theTime1 > 9)\n\t\t\tresult = \"\" + parseInt(theTime1) + \":\" + result;\n\t\telse\n\t\t\tresult = \"0\" + parseInt(theTime1) + \":\" + result;\n\t}\n\tif (theTime2 >= 0) {\n\t\tif (theTime2 > 9)\n\t\t\tresult = \"\" + parseInt(theTime2) + \":\" + result;\n\t\telse\n\t\t\tresult = \"0\" + parseInt(theTime2) + \":\" + result;\n\t}\n\treturn result;\n};\n\n/**\n *\n *  Base64 encode / decode\n *  http://www.webtoolkit.info/\n *\n **/\nvar _keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nhall.GlobalFuncs.base64encode = function(input) {\n\tvar output = \"\";\n\tvar chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n\tvar i = 0;\n\n\tinput = hall.GlobalFuncs._utf8_encode(input);\n\tvar len = input.length;\n\twhile (i < len) {\n\n\t\tchr1 = input.charCodeAt(i++);\n\t\tchr2 = input.charCodeAt(i++);\n\t\tchr3 = input.charCodeAt(i++);\n\n\t\tenc1 = chr1 >> 2;\n\t\tenc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n\t\tenc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n\t\tenc4 = chr3 & 63;\n\n\t\tif (isNaN(chr2)) {\n\t\t\tenc3 = enc4 = 64;\n\t\t} else if (isNaN(chr3)) {\n\t\t\tenc4 = 64;\n\t\t}\n\n\t\toutput = output +\n\t\t\t_keyStr.charAt(enc1) + _keyStr.charAt(enc2) +\n\t\t\t_keyStr.charAt(enc3) + _keyStr.charAt(enc4);\n\n\t}\n\n\treturn output;\n};\n\nhall.GlobalFuncs.base64decode = function(input) {\n    var output = hall.GlobalFuncs.base64decodeRaw(input);\n    return hall.GlobalFuncs._utf8_decode(output);\n};\n\n// public method for decoding\nhall.GlobalFuncs.base64decodeRaw = function(input) {\n\t\n\tvar chr1, chr2, chr3;\n\tvar enc1, enc2, enc3, enc4;\n\tvar i = 0;\n\n\tinput = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\tvar len = input.length;\n\tvar output = [];\n\twhile (i < len) {\n\n\t\tenc1 = _keyStr.indexOf(input.charAt(i++));\n\t\tenc2 = _keyStr.indexOf(input.charAt(i++));\n\t\tenc3 = _keyStr.indexOf(input.charAt(i++));\n\t\tenc4 = _keyStr.indexOf(input.charAt(i++));\n\n\t\tchr1 = (enc1 << 2) | (enc2 >> 4);\n\t\tchr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n\t\tchr3 = ((enc3 & 3) << 6) | enc4;\n\n\t\toutput.push(chr1);\n\n\t\tif (enc3 != 64) {\n\t\t\toutput.push(chr2);\n\t\t}\n\t\tif (enc4 != 64) {\n\t\t\toutput.push(chr3);\n\t\t}\n\t}\n\treturn output;\n};\n\n// private method for UTF-8 encoding\nhall.GlobalFuncs._utf8_encode = function(string) {\n\tstring = string.replace(/\\r\\n/g, \"\\n\");\n\tvar utftext = \"\";\n\tfor (var n = 0, len = string.length; n < len; n++) {\n\t\tvar c = string.charCodeAt(n);\n\t\tif (c < 128) {\n\t\t\tutftext += String.fromCharCode(c);\n\t\t} else if ((c > 127) && (c < 2048)) {\n\t\t\tutftext += String.fromCharCode((c >> 6) | 192);\n\t\t\tutftext += String.fromCharCode((c & 63) | 128);\n\t\t} else {\n\t\t\tutftext += String.fromCharCode((c >> 12) | 224);\n\t\t\tutftext += String.fromCharCode(((c >> 6) & 63) | 128);\n\t\t\tutftext += String.fromCharCode((c & 63) | 128);\n\t\t}\n\n\t}\n\n\treturn utftext;\n};\n\n// private method for UTF-8 decoding\nhall.GlobalFuncs._utf8_decode = function(array) {\n\tvar string = \"\";\n\tvar i = 0, c1, c2;\n\tvar c = c1 = c2 = 0;\n\tvar len = array.length;\n\twhile (i < len) {\n\t\tc = array[i];\n\t\tif (c < 128) {\n\t\t\tstring += String.fromCharCode(c);\n\t\t\ti++;\n\t\t} else if ((c > 191) && (c < 224)) {\n\t\t\tc2 = array[i + 1];\n\t\t\tstring += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n\t\t\ti += 2;\n\t\t} else {\n\t\t\tc2 = array[i + 1];\n\t\t\tc3 = array[i + 2];\n\t\t\tstring += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n\t\t\ti += 3;\n\t\t}\n\t}\n\treturn string;\n};\n\n/**\n * 校验消息是否是当前游戏的\n * param - json对象\n * gameId - 待比较的游戏gameId\n */\nhall.GlobalFuncs.checkMsgWithGameId = function(param, gameId) {\n\tvar pgameId = param['result']['gameId'];\n\tif (pgameId == gameId) {\n\t\thall.LOGE('global', 'EQUAL!!!!!!');\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n/**\n * 生成32位的UUID\n * @returns {string}\n * @constructor\n */\nhall.GlobalFuncs.CreateUuid = function () {\n\tvar s = [];\n\tvar hexDigits = \"0123456789abcdef\";\n\tfor (var i = 0; i < 36; i++) {\n\t\ts[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n\t}\n\ts[14] = \"4\";  // bits 12-15 of the time_hi_and_version field to 0010\n\ts[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\n\ts[8] = s[13] = s[18] = s[23] = \"\";\n\n\tvar uuid = s.join(\"\");\n\treturn uuid;\n};\n\nhall.GlobalFuncs.getLocalUuid = function () {\n\n\tvar local_uuid = hall.GlobalFuncs.ReadStringFromLocalStorage(hall.LOCAL_UUID_KEY, \"\");\n\tif (!local_uuid){\n\t\tlocal_uuid = hall.GlobalFuncs.CreateUuid();\n\t\thall.GlobalFuncs.setInLocalStorage(hall.LOCAL_UUID_KEY, local_uuid)\n\t}\n\treturn local_uuid;\n};\n\nhall.GlobalFuncs.checkLocalUUID = function() {\n\tvar local_uuid = hall.GlobalFuncs.ReadStringFromLocalStorage(hall.LOCAL_UUID_KEY, \"\");\n\treturn local_uuid != \"\";\n};\n\n//返回一个1000以内小于number的数\nhall.GlobalFuncs.getRandomNumberBefore = function(number) {\n\treturn (Math.floor(Math.random()*10000))%number;\n};\n//返回一个100以内小于number的数\nhall.GlobalFuncs.getShareRandomNumberWithShareList = function(shareList) {\n\tvar returnRandom = hall.GlobalFuncs.getRandomNumberBefore(100) ;\n\tvar nowIndex = 0;\n\tif(shareList && shareList.length && shareList.length > 0){\n\t\twhile (returnRandom > shareList[nowIndex].weight){\n\t\t\treturnRandom -= shareList[nowIndex].weight;\n\t\t\tnowIndex ++ ;\n\t\t\tif(nowIndex >= shareList.length){\n\t\t\t\tnowIndex = 0;\n\t\t\t}\n\t\t}\n\t}\n\treturn nowIndex;\n};\n//用关键字替换文本\nhall.GlobalFuncs.replaceKeyWordInString = function(string) {\n\tvar repString = \"\".concat(string);\n\tvar replaceMap = shot.Share.shareKeywordReplace;\n\tfor (var key in replaceMap){\n\t\tvar reg = new RegExp(key,\"g\");\n\t\trepString = repString.replace(reg,replaceMap[key]);\n\t}\n\treturn repString;\n};\n//字典转换成字符串(打点)\nhall.GlobalFuncs.replaceToStringWithDic = function(dic) {\n\treturn  \"query:\" + JSON.stringify(dic);\n};\n//返回一个保留2位小数的数字字符串\nhall.GlobalFuncs.getMoneyStringWithCoupons = function(couponCount) {\n\tvar money = (couponCount/100).toFixed(2) +\"\";\n\treturn money;\n};\n\nhall.GlobalFuncs.isEmptyObject = function (obj) {\n\tfor (var name in obj) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\n/**\n * 从预制件加载弹窗\n * @param preFabPath 预制件路径\n * @param func 回调\n */\nhall.GlobalFuncs.showPopWinByPreFab = function (preFabPath, func) {\n\tcc.loader.loadRes(preFabPath, function (err, prefab) {\n\t\tvar preFabNode = cc.instantiate(prefab);\n\t\tcc.director.getScene().addChild(preFabNode);\n\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t\t// if (preFabPath == \"ani/ddz_matching/Matching\"){\n\t\t//     preFabNode.y += 160;\n\t\t// }\n\t\tfunc(preFabNode);\n\t});\n};\n\n/**\n * 检查城市名是否为北上广深\n * @param cityName 城市名\n * @returns {boolean}\n */\nhall.GlobalFuncs.checkBSGS = function (cityName) {\n\tif (!cityName) {\n\t\treturn true\n\t}\n\tvar keyWord;\n\tfor (var key in ty.SystemInfo.bsgsCitys){\n\t\tkeyWord = ty.SystemInfo.bsgsCitys[key];\n\t\tif (cityName.indexOf(keyWord) > -1){\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n// 按钮缩放,放大特效\n// 按钮特效 scale 缩放大小\nhall.GlobalFuncs.btnScaleEffect = function (node,scale){\n\tnode.stopAllActions();\n\tvar scale_1 = cc.scaleTo(0.2, scale, scale);\n\tvar scale_2 = cc.scaleTo(0.2, 1, 1);\n\tvar delay = cc.delayTime(1.3);\n\tvar seq1 = cc.sequence(scale_1, scale_2,scale_1, scale_2,delay);\n\tnode.runAction(seq1.repeatForever());\n};\n// 按钮缩放,放大特效\n// 按钮特效 scale 缩放大小\nhall.GlobalFuncs.btnScaleEffectOnce = function (node,scale){\n\tnode.node.stopAllActions();\n\tvar scale_1 = cc.scaleTo(0.2, scale, scale);\n\tvar scale_2 = cc.scaleTo(0.2, 1, 1);\n\t// var delay = cc.delayTime(1.3);\n\tvar seq1 = cc.sequence(scale_1, scale_2);\n\tnode.node.runAction(seq1);\n};\n\n// hall.GlobalFuncs.waggleEffect = function (node,originX,originY){\n// \tnode.stopAllActions();\n// \tvar scale_1 = cc.moveTo(0.05, cc.p(originX+50,originY+50));\n// \tvar scale_2 = cc.moveTo(0.05, cc.p(originX,originY));\n// \tvar seq1 = cc.sequence(scale_1, scale_2);\n// \tnode.runAction(seq1.repeat(5));\n// };\n\nhall.GlobalFuncs._TAG = \"hall.GlobalFuncs\";"]}