{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/window/assets/Script/ComponentScript/window/shot_prop.js"],"names":["cc","Class","extends","Component","properties","titleLabel","default","type","RichText","doubleHitNode","Node","doubleHitLabel","Label","propName","descText","centerBtn","Button","propSprite","Sprite","propSpriteList","SpriteFrame","boxId","getType","btnText","tips","onLoad","hall","GlobalFuncs","btnScaleEffect","node","state","ty","NotificationCenter","listen","shot","EventType","UPDATE_INFINITEBULLET_NUMBER","updateInfiniteByllet","UPDATE_LASERAIMING_NUMBER","updateLaserAiming","UPDATE_GRENADE_NUMBER","updateGrenadeAiming","UPDATE_SHARE_STATE","playAnimationAfterShareWithType","REWARD_VIDEO_COMPLETE","rewardVideoComplete","REWARD_VIDEO_COMPLETE_ERROR","rewardVideoCompleteError","shareType","LOGW","reultType","Share","resultType","onShareType","clickStatShareTypeLight","clickStatShareTypeBullet","clickStatShareTypeBulletGetReward","clickStatShareTypeLightGetReward","clickStatShareTypeGrenade","clickStatShareTypeGrenadeGetReward","_config","GameWorld","gunnerShareSchemeConfig","boxShareGetProp","UserInfo","isInBSGS","MsgBoxManager","showToast","title","clickStatShareTypeComboContinue","comboContinue","onClose","doubleHitCount","doubleHitCountBest","doubleHitContinueTime","doubleHitCountDownTime","trigger","STOP_DOUBLEHIT_COUNTDOWN","string","ME","udataInfo","infiniteBulletCount","laserAimingCount","grenadeCount","updateToDoubleHitContinue","active","toolUserTimeConfig","comboContinueTime","changeGetType","updateInfo","result","itemId","spriteFrame","propertyConfig","infiniteBullet","time","shareKeywordReplace","getTypeConfig","propType","combo","getItem","typeList","bsgs","nBsgs","gameModel","getAllCheckConfig","adManager","canPlay","length","onClickCenterBtn","shareWithType","showRewardedVideo","shareToGetreward","SharePointType","getGrenade","getBullet","isEnd","rewardedVideoType","errorMsg","stopAllActions","destroy","onBlack","onDestroy","ignoreScope","unscheduleAllCallbacks"],"mappings":"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","file":"shot_prop.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/window","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        titleLabel : {\n            default : null,\n            type : cc.RichText\n        },\n        doubleHitNode : {\n            default : null,\n            type : cc.Node\n        },\n        doubleHitLabel : {\n            default : null,\n            type : cc.Label\n        },\n\n        propName:cc.RichText,\n        descText:cc.Label,\n        centerBtn:cc.Button,\n        propSprite:cc.Sprite,\n        propSpriteList : [cc.SpriteFrame],\n        boxId:\"\",\n        getType : \"\",\n        btnText:cc.RichText,\n        tips:cc.Label\n    },\n\n    onLoad:function(){\n        hall.GlobalFuncs.btnScaleEffect(this.centerBtn.node,1.13);\n        this.state = 0;\n        ty.NotificationCenter.listen(shot.EventType.UPDATE_INFINITEBULLET_NUMBER,this.updateInfiniteByllet, this);\n        ty.NotificationCenter.listen(shot.EventType.UPDATE_LASERAIMING_NUMBER,this.updateLaserAiming, this);\n        ty.NotificationCenter.listen(shot.EventType.UPDATE_GRENADE_NUMBER,this.updateGrenadeAiming, this);\n        ty.NotificationCenter.listen(shot.EventType.UPDATE_SHARE_STATE, this.playAnimationAfterShareWithType, this);\n        ty.NotificationCenter.listen(shot.EventType.REWARD_VIDEO_COMPLETE,this.rewardVideoComplete, this);\n        ty.NotificationCenter.listen(shot.EventType.REWARD_VIDEO_COMPLETE_ERROR,this.rewardVideoCompleteError, this);\n    },\n\n    playAnimationAfterShareWithType : function (shareType) {\n        hall.LOGW(\"\",\"file = [shot_prop] fun = [playAnimationAfterShareWithType]  ===\"+shareType);\n        var reultType = shot.Share.resultType;\n        if (shareType && (shareType == shot.Share.onShareType.clickStatShareTypeLight ||\n            shareType == shot.Share.onShareType.clickStatShareTypeBullet ||\n            shareType == shot.Share.onShareType.clickStatShareTypeBulletGetReward ||\n            shareType == shot.Share.onShareType.clickStatShareTypeLightGetReward||\n            shareType == shot.Share.onShareType.clickStatShareTypeGrenade ||\n            shareType == shot.Share.onShareType.clickStatShareTypeGrenadeGetReward)) {\n\n            var _config = shot.GameWorld.gunnerShareSchemeConfig;\n            if (_config && _config.boxShareGetProp && !ty.UserInfo.isInBSGS){\n                switch (reultType) {\n                    case 1:\n                        hall.MsgBoxManager.showToast({title : '分享到群才有效哦~'});\n                        break;\n                    case 2:\n                        hall.MsgBoxManager.showToast({title : '这个群今天已经打扰过了哦~'});\n                        break;\n                    case 3:\n                        hall.MsgBoxManager.showToast({title : '分享成功'});\n                        break;\n                    default:\n                        // hall.MsgBoxManager.showToast({title : \"出现错误\"+reultType});\n                        hall.MsgBoxManager.showToast({title : \"分享失败\"});\n                        break;\n                }\n            }else{\n                switch (reultType) {\n                    case 0:\n                        hall.MsgBoxManager.showToast({title : \"快进群点击分享卡片抢道具吧~\"});\n                        break;\n                    case 1:\n                        hall.MsgBoxManager.showToast({title : '进群抢才有效哦~'});\n                        break;\n                    case 2:\n                        hall.MsgBoxManager.showToast({title : '进入不同群可以抢更多道具哦~'});\n                        break;\n                    case 3:\n                        hall.MsgBoxManager.showToast({title : \"快进群点击分享卡片抢道具吧~\"});\n                        break;\n                    default:\n                        // hall.MsgBoxManager.showToast({title : \"出现错误\"+reultType});\n                        hall.MsgBoxManager.showToast({title : \"分享失败\"});\n                        break;\n                }\n            }\n            shot.Share.resultType = 0;\n        }\n        if( shareType == shot.Share.onShareType.clickStatShareTypeComboContinue){\n            switch (reultType) {\n                // case 0:\n                //     // hall.MsgBoxManager.showToast({title : \"分享成功才有效哦\"});\n                //     break;\n                case 1:\n                    hall.MsgBoxManager.showToast({title : '分享到不同群才有效哦'});\n                    break;\n                case 2:\n                    hall.MsgBoxManager.showToast({title : '分享到不同群才有效哦'});\n                    break;\n                case 3:\n                    this.comboContinue();\n                    break;\n                default:\n                    hall.MsgBoxManager.showToast({title : '分享失败'});\n                    break;\n            }\n        shot.Share.resultType = 0;\n        }\n        this.onClose();\n    },\n\n    comboContinue : function () {\n        shot.GameWorld.doubleHitCount = shot.GameWorld.doubleHitCountBest;\n        hall.MsgBoxManager.showToast({\"title\":\"成功恢复至\"+shot.GameWorld.doubleHitCount +\"连击!\"});\n        shot.GameWorld.doubleHitContinueTime ++;\n        shot.GameWorld.doubleHitCountDownTime = false;\n\n        ty.NotificationCenter.trigger(shot.EventType.STOP_DOUBLEHIT_COUNTDOWN);\n    },\n\n    // 刷新无限子弹道具\n    updateInfiniteByllet:function(){\n        if (this.state == 0) {\n            this.propName.string = \"<color=#622508>无限子弹</c><color=#FF3333> x\"+hall.ME.udataInfo.infiniteBulletCount+\"</color>\";\n        }\n    },\n\n    // 刷新激光瞄准道具\n    updateLaserAiming:function(){\n        if (this.state == 1) {\n            this.propName.string = \"<color=#622508>激光道具</c><color=#FF3333> x\"+hall.ME.udataInfo.laserAimingCount+\"</color>\";\n        }\n    },\n\n    // 刷新激光瞄准道具\n    updateGrenadeAiming:function(){\n        if (this.state == 1) {\n            this.propName.string = \"<color=#622508>手榴弹</c><color=#FF3333> x\"+hall.ME.udataInfo.grenadeCount+\"</color>\";\n        }\n    },\n\n    updateToDoubleHitContinue : function () {\n        this.state = 2;\n        // this.propSprite.spriteFrame = this.propSpriteList[1];\n        this.titleLabel.string = \"<color=#F1A955><b>恢复连击</b></c>\";\n        this.doubleHitNode.active = true;\n        this.propSprite.node.active = false;\n        this.doubleHitLabel.string = \"+\"+shot.GameWorld.doubleHitCountBest;\n        this.propName.string = \"\";\n        this.descText.string = \"可恢复刚刚中断的连击\";\n        // this.btnText.string = \"<color=#ffffff><b>分享到群恢复</b></color>\";\n        this.tips.string = \"剩余次数:\"+(shot.GameWorld.toolUserTimeConfig.comboContinueTime-shot.GameWorld.doubleHitContinueTime);\n        this.tips.node.active = true;\n        this.changeGetType();\n\n    },\n    updateInfo:function(result){\n        this.titleLabel.string = \"<color=#F1A955><b>道 具</b></c>\";\n        this.propSprite.node.active = true;\n        this.doubleHitNode.active = false;\n        if (result.itemId && result.itemId == \"item:1371\") { // 无限子弹\n            this.state = 0;\n            this.propSprite.spriteFrame = this.propSpriteList[0];\n            this.propName.string = \"<color=#622508>无限子弹</c><color=#FF3333> x\"+hall.ME.udataInfo.infiniteBulletCount+\"</color>\";\n            this.descText.string = \"使用后持续\"+shot.GameWorld.propertyConfig.infiniteBullet.time+\"秒子弹无限\";\n        }else if (result.itemId && result.itemId == \"item:1390\") { // 手榴弹道具\n            this.state = 1;\n            this.propSprite.spriteFrame = this.propSpriteList[1];\n            this.propName.string = \"<color=#622508>手榴弹</c><color=#FF3333> x\"+hall.ME.udataInfo.grenadeCount+\"</color>\";\n            this.descText.string = \"使用后对所有酒瓶造成伤害\";\n        }\n        if (result.boxId && result.boxId != \"\") {\n            shot.Share.shareKeywordReplace.boxId = result.boxId;\n        }\n        this.changeGetType();\n    },\n    changeGetType : function () {\n        var getTypeConfig ;\n        if(this.state == 2){\n            getTypeConfig = shot.GameWorld.toolUserTimeConfig.propType.combo;\n        }else {\n            getTypeConfig = shot.GameWorld.toolUserTimeConfig.propType.getItem;\n        }\n        var typeList ;\n        if(ty.UserInfo.isInBSGS){\n            typeList = getTypeConfig.bsgs;\n        }else {\n            typeList = getTypeConfig.nBsgs;\n        }\n        if(this.state != 2 && shot.gameModel.getAllCheckConfig()){\n            typeList = [\"ad\",\"shareClick\"];\n        }\n        if(typeList && typeList[0] == \"ad\"){\n            if(hall.adManager.canPlay){\n                this.getType = \"getPropAd\";\n            }else if(typeList.length > 1 && typeList[1] == \"share\"){\n                this.getType = \"getPropShare\";\n            }else if(typeList.length > 1 && typeList[1] == \"shareClick\"){\n                this.getType = \"getPropShareClick\";\n            }else {\n                this.getType = \"getProp\";\n            }\n        }else if(typeList[0] == \"share\"){\n            this.getType = \"getPropShare\";\n        }else if(typeList[0] == \"shareClick\"){\n            this.getType = \"getPropShareClick\";\n        }else {\n            this.getType = \"getProp\";\n        }\n        this.tips.node.active = false;\n        if(this.state == 2){\n            if(this.getType == \"getPropShare\"){\n                this.btnText.string = \"<color=#ffffff><b>免费恢复</b></color>\";\n            }else if(this.getType == \"getPropAd\"){\n                this.btnText.string = \"<color=#ffffff><b>看视频恢复</b></color>\";\n            }else {\n                this.btnText.string = \"<color=#ffffff><b>恢复</b></color>\";\n            }\n        }else {\n            if(this.getType == \"getPropShareClick\"){\n                this.tips.node.active = true;\n                this.tips.string = \"自己也可以进群抢道具哦\";\n                this.btnText.string = \"<color=#ffffff><b>赠 送</b></color>\";\n            }else if(this.getType == \"getPropAd\"){\n                this.btnText.string = \"<color=#ffffff><b><size=44>看视频领取</b></color>\";\n            }else if(this.getType == \"getPropShare\"){\n                this.btnText.string = \"<color=#ffffff><b><size=44>免费领道具</b></color>\";\n            }else {\n                this.btnText.string = \"<color=#ffffff><b>领取</b></color>\";\n            }\n        }\n    },\n\n    onClickCenterBtn:function(){\n        if(this.state == 2){\n            if(this.getType == \"getPropShare\"){\n                shot.Share.shareWithType(shot.Share.onShareType.clickStatShareTypeComboContinue);\n            }else if(this.getType == \"getPropAd\"){\n                hall.adManager.showRewardedVideo(\"combo\");\n            }else {\n                this.comboContinue();\n                this.onClose();\n            }\n        }else {\n            if(this.getType == \"getPropShareClick\"){\n                if(this.state == 1){\n                    shot.Share.shareWithType(shot.Share.onShareType.clickStatShareTypeGrenade);\n                }else {\n                    shot.Share.shareWithType(shot.Share.onShareType.clickStatShareTypeBullet);\n                }\n            }else if(this.getType == \"getPropAd\"){\n                hall.adManager.showRewardedVideo(\"getProp\");\n            }else if(this.getType == \"getPropShare\"){\n                if(this.state == 1){\n                    shot.Share.shareWithType(shot.Share.onShareType.clickStatShareTypeGrenadeGetReward);\n                }else {\n                    shot.Share.shareWithType(shot.Share.onShareType.clickStatShareTypeBulletGetReward);\n                }\n            }else {\n                if(this.state == 1){\n                   shot.gameModel.shareToGetreward(shot.Share.SharePointType.getGrenade)\n                }else {\n                    shot.gameModel.shareToGetreward(shot.Share.SharePointType.getBullet)\n                }\n                this.onClose();\n            }\n        }\n    },\n    rewardVideoComplete : function(isEnd){\n        if(hall.adManager.rewardedVideoType != \"combo\" && hall.adManager.rewardedVideoType != \"getProp\"){\n            return;\n        }\n        if(isEnd){\n            if(hall.adManager.rewardedVideoType == \"combo\"){\n                this.comboContinue();\n            }else {\n                if(this.state == 1){\n                    shot.gameModel.shareToGetreward(shot.Share.SharePointType.getGrenade)\n                }else {\n                    shot.gameModel.shareToGetreward(shot.Share.SharePointType.getBullet)\n                }\n            }\n        }else {\n            hall.MsgBoxManager.showToast({\"title\":\"视频播放未完成\"});\n        }\n        this.onClose();\n    },\n\n    rewardVideoCompleteError : function (errorMsg) {\n        if(hall.adManager.rewardedVideoType != \"combo\" && hall.adManager.rewardedVideoType != \"getProp\"){\n            return;\n        }\n        hall.MsgBoxManager.showToast({\"title\":errorMsg});\n        if(hall.adManager.rewardedVideoType == \"combo\"){\n            this.comboContinue();\n        }else {\n            if(this.state == 1){\n                shot.gameModel.shareToGetreward(shot.Share.SharePointType.getGrenade)\n            }else {\n                shot.gameModel.shareToGetreward(shot.Share.SharePointType.getBullet)\n            }\n        }\n        this.onClose();\n    },\n\n    onClose:function(){\n        if(this.state == 2){\n            shot.GameWorld.doubleHitCountDownTime = true;\n        }\n        this.centerBtn.node.stopAllActions();\n        this.node.destroy();\n    },\n    onBlack : function () {\n\n    },\n\n    onDestroy:function(){\n        ty.NotificationCenter.ignoreScope(this);\n        this.unscheduleAllCallbacks();\n    }\n});\n"]}