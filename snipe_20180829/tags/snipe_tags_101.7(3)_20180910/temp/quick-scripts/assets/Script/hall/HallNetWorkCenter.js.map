{"version":3,"sources":["HallNetWorkCenter.js"],"names":["require","hall","hallNetWorkCenter","_TAG","boot","LOGD","cmdMap","ty","NotificationCenter","listen","EventType","TCP_OPENED","onTCP_Open","TCP_RECEIVE","onReceiveTCP_Msg","shot","MSG_GAME_DATA","onReceiveGameData","MSG_USER_INFO","onReceiveUserInfo","MSG_BAG_INFO","onReceiveBagInfo","MSG_DATA_CHANGED","onUpdateChangedData","GET_USER_FEATURE_SUCCESS","_userFeature","value","LOGW","onGameData","shut","ignoreScope","MsgFactory","bindUser","msgCmd","cmd","result","gameId","SystemInfo","hallId","func","call","MSG_LOG_OUT","errMsg","error","info","MsgBoxManager","showToast","title","argument","GlobalFuncs","checkMsgWithGameId","GameId","getUserInfo","val","LOGE","JSON","stringify","retmsg","UserInfo","isInBSGS","debugMode","featureInfo","checkBSGS","last_login_city","ip","last_login_ip","trigger","BSGS_CHECK_RESULT","BiLog","clickStat","clickStatEventType","clickStatEventTypeTCP_Success","gameModel","getNormalConfig","getUserInfoForShot","getShareConfig","getGunnerShareSchemeConfig","getBagInfo","checkRewardWithSharePoint","Share","SharePointType","getFreeTool","sceneInfo","onShowParam","wx","getLaunchOptionsSync","scene","scene_id","query","shareTicket","qrCodeOption","withQrCode","par","hasOwnProperty","path","runOption","sourceCode","clickStatEventTypeUserFrom","inviteCode","clickStatShareType","imageType","bindMutualInviterId","parseInt","_boxUserId","boxId","getOpenGid","from","appid","shareToGetreward","isOnShare","playAnimationAfterShareWithType","ME","parseBagInfo","i","length","curValue","getGameData"],"mappings":"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","file":"HallNetWorkCenter.js","sourceRoot":"../../../../../assets/Script/hall","sourcesContent":["/**\n * 大厅消息中心\n */\nrequire('JumpEventType');\nhall.hallNetWorkCenter = {\n    _TAG : 'hall.hallNetWorkCenter',\n    boot : function (){\n        hall.LOGD(this._TAG, \"boot!\");\n\n        this.cmdMap = {};\n        //注册消息监听\n        ty.NotificationCenter.listen(ty.EventType.TCP_OPENED, this.onTCP_Open, this);\n        ty.NotificationCenter.listen(ty.EventType.TCP_RECEIVE, this.onReceiveTCP_Msg, this);\n        this.cmdMap[shot.EventType.MSG_GAME_DATA] = this.onReceiveGameData;\n        this.cmdMap[shot.EventType.MSG_USER_INFO] = this.onReceiveUserInfo;\n        this.cmdMap[shot.EventType.MSG_BAG_INFO] = this.onReceiveBagInfo;\n        this.cmdMap[shot.EventType.MSG_DATA_CHANGED] = this.onUpdateChangedData;\n        ty.NotificationCenter.listen(shot.EventType.GET_USER_FEATURE_SUCCESS, this._userFeature, this);\n    },\n    onReceiveGameData : function(value){\n        hall.LOGW(null, \"file = [HallNetWorkCenter] fun = [onReceiveGameData] \");\n        this.onGameData(value);\n        // hall.MsgFactory.getHallInfo(ty.SystemInfo.gameId);\n    },\n    shut : function(){\n        this.cmdMap = {};\n        ty.NotificationCenter.ignoreScope(this);\n    },\n\n    //\n    onTCP_Open : function(){\n        //发送BindUser\n        hall.MsgFactory.bindUser();\n    },\n    /**\n     * 收到TCP消息\n     */\n    onReceiveTCP_Msg : function(value){\n        // shot.LOGD(this._TAG, \"onReceiveTCP_Msg --ty\" + JSON.stringify(value));\n        var msgCmd = value.cmd;\n        var result = value.result;\n        if (result){\n            var gameId = result.gameId;\n            if (gameId === ty.SystemInfo.hallId){\n                //大厅消息在这里处理，其它游戏，在自己的插件里监听消息，并用gameId进行过滤\n                var func = this.cmdMap[msgCmd];\n                if (func){\n                    // func(value);\n                    func.call(this, value);\n                }\n                else{\n                    // ty.NotificationCenter.trigger(msgCmd, value);\n                    hall.LOGD(this._TAG, \"未注册关于消息 ： \" + msgCmd + \" 的监听！\");\n                }\n            }\n        }else{\n            if (msgCmd == ty.EventType.MSG_LOG_OUT){\n                var errMsg = value.error ? value.error.info : null;\n                if (errMsg){\n                    hall.MsgBoxManager.showToast({title : errMsg});\n                }\n            }\n        }\n    },\n    // 返回gameData\n    onGameData: function(argument) {\n        hall.LOGD(this._TAG, 'onGameData');\n        if (typeof(argument) != \"undefined\") {\n            if (!hall.GlobalFuncs.checkMsgWithGameId(argument, shot.GameId)) {\n                // 大厅的game_data，返回，暂时没内容\n                return;\n            }\n            hall.MsgFactory.getUserInfo(shot.GameId);\n        }\n    },\n    _userFeature:function (val) {\n        // var ={\n        //     \"_id\":\"1490806\",\n        //         \"bind_wx\":\"wx:om67ov41A6awFwQ0rQB0RtWFA8NA\",\n        //         \"last_login_time\":\"2018-05-25 16:44:22\",\n        //         \"last_login_ip\":\"183.212.187.255\",\n        //         \"last_login_province\":\"江苏\",\n        //         \"last_login_city\":\"南京\",\n        //         \"last_login_clientid\":\"H5_5.1_weixin.weixin.0-hall6.weixin.rich\",\n        //         \"login_counts\": {\n        //             \"2018-05-25\":1\n        //         },\n        //     \"create_platform_id\":\"3\",\n        //         \"create_clientid\":\"H5_5.1_weixin.weixin.0-hall6.weixin.rich\",\n        //         \"create_subplatform_id\":\"5\",\n        //         \"create_city\":\"南京\",\n        //         \"create_channel_id\":\"104\",\n        //         \"create_ip\":\"183.212.187.255\",\n        //         \"create_time\":\"2018-05-25 16:44:22\",\n        //         \"create_province\":\"江苏\",\n        //         \"create_product_id\":\"6\",\n        //         \"login_detail\": {\n        //         \"2018-05-25\": [\n        //             \"16:44:22\"\n        //         ]\n        //     }\n        // };\n        //TODO:TEST\n        hall.LOGE(\"===val.retmsg=====\",\"====val.retmsg===\"+JSON.stringify(val.retmsg));\n        ty.UserInfo.isInBSGS = true;\n        if(debugMode){\n            ty.UserInfo.isInBSGS = !debugMode;\n            // return;\n        }\n        if (!val.retmsg) {\n            return;\n        }\n        ty.UserInfo.featureInfo = val.retmsg;\n        ty.UserInfo.isInBSGS = hall.GlobalFuncs.checkBSGS(ty.UserInfo.featureInfo.last_login_city); //是否在北上广深\n        // ty.UserInfo.isInBSGS = false;\n        ty.UserInfo.ip = ty.UserInfo.featureInfo.last_login_ip; //上一次登录的IP\n        ty.NotificationCenter.trigger(shot.EventType.BSGS_CHECK_RESULT);\n    },\n    onReceiveUserInfo : function(value){\n        ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeTCP_Success, [JSON.stringify(value)]);\n        shot.gameModel.getNormalConfig();\n        shot.gameModel.getUserInfoForShot();\n        shot.gameModel.getShareConfig();\n        shot.gameModel.getGunnerShareSchemeConfig();\n        hall.MsgFactory.getBagInfo();\n        shot.gameModel.checkRewardWithSharePoint(shot.Share.SharePointType.getFreeTool);\n        var sceneInfo = ty.UserInfo.onShowParam || wx.getLaunchOptionsSync();\n        var scene = ty.UserInfo.scene_id || sceneInfo.scene;\n        var query = sceneInfo.query;\n        var shareTicket = sceneInfo.shareTicket;\n        if (shot.qrCodeOption.withQrCode(scene)){\n            //是否为从小程序码进入\n            var par = \"\";\n            if (query.hasOwnProperty('scene')){\n                //个人小程序码\n                par = query.scene;\n            }\n            else if (sceneInfo.hasOwnProperty('path')){\n                par = sceneInfo.path;\n            }\n            shot.qrCodeOption.runOption(par, scene);\n        }\n        if(query && query.sourceCode){//从小程序消息卡片中点入\n            ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeUserFrom,[scene,query.inviteCode,shot.Share.clickStatShareType[query.sourceCode],\n                query.imageType,\"GameStart\",JSON.stringify(sceneInfo)]);\n            if (query.inviteCode) {\n                shot.gameModel.bindMutualInviterId(parseInt(query.inviteCode));\n            }\n\n            if (query.inviteCode && shareTicket) {\n                var _boxUserId = query.inviteCode;\n                hall.LOGW(\"\",\"file = [HallNetWrokCenter] fun = [onReceiveUserInfo] ty.SystemInfo.boxId = \"+JSON.stringify(ty.SystemInfo.boxId));\n                shot.Share.getOpenGid(shareTicket,_boxUserId);\n            }\n        }else {\n            ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeUserFrom,[scene,query.from,query.appid,\n                \"GameStart\",JSON.stringify(sceneInfo)]);\n        }\n        // 1001\t发现栏小程序主入口，“最近使用”列表（基础库2.2.4版本起将包含“我的小程序”列表）\n        // 1089\t微信聊天主界面下拉，“最近使用”栏（基础库2.2.4版本起将包含“我的小程序”栏）\n        // 1103\t发现栏小程序主入口，“我的小程序”列表（基础库2.2.4版本起该场景值废弃）\n        // 1104\t微信聊天主界面下拉，“我的小程序”栏（基础库2.2.4版本起该场景值废弃）\n        if(scene == 1103 || scene == 1104){\n            shot.gameModel.shareToGetreward(shot.Share.SharePointType.getFreeTool);\n        }\n        // requestAnimationFrame(function () {\n        //     ty.NotificationCenter.trigger(shot.EventType.REPLAY_BG_MUSIC);\n        // });\n        // ty.NotificationCenter.trigger(shot.EventType.REPLAY_BG_MUSIC);\n\n        if(shot.Share.isOnShare){\n            shot.Share.playAnimationAfterShareWithType();\n        }\n        shot.Share.isOnShare = false;\n        //\n        // if (ty.SystemInfo.shareTicket &&  ty.SystemInfo.shareTicket != \"\"){\n        //     var shareTicket = ty.SystemInfo.shareTicket;\n        //     shot.GlobalFuncs.showRankList(shareTicket);\n        // }\n        // ty.SystemInfo.shareTicket = \"\";\n    },\n\n    onReceiveBagInfo:function(value){\n        if (typeof(value) == 'undefined') {\n            return;\n        }\n        hall.ME.parseBagInfo(value);\n    },\n\n    onUpdateChangedData:function(argument){\n        //解析数据\n        if (typeof(argument) != 'undefined') {\n            //hall.ME.parseUserInfo(argument[0]);\n            var result = argument[\"result\"];\n            if (typeof(result) != 'undefined' && typeof(result['changes']) != 'undefined') {\n                var gameId = result.gameId;\n                hall.LOGD(this._TAG, 'gameid = ' + gameId);\n                for (var i = 0; i < result['changes'].length; i++) {\n                    var curValue = result[\"changes\"][i];\n                    if (typeof(curValue) == 'undefined') {\n                        continue;\n                    }\n                    if (curValue == 'gdata') {\n                        hall.LOGD(this._TAG, \"update_notify,更新gdata\");\n                        hall.MsgFactory.getGameData(gameId);\n                    } else if (curValue == 'item') {\n                        hall.LOGD(this._TAG, \"update_notify,更新道具\");\n                        hall.MsgFactory.getBagInfo();\n                    }\n                    //金币，钻石\n                    else if (curValue == \"udata\") {\n                        hall.LOGD(this._TAG, \"update_notify,更新钻石金币\");\n                        hall.MsgFactory.getUserInfo(gameId);\n                    }\n                }\n            }\n        }\n    }\n};\n\n//模块启动\nhall.hallNetWorkCenter.boot();"]}