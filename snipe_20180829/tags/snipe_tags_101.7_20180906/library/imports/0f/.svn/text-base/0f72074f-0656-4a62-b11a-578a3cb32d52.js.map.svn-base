{"version":3,"sources":["../../../../../assets/Script/shot/assets/Script/shot/shotGlobalFuncs.js"],"names":["shot","GlobalFuncs","formatTime","value","h","Math","floor","m","s","parseInt","mh","ms","ss","drawGameCanvas","webC","cc","_renderContext","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","getBackButtonPositionY","systemTy","ty","UserInfo","systemType","sceneSize","director","getWinSize","reultHeight","SYSTEMTYPE","iphoneOtherType","height","iPhoneXType","ANDROIDOther","iPhone7P8PType","ANDROIDVIVO85","getOpenData","withOutMsg","wx","hasOwnProperty","hall","MsgBoxManager","showToast","title","openDataContext","getOpenDataContext","upDateRankData","val","userId","postMessage","method","sumScore","upDateRankDataWeek","week","getUserInfo","getFriendInfo","GlobalTimer","getCurWeek","GameWorld","totalScore","getThirdRankInfo","showGroupRank","shareTicket","rankType","showFriendRank","showOrigin","setCrazyProperty","type","bulletType","propertyConfig","bulletBlood","bulletConfig","blood","bulletPenetrate","penetrate","bulletRange","range","changeBulletSoundAndSprite","restoreFromCrazyMoment","doubleGunUseTime","setBulletType","index","bulletTypeList","indexOf","gunType","treasureBoxTypeList","doubleGunUseTimeCan","time","bulletRunningTimeCan","bulletRunningInterval","gunFireInterval","runningFireTime","runningInterval","EffectPath_mp3","gunHits","NotificationCenter","trigger","EventType","REPLACE_GUN","showDropEffect","baseScale","pNode","scale","seq","sequence","scaleTo","runAction","setToCenter","node","winSize","x","width","y","showDiamondGift","state","result","loader","loadRes","err","prefab","preFabNode","instantiate","getScene","addChild","com","getComponent","changeStateWithInfo","bind","showRankList","gameModel","rankWindow","changeButtonToRank","curScene","showNewTipsPanel","showFreeTool","showResurgence","showGameOverWithMyScore","showShareResult","showMysteryGifgBag","showPropBox","doubleHit","updateToDoubleHitContinue","updateInfo","showSecretBox","boxType","delegate","BiLog","clickStat","clickStatEventType","clickStatEventTypeShowWindow","setBoxTypeWithType","playGetPropBoxAni","count","updateProp","showDebugPanel"],"mappings":"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","file":"shotGlobalFuncs.js","sourceRoot":"../../../../../assets/Script/shot","sourcesContent":["//\n// highladder\n//\n// Created by guangy on 2016-03-08\n// \n\nshot.GlobalFuncs = {};\n\n/**\n * 秒转换为时间\n * @param value 秒\n */\nshot.GlobalFuncs.formatTime = function (value) {\n\tvar h = Math.floor(value / 3600);\n\tvar m = Math.floor((value % 3600)/60);\n\tvar s = parseInt(value % 60);\n\n\tvar mh = h < 10 ? \"0\" + h : \"\" + h;\n\tvar ms = m < 10 ? \"0\" + m : \"\" + m;\n\tvar ss = s < 10 ? \"0\" + s : \"\" + s;\n\n\treturn mh +  \":\" + ms + \":\" + ss;\n};\n\nshot.GlobalFuncs.drawGameCanvas = function () {\n\tvar webC = cc._renderContext;\n\t// webC.enable(webC.SCISSOR_TEST);\n\twebC.clearColor(183/255, 220/255,181/255, 1);//底部颜色\n\twebC.clear(webC.COLOR_BUFFER_BIT | webC.DEPTH_BUFFER_BIT);\n};\n\nshot.GlobalFuncs.getBackButtonPositionY = function () {\n\tvar systemTy = ty.UserInfo.systemType;\n\tvar sceneSize = cc.director.getWinSize();\n\tvar reultHeight = 0;\n\tif (systemTy == ty.UserInfo.SYSTEMTYPE.iphoneOtherType){//其他iPhone\n\t\treultHeight = sceneSize.height/2-49;\n\t}else if(systemTy == ty.UserInfo.SYSTEMTYPE.iPhoneXType){ //iPhoneX\n\t\treultHeight = sceneSize.height/2-102;\n\t}else if(systemTy == ty.UserInfo.SYSTEMTYPE.ANDROIDOther){ //cc.sys.OS_ANDROID\n\t\treultHeight = sceneSize.height/2-54;\n\t}else if(systemTy == ty.UserInfo.SYSTEMTYPE.iPhone7P8PType){ //8p\n\t\treultHeight = sceneSize.height/2-46;\n\t} else if(systemTy == ty.UserInfo.SYSTEMTYPE.ANDROIDVIVO85){ //vivo Y85A\n\t\treultHeight = sceneSize.height/2-104;\n\t}\n\treturn reultHeight;\n};\n\nshot.GlobalFuncs.getOpenData = function (withOutMsg) {\n\tif (!wx.hasOwnProperty('getOpenDataContext')){\n\t\tif (!withOutMsg){\n\t\t\thall.MsgBoxManager.showToast({title:'您当前版本,不支持排行榜,请升级微信!'});\n\t\t}\n\t\treturn null;\n\t}\n\tvar openDataContext = wx.getOpenDataContext();\n\tif (openDataContext){\n\t\treturn openDataContext\n\t}\n\treturn null;\n};\n\n/**\n * 更新自己的排行榜数据\n * @param val\n */\nshot.GlobalFuncs.upDateRankData = function (val) {\n\tif(!ty.UserInfo.userId){\n\t\treturn;\n\t}\n\t// shot.gameModel.saveHigherScore(shot.GameWorld.totalScore);\n\tvar openDataContext = shot.GlobalFuncs.getOpenData(true);\n\tif(!openDataContext){\n\t\treturn;\n\t}\n\topenDataContext.postMessage({\n\t\tmethod:'updateRank',\n\t\tsumScore: val,\n\t\tuserId:ty.UserInfo.userId\n\t})\n};\n\n/**\n * 更新自己的排行榜星期数据\n * @param val\n */\nshot.GlobalFuncs.upDateRankDataWeek = function (val) {\n\t// if(!shot.GameWorld.game_friendData){\n\t// \treturn;\n\t// }\n\t// var userDataList = JSON.parse(shot.GameWorld.game_friendData);\n\t// var haveSelf = false;\n\t// if(userDataList && userDataList.length){\n\t// \tfor (var i = userDataList.length-1 ; i >= 0 ; i --){\n\t// \t\tvar user = userDataList[i];\n\t// \t\tif(user.userId == ty.UserInfo.userId){\n\t// \t\t\thaveSelf = true;\n\t// \t\t\tif(user.week != val){\n\t// \t\t\t\tshot.GlobalFuncs.upDateRankData(\"0\");\n\t// \t\t\t}\n\t// \t\t\tbreak;\n\t// \t\t}\n\t// \t}\n\t// }\n\t// if(!haveSelf){\n\t// \tshot.GlobalFuncs.upDateRankData(\"0\");\n\t// }\n\n\tvar openDataContext = shot.GlobalFuncs.getOpenData(true);\n\tif(!openDataContext){\n\t\treturn;\n\t}\n\topenDataContext.postMessage({\n\t\tmethod:'updateRankWeek',\n\t\tweek: val\n\t})\n};\n\nshot.GlobalFuncs.getUserInfo = function () {\n\tvar openDataContext = shot.GlobalFuncs.getOpenData(true);\n\tif(!openDataContext){\n\t\treturn;\n\t}\n\topenDataContext.postMessage({\n\t\tmethod:'getUserInfo'\n\t})\n};\n\nshot.GlobalFuncs.getFriendInfo = function () {\n\tvar openDataContext = shot.GlobalFuncs.getOpenData(true);\n\tif(!openDataContext){\n\t\treturn;\n\t}\n\tvar week = hall.GlobalTimer.getCurWeek();\n\topenDataContext.postMessage({\n\t\tmethod:'getFriendInfo',\n\t\tweek : week,\n\t\tuserId : ty.UserInfo.userId,\n\t\tsumScore : shot.GameWorld.totalScore\n\t})\n};\n\nshot.GlobalFuncs.getThirdRankInfo = function () {\n\tvar openDataContext = shot.GlobalFuncs.getOpenData(true);\n\tif(!openDataContext){\n\t\treturn;\n\t}\n\tvar week = hall.GlobalTimer.getCurWeek();\n\topenDataContext.postMessage({\n\t\tmethod:'getResultRank',\n\t\tweek : week,\n\t\tuserId : ty.UserInfo.userId,\n\t\tsumScore : shot.GameWorld.totalScore\n\t})\n};\n\n/**\n * 获取群排行榜数据\n * @param val 群shareTicket\n */\nshot.GlobalFuncs.showGroupRank = function (val) {\n\tvar openDataContext = shot.GlobalFuncs.getOpenData();\n\tif(!openDataContext){\n\t\treturn;\n\t}\n\tvar week = hall.GlobalTimer.getCurWeek();\n\topenDataContext.postMessage({\n\t\tmethod:'showGroupRank',\n\t\tshareTicket: val,\n\t\tuserId:ty.UserInfo.userId,\n\t\trankType : \"sumScore\",\n\t\tweek : week\n\t})\n};\n\n/**\n * 展示自己的好友排行榜数\n */\nshot.GlobalFuncs.showFriendRank = function () {\n\tvar openDataContext = shot.GlobalFuncs.getOpenData();\n\tif(!openDataContext){\n\t\treturn;\n\t}\n\tvar week = hall.GlobalTimer.getCurWeek();\n\topenDataContext.postMessage({\n\t\tmethod:'showFriendRank',\n\t\tuserId:ty.UserInfo.userId,\n\t\trankType : \"sumScore\",\n\t\tweek : week\n\t})\n};\n/**\n * 初始化\n */\nshot.GlobalFuncs.showOrigin = function () {\n\tvar openDataContext = shot.GlobalFuncs.getOpenData();\n\tif(!openDataContext){\n\t\treturn;\n\t}\n\topenDataContext.postMessage({\n\t\tmethod:'showOrigin'\n\t})\n};\n\nshot.GlobalFuncs.setCrazyProperty = function (type) {\n\tvar bulletType;\n\tif(type != \"handGun\"){\n\t\tbulletType = shot.GameWorld.propertyConfig[type].bulletType;\n\t}else {\n\t\tbulletType = \"bulletType0\";\n\t}\n\tshot.GameWorld.bulletBlood = shot.GameWorld.bulletConfig[bulletType].blood;\n\tshot.GameWorld.bulletPenetrate = shot.GameWorld.bulletConfig[bulletType].penetrate;\n\tif(bulletType == \"bulletType2\"){\n\t\tshot.GameWorld.bulletRange = shot.GameWorld.bulletConfig[bulletType].range;\n\t}else {\n\t\tshot.GameWorld.bulletRange = 0;\n\t}\n\tshot.GlobalFuncs.changeBulletSoundAndSprite(bulletType);\n};\nshot.GlobalFuncs.restoreFromCrazyMoment = function () {\n\tshot.GameWorld.bulletBlood = shot.GameWorld.bulletConfig[shot.GameWorld.bulletType].blood;\n\tshot.GameWorld.bulletPenetrate = shot.GameWorld.bulletConfig[shot.GameWorld.bulletType].penetrate;\n\tif(shot.GameWorld.bulletType == \"bulletType2\"){\n\t\tshot.GameWorld.bulletRange = shot.GameWorld.bulletConfig[shot.GameWorld.bulletType].range;\n\t}else {\n\t\tshot.GameWorld.bulletRange = 0;\n\t}\n\tif(shot.GameWorld.bulletType != \"bulletType0\"){\n\t\tshot.GameWorld.doubleGunUseTime -= 1;\n\t}\n\tshot.GlobalFuncs.changeBulletSoundAndSprite(shot.GameWorld.bulletType);\n};\n\n//设置子弹类型\nshot.GlobalFuncs.setBulletType = function (type) {\n\tshot.GameWorld.bulletType = type;\n\tshot.GameWorld.bulletBlood = shot.GameWorld.bulletConfig[shot.GameWorld.bulletType].blood;\n\tshot.GameWorld.bulletPenetrate = shot.GameWorld.bulletConfig[shot.GameWorld.bulletType].penetrate;\n\tshot.GameWorld.bulletRange = shot.GameWorld.bulletConfig[shot.GameWorld.bulletType].range;//霰弹枪非零\n\tshot.GameWorld.doubleGunUseTime = 1;//带功能的枪当前使用的次数\n\t// shot.GameWorld.bulletPenetrateBucket = false;\n\tvar index = shot.GameWorld.bulletTypeList.indexOf(type);\n\tvar gunType = shot.GameWorld.treasureBoxTypeList[index+2];\n\tshot.GameWorld.doubleGunUseTimeCan = shot.GameWorld.propertyConfig[gunType].time;\n\n\tshot.GameWorld.bulletRunningTimeCan = 0;\n\tshot.GameWorld.bulletRunningInterval = 0;\n\tshot.GameWorld.gunFireInterval = 0;\n\tif(type == \"bulletType0\"){\n\t\tshot.GameWorld.doubleGunUseTime = -1;\n\t\tshot.GameWorld.doubleGunUseTimeCan = 0;\n\t}else if(type == \"bulletType5\"){//三连发\n\t\tshot.GameWorld.bulletRunningTimeCan = shot.GameWorld.bulletConfig[shot.GameWorld.bulletType].runningFireTime;\n\t\tshot.GameWorld.bulletRunningInterval = shot.GameWorld.bulletConfig[shot.GameWorld.bulletType].runningInterval;\n\t}else if(type == \"bulletType6\" || type == \"bulletType7\"){//按住连发\n\t\tshot.GameWorld.gunFireInterval = shot.GameWorld.bulletConfig[shot.GameWorld.bulletType].gunFireInterval;\n\t}\n\tshot.GlobalFuncs.changeBulletSoundAndSprite(type);\n};\n\n\nshot.GlobalFuncs.changeBulletSoundAndSprite = function (type) {\n\tvar index = shot.GameWorld.bulletTypeList.indexOf(type);\n\tshot.EffectPath_mp3.gunHits = shot.EffectPath_mp3[\"gunHits\"+index];\n\tty.NotificationCenter.trigger(shot.EventType.REPLACE_GUN,index);\n};\n\nshot.GlobalFuncs.showDropEffect = function (baseScale, pNode) {\n\tpNode.scale = baseScale * 1.15;\n\tvar seq = cc.sequence(cc.scaleTo(0.1, baseScale * 0.93),cc.scaleTo(0.015, baseScale));\n\tpNode.runAction(seq);\n};\n\nshot.GlobalFuncs.setToCenter = function (node) {\n\tvar winSize = cc.director.getWinSize();\n\tnode.x = winSize.width/2;\n\tnode.y = winSize.height/2;\n};\n\n\n//展示互助礼界面\nshot.GlobalFuncs.showDiamondGift = function (state,result) {\n\tcc.loader.loadRes('shot_prefabs/shot_diamond', function (err, prefab) {\n\t\tvar preFabNode = cc.instantiate(prefab);\n\t\tcc.director.getScene().addChild(preFabNode);\n\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t\tvar com = preFabNode.getComponent('shot_diamond');\n\t\tcom.changeStateWithInfo(state,result);\n\t}.bind(this));\n};\n//展示排行榜界面\nshot.GlobalFuncs.showRankList = function (shareTicket) {\n\tif(shot.gameModel.rankWindow){\n\t\tshot.gameModel.rankWindow.changeButtonToRank(shareTicket);\n\t}else {\n\t\tcc.loader.loadRes('shot_prefabs/shot_rank', function (err, prefab) {\n\t\t\tvar preFabNode = cc.instantiate(prefab);\n\t\t\tvar curScene = cc.director.getScene();\n\t\t\tif(curScene){\n\t\t\t\tcurScene.addChild(preFabNode);\n\t\t\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t\t\t\tvar com = preFabNode.getComponent('shot_rank');\n\t\t\t\tshot.gameModel.rankWindow = com;\n\t\t\t\tcom.changeButtonToRank(shareTicket);\n\t\t\t}\n\t\t}.bind(this));\n\t}\n};\n//展示新手引导面板\nshot.GlobalFuncs.showNewTipsPanel = function () {\n\tcc.loader.loadRes('shot_prefabs/newerNode', function (err, prefab) {\n\t\tvar preFabNode = cc.instantiate(prefab);\n\t\tcc.director.getScene().addChild(preFabNode);\n\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t}.bind(this));\n};\n//展示免费道具面板\nshot.GlobalFuncs.showFreeTool = function () {\n\tcc.loader.loadRes('shot_prefabs/shot_freeTool', function (err, prefab) {\n\t\tvar preFabNode = cc.instantiate(prefab);\n\t\tcc.director.getScene().addChild(preFabNode);\n\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t}.bind(this));\n};\n//展示复活面板\nshot.GlobalFuncs.showResurgence = function () {\n\tcc.loader.loadRes('shot_prefabs/shot_resurgence', function (err, prefab) {\n\t\tvar preFabNode = cc.instantiate(prefab);\n\t\tcc.director.getScene().addChild(preFabNode);\n\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t}.bind(this));\n};\n//展示游戏结束我的成绩界面\nshot.GlobalFuncs.showGameOverWithMyScore = function () {\n\tcc.loader.loadRes('shot_prefabs/shot_result', function (err, prefab) {\n\t\tvar preFabNode = cc.instantiate(prefab);\n\t\tcc.director.getScene().addChild(preFabNode);\n\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t}.bind(this));\n};\n//展示分享选择界面\nshot.GlobalFuncs.showShareResult  = function () {\n\tcc.loader.loadRes('shot_prefabs/shot_shareResult', function (err, prefab) {\n\t\tvar preFabNode = cc.instantiate(prefab);\n\t\tcc.director.getScene().addChild(preFabNode);\n\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t}.bind(this));\n};\n//展示神秘礼包\nshot.GlobalFuncs.showMysteryGifgBag = function (result) {\n\tcc.loader.loadRes('shot_prefabs/shot_mystery_giftBag', function (err, prefab) {\n\t\tvar preFabNode = cc.instantiate(prefab);\n\t\tcc.director.getScene().addChild(preFabNode);\n\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t\t// var com = preFabNode.getComponent('shot_mystery_gifgBag');\n\t\t// com.updateInfo(result);\n\t}.bind(this));\n};\n//展示道具宝箱界面\nshot.GlobalFuncs.showPropBox = function (result,doubleHit) {\n\tcc.loader.loadRes('shot_prefabs/shot_prop', function (err, prefab) {\n\t\tvar preFabNode = cc.instantiate(prefab);\n\t\tcc.director.getScene().addChild(preFabNode);\n\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t\tvar com = preFabNode.getComponent('shot_prop');\n\t\tif(doubleHit){\n\t\t\tcom.updateToDoubleHitContinue();\n\t\t}else {\n\t\t\tcom.updateInfo(result);\n\t\t}\n\t}.bind(this));\n};\n//展示宝箱瓶界面\nshot.GlobalFuncs.showSecretBox = function (boxType,delegate) {\n\tty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeShowWindow,[\"secretBox\"]);\n\tcc.loader.loadRes('shot_prefabs/shot_secret_box', function (err, prefab) {\n\t\tvar preFabNode = cc.instantiate(prefab);\n\t\tcc.director.getScene().addChild(preFabNode);\n\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t\tvar com = preFabNode.getComponent('shot_secret_box');\n\t\tcom.setBoxTypeWithType(boxType,delegate);\n\t}.bind(this));\n};\n//获得道具动画\nshot.GlobalFuncs.playGetPropBoxAni = function (state,count) {\n\tcc.loader.loadRes('shot_prefabs/shot_getProp', function (err, prefab) {\n\t\tvar preFabNode = cc.instantiate(prefab);\n\t\tcc.director.getScene().addChild(preFabNode);\n\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t\tvar com = preFabNode.getComponent('zidandaoju');\n\t\tcom.updateProp(state,count);\n\t}.bind(this));\n};\n\n//展示debug面板\nshot.GlobalFuncs.showDebugPanel = function () {\n\tcc.loader.loadRes('shot_prefabs/debugNode', function (err, prefab) {\n\t\tvar preFabNode = cc.instantiate(prefab);\n\t\tcc.director.getScene().addChild(preFabNode);\n\t\tshot.GlobalFuncs.setToCenter(preFabNode);\n\t}.bind(this));\n};\n\n// //展示游戏结束是否复活界面\n// shot.GlobalFuncs.showGameResultResurgence = function () {\n// \tcc.loader.loadRes('prefabs/shot_window_result', function (err, prefab) {\n// \t\tvar preFabNode = cc.instantiate(prefab);\n// \t\tcc.director.getScene().addChild(preFabNode);\n// \t\tshot.GlobalFuncs.setToCenter(preFabNode);\n// \t}.bind(this));\n// };\n// //展示提示\n// shot.GlobalFuncs.showNoDiamondToastTip = function (titleString) {\n// \tcc.loader.loadRes('prefabs/shot_noDiamond_toastTip', function (err, prefab) {\n// \t\tvar preFabNode = cc.instantiate(prefab);\n// \t\tcc.director.getScene().addChild(preFabNode);\n// \t\tshot.GlobalFuncs.setToCenter(preFabNode);\n// \t\tif(titleString){\n// \t\t\tvar com = preFabNode.getComponent('shot_noDiamond_toastTip');\n// \t\t\tcom.changeTitle(titleString);\n// \t\t}\n// \t}.bind(this));\n// };\n// //展示好友帮助获得钻石提示\n// shot.GlobalFuncs.showMainToastWithName = function (name,count,picUrl) {\n// \tvar curScene = cc.director.getScene();\n// \thall.LOGD(this._TAG, \"curScene : \" + curScene.name);\n// \tif (curScene.name == 'shot_main'){\n// \t\treturn;\n// \t}\n// \tcc.loader.loadRes('prefabs/main_toast', function (err, prefab) {\n// \t\tvar preFabNode = cc.instantiate(prefab);\n// \t\tcc.director.getScene().addChild(preFabNode);\n// \t\tshot.GlobalFuncs.setToCenter(preFabNode);\n// \t\tvar com = preFabNode.getComponent('main_toast');\n// \t\tcom.changeName(name,count,picUrl);\n// \t}.bind(this));\n// };\n//\n// //展示暂停面板\n// shot.GlobalFuncs.showPausePanel = function () {\n// \tcc.loader.loadRes('prefabs/shot_pause', function (err, prefab) {\n// \t\tvar preFabNode = cc.instantiate(prefab);\n// \t\tcc.director.getScene().addChild(preFabNode);\n// \t\tshot.GlobalFuncs.setToCenter(preFabNode);\n// \t}.bind(this));\n// };\n"]}