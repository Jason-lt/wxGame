{"version":3,"sources":["HallUserInfo.js"],"names":["require","hall","HallUserInfo","cc","Class","ctor","udataInfo","UserInfoUData","parseUserInfo","json","result","parse","parseBagInfo","bagList","infiniteBulletCount","laserAimingCount","diamondCount","grenadeCount","i","length","bagInfo","bagID","infiniteBulletInfo","ty","NotificationCenter","trigger","shot","EventType","UPDATE_INFINITEBULLET_NUMBER","UPDATE_LASERAIMING_NUMBER","UPDATE_DIAMOND_NUMBER","UPDATE_GRENADE_NUMBER","_sortByTime","o1","o2","clean","m_vip","m_sex","m_name","m_purl","m_isBeauty"],"mappings":";;;;;;AAAA;AACA;;AAEAA,QAAQ,eAAR;;AAEAC,KAAKC,YAAL,GAAoBC,GAAGC,KAAH,CAAS;AACzBC,UAAM,gBAAW;AACb,aAAKC,SAAL,GAAiB,IAAIL,KAAKM,aAAT,EAAjB;AACH,KAHwB;;AAKzB;AACAC,mBAAe,uBAASC,IAAT,EAAe;AAC1B,YAAIA,IAAJ,EAAU;AACN,gBAAIC,SAASD,KAAK,QAAL,CAAb;AACA,iBAAKH,SAAL,CAAeK,KAAf,CAAqBD,OAAO,OAAP,CAArB;AACH;AACJ,KAXwB;;AAazB;AACAE,kBAAc,sBAASH,IAAT,EAAe;AACzB,YAAIA,IAAJ,EAAU;AACN,gBAAIC,SAASD,KAAK,QAAL,CAAb;AACA,gBAAII,UAAUH,OAAO,aAAP,CAAd;;AAEA,gBAAI,CAACG,OAAD,IAAY,OAAOA,OAAP,IAAmB,WAAnC,EAA+C;AAC3C;AACH;;AAED,iBAAKP,SAAL,CAAeQ,mBAAf,GAAqC,CAArC;AACA,iBAAKR,SAAL,CAAeS,gBAAf,GAAkC,CAAlC;AACA,iBAAKT,SAAL,CAAeU,YAAf,GAA8B,CAA9B;AACA,iBAAKV,SAAL,CAAeW,YAAf,GAA8B,CAA9B;;AAEA,iBAAK,IAAKC,IAAI,CAAd,EAAkBA,IAAIL,QAAQM,MAA9B,EAAuCD,GAAvC,EAA4C;AACxC,oBAAIE,UAAUP,QAAQK,CAAR,CAAd;AACA,oBAAIG,QAAQD,QAAQ,IAAR,CAAZ;AACA;AACA,oBAAIC,SAAS,IAAb,EAAkB;AACd,yBAAKf,SAAL,CAAegB,kBAAf,GAAoCF,OAApC;AACA,yBAAKd,SAAL,CAAeQ,mBAAf,GAAqCM,QAAQ,KAAR,CAArC;AAEH,iBAJD,MAIM,IAAIC,SAAS,IAAb,EAAkB;AAAG;AACvB,yBAAKf,SAAL,CAAeS,gBAAf,GAAkCK,QAAQ,KAAR,CAAlC;AAEH,iBAHK,MAGA,IAAIC,SAAS,IAAb,EAAkB;AAAG;AACvB,yBAAKf,SAAL,CAAeU,YAAf,GAA8BI,QAAQ,KAAR,CAA9B;AAEH,iBAHK,MAGA,IAAIC,SAAS,IAAb,EAAkB;AAAG;AACvB,yBAAKf,SAAL,CAAeW,YAAf,GAA8BG,QAAQ,KAAR,CAA9B;AACH;AACJ;AACDG,eAAGC,kBAAH,CAAsBC,OAAtB,CAA8BC,KAAKC,SAAL,CAAeC,4BAA7C;AACAL,eAAGC,kBAAH,CAAsBC,OAAtB,CAA8BC,KAAKC,SAAL,CAAeE,yBAA7C;AACAN,eAAGC,kBAAH,CAAsBC,OAAtB,CAA8BC,KAAKC,SAAL,CAAeG,qBAA7C;AACAP,eAAGC,kBAAH,CAAsBC,OAAtB,CAA8BC,KAAKC,SAAL,CAAeI,qBAA7C;AACA;AACH;AACJ,KApDwB;;AAsDzB;AACAC,iBAAa,qBAASC,EAAT,EAAaC,EAAb,EAAiB;AAC1B,eAAOA,GAAG,oBAAH,IAA2BD,GAAG,oBAAH,CAAlC;AACH,KAzDwB;;AA4DzBE,WAAO,iBAAW;AACd,aAAK7B,SAAL,CAAe8B,KAAf,GAAuB,CAAvB;AACA,aAAK9B,SAAL,CAAe+B,KAAf,GAAuB,CAAvB;AACA,aAAK/B,SAAL,CAAegC,MAAf,GAAwB,EAAxB;AACA,aAAKhC,SAAL,CAAeiC,MAAf,GAAwB,EAAxB;AACA,aAAKjC,SAAL,CAAekC,UAAf,GAA4B,KAA5B;AACH;AAlEwB,CAAT,CAApB","file":"HallUserInfo.js","sourceRoot":"../../../../../../assets/Script/hall/models","sourcesContent":["//  Create by zhanghaibin\n//  玩家信息\n\nrequire('UserInfoUData');\n\nhall.HallUserInfo = cc.Class({\n    ctor: function() {\n        this.udataInfo = new hall.UserInfoUData();\n    },\n\n    // 解析UserInfo\n    parseUserInfo: function(json) {\n        if (json) {\n            var result = json['result'];\n            this.udataInfo.parse(result['udata']);\n        }\n    },\n\n    // 解析BagInfo背包信息\n    parseBagInfo: function(json) {\n        if (json) {\n            var result = json['result'];\n            var bagList = result[\"normal_list\"];\n\n            if (!bagList || typeof(bagList) == \"undefined\"){\n                return;\n            }\n\n            this.udataInfo.infiniteBulletCount = 0;\n            this.udataInfo.laserAimingCount = 0;\n            this.udataInfo.diamondCount = 0;\n            this.udataInfo.grenadeCount = 0;\n\n            for (var  i = 0 ; i < bagList.length ; i ++){\n                var bagInfo = bagList[i];\n                var bagID = bagInfo[\"id\"];\n                // 无限子弹\n                if (bagID == 1371){\n                    this.udataInfo.infiniteBulletInfo = bagInfo;\n                    this.udataInfo.infiniteBulletCount = bagInfo[\"num\"];\n\n                }else if (bagID == 1372){  // 激光瞄准器\n                    this.udataInfo.laserAimingCount = bagInfo[\"num\"];\n\n                }else if (bagID == 1373){  // 钻石\n                    this.udataInfo.diamondCount = bagInfo[\"num\"];\n\n                }else if (bagID == 1390){  // 钻石\n                    this.udataInfo.grenadeCount = bagInfo[\"num\"];\n                }\n            }\n            ty.NotificationCenter.trigger(shot.EventType.UPDATE_INFINITEBULLET_NUMBER);\n            ty.NotificationCenter.trigger(shot.EventType.UPDATE_LASERAIMING_NUMBER);\n            ty.NotificationCenter.trigger(shot.EventType.UPDATE_DIAMOND_NUMBER);\n            ty.NotificationCenter.trigger(shot.EventType.UPDATE_GRENADE_NUMBER);\n            // ty.NotificationCenter.trigger(ddz.EventType.UPDATE_BAG_INFO);\n        }\n    },\n\n    //按照时间从最近的到最晚的排序\n    _sortByTime: function(o1, o2) {\n        return o2['medal_getmedaltime'] - o1['medal_getmedaltime'];\n    },\n\n\n    clean: function() {\n        this.udataInfo.m_vip = 0;\n        this.udataInfo.m_sex = 0;\n        this.udataInfo.m_name = \"\";\n        this.udataInfo.m_purl = \"\";\n        this.udataInfo.m_isBeauty = false;\n    }\n});\n"]}