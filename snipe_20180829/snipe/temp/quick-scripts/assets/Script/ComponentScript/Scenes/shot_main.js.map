{"version":3,"sources":["shot_main.js"],"names":["cc","Class","extends","Component","ctor","crazyTimePanel","jugglingSchemaPanel","addScoreAniPool","properties","windowWidth","bgSprite","default","type","Sprite","bottomBucket","Node","topBucket","gunNode","bottomBucketWin","serializable","topBucketWin","gunNodeWin","openFireButton","Button","emptyGunCount","laserSprite","gameInfoNode","toolNode","levelLabel","Label","nowScoreLabel","bestScoreLabel","bulletCountNode","bulletCountLabel","infiniteBulletSprite","infiniteBulletButton","infiniteBulletCountLabel","laserButton","laserCountLabel","infiniteBulletTimeNode","infiniteBulletTimeSprite","countDownLabel","surpassNode","surpassTexture","Texture2D","surpassSpriteFrame","SpriteFrame","surpassSprite","surpassCount","addBulletButton","addBulletButtonLabel","addBulletButtonNumberLabel","addBulletSprite","addBulletSpriteList","levelAniNode","levelChangeLabel","doubleHitAniNode","doubleHit1","doubleHitLayout","Layout","doubleHit","infoAniNode","addScoreAniPrefab","Prefab","bulletAniNode","addBulletLabel","addBulletType","addBannerCount","infiniteFullTime","infiniteTime","doubleHitContinueNode","doubleHitContinueLabel","doubleHitContinueCount","crazyTimeStartCount","crazyTimeInCount","crazyTimeOutCount","crazyTimeEndCount","rightDistance","crazyTimeFullTime","crazyTimeCountDown","debugCount","doubleHitAniAction0","doubleHitAniAction1","isOnTouch","gameOverCount","onLoad","setSurpassNodeInit","winSize","director","getWinSize","width","bucketWindow","getComponent","parentScene","bucketWindow2","node","on","EventType","TOUCH_START","openFireButtonTouchStart","TOUCH_CANCEL","openFireButtonTouchCancel","TOUCH_END","openFireButtonTouchEnded","ty","NotificationCenter","listen","shot","GAME_START","gameStart","GAME_LEVEL_UP","levelUp","GlobalFuncs","setBulletType","toDay","hall","GlobalTimer","getCurDay","ReadStringFromLocalStorage","gameModel","LAST_VIDEO_DAY","setInLocalStorage","DAY_VIDEO_TIME","OPEN_BOX_CLOSE_DAY","OPEN_BOX_CLOSE_TIME","OPEN_BOX_CLOSE_STATE","OPEN_BOX_CLOSE_TIME_CHECK","OPEN_BOX_CLOSE_STATE_CHECK","REWARD_VIDEO_COMPLETE","rewardVideoComplete","REWARD_VIDEO_COMPLETE_ERROR","rewardVideoCompleteError","updateInfiniteByllet","updateGrenadeAiming","UPDATE_INFINITEBULLET_NUMBER","UPDATE_GRENADE_NUMBER","RESURGENCE_RESULT","useToolResult","STOP_DOUBLEHIT_COUNTDOWN","stopDoubleHitCountDown","REPLAY_BG_MUSIC","rePlayBgMusic","UPDATE_SHARE_STATE","playAnimationAfterShareWithType","string","Share","shareKeywordReplace","bestScoreForSelf","isNew","ReadBoolFromLocalStorage","IS_NEW_USER","showNewTipsPanel","AudioHelper","playMusic","EffectPath_mp3","musicGame","NodePool","k","addAniNode","instantiate","put","GameWorld","gunnerShareSchemeConfig","showBanner","y","adManager","getAdNodeList","length","i","hideAdNode","openDataContext","getOpenData","sharedCanvas","canvas","height","spriteFrame","setSurpassNode","initWithElement","handleLoadedTexture","_refreshTexture","changeTheBestScore","totalScore","upDateRankData","saveLevelScore","ME","udataInfo","infiniteBulletCount","grenadeCount","onBullet","debugMode","canUserLaser","bulletCount","gameLevel","MsgBoxManager","showToast","title","bulletInfinite","infiniteBulletTime","toolUserTimeConfig","getUniqueBoxId","consumeAssets","onGrenade","grenadeRunning","grenadeTime","onDoubleHitContinue","BiLog","clickStat","UserInfo","clickStatEventType","clickStatEventTypeButtonClick","showPropBox","doubleHitCountDownTime","active","result","success","itemId","propertyConfig","infiniteBullet","time","playEffect","grenadeBegin","onActionGrenade","afterGrenadeAction","bind","laserAimingCount","laserTime","nowBulletPenetrate","receiveGrenade","bucketCount","_shakeScreen","initPos","getPosition","initPos2","getRandomNumberBefore","actions","actions2","maxInShake","minInShake","moveInX","moveInY","moveTo","p","x","dstAction","sequence","dstAction2","runAction","getBucketRoundSpeedIn","getRoundSpeed","setAddBulletButton","getAllCheckConfig","addBullet","addCount","canPlay","addBulletTime","dayCount","ReadNumFromLocalStorage","isInBSGS","onAddBullet","shareWithType","onShareType","clickStatShareTypeAddBullet","showRewardedVideo","isEnd","rewardedVideoType","errorMsg","shareType","isFirst","gameOver","showOrigin","removeAllBottles","lastTreasureLevel","bottleCount","doubleHitCount","resurgenceTime","doubleHitContinueTime","initGameLevel","gameStartWithLevel","level","that","bulletConfig","bulletAddConfig","minLevel","maxLevel","bulletAddCount","levelAni","Animation","levelAniClipName","getClips","name","levelAnimation","getAnimationState","once","changeBucketWithLevel","bulletRunningTimeBottom","bulletRunningTimeTop","bulletType","doubleGunUseTime","doubleGunUseTimeCan","play","gamePause","gunFireIntervalNow","levelScore","scoreLevelConfig","specificLevel12","gapScore","decreaseScore","parseInt","addScore","initialScore","limitScore","bottleLifeCount","bottleConfig","bottleList","chooseBottleList","push","lifeCount","canHaveTreasure","treasureConfig","onlyConfig","probabilityConfig","levelConfig","boxConfig","boxList","j","boxBottle","Math","random","probability","bottleNameList","indexOf","treasureBoxType","decScore","changeIndex","setRotateTimeWithType","onlyList","setBottlesWithListNew","twoList","slice","gunFireInterval","openFireAction","stopThompsonRunning","bulletRunningTimeCan","openFireBulletAction","openFireGunAction","jugglingSchema","receiveBulletNew","receiveBullet","changeBulletCountLabel","crazyMoment","btnScaleEffectOnce","wx","vibrateShort","fail","complete","err","LOGE","JSON","stringify","openFire","stopRunningCount","emptyGunAction","comboContinue","comboContinueTime","doubleHitCountBest","stopDoubleHitAnimation","aniIndex","ani","clipName","animation","stop","bottleHit","bottleInfo","addScoreWithAnimation","crazyBottleScore","getFriendInfo","playBottomDeadAnimation","playDeadAnimation","score","aniNode","size","get","addAniW","setAddScore","addChild","ani2","anim2","removeFromParent","gameGetBox","crazyTimeGood","crazyMomentConfig","crazyLevelList","removeAllNodeForCrazy","jugglingSchemaConfig","jugglingLevelList","removeAllNodeForJuggling","LOGW","showGameOver","hideBannerAd","reTypeList","resurgenceType","bsgs","nBsgs","showGameOverWithMyScore","showResurgence","showCrazyTime","loader","loadRes","prefab","preFabNode","getScene","setToCenter","com","setCrazyTimeBucket","crazyBucketCon","crazyLevelConfig","bucketCon","crazyLevel","crazyTime","crazyBonus","bonusScore","crazyBucketList","setCrazyRotateTimeWithType","startCrazyTime","removeCrazyWhenEnd","crazyTimeEndEnter","addCrazyTimeScore","removeAllCrazyBottles","crazyMomentAnimation","removeCrazyNode","removeCrazyNode2","removeCrazyNode3","crazyTimeAddScore","removeCrazyNode4","crazyTimeOver","addJugglingSchemaNode","addJugglingSchemaScore","jugglingBottleScore","endJugglingSchema","jugglingSchemaAnimation","refresh","showBannerAd","update","dt","fillRange","setCountDownEnd","crazyTimeOut","onDebug","showDebugPanel","onDestroy","clear","ignoreScope","unscheduleAllCallbacks"],"mappings":"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","file":"shot_main.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/Scenes","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n    ctor :function () {\n        // this.userDataList = null;\n        this.crazyTimePanel = null;\n        this.jugglingSchemaPanel = null;\n        this.addScoreAniPool = null;\n    },\n\n    properties:{\n        windowWidth : 0,\n        bgSprite : {\n            default : null,\n            type : cc.Sprite\n        },\n        bottomBucket : {\n            default : null,\n            type : cc.Node\n        },\n        topBucket : {\n            default : null,\n            type : cc.Node\n        },\n        gunNode : {\n            default : null,\n            type : cc.Node\n        },\n        bottomBucketWin: {\n            default: null,\n            serializable: false\n        },\n        topBucketWin: {\n            default: null,\n            serializable: false\n        },\n        gunNodeWin: {\n            default: null,\n            serializable: false\n        },\n        openFireButton : {\n            default : null,\n            type : cc.Button\n        },\n        emptyGunCount : 0,\n        laserSprite : {\n            default : null,\n            type : cc.Sprite\n        },\n\n        gameInfoNode : {\n            default : null,\n            type : cc.Node\n        },\n        toolNode : {\n            default : null,\n            type : cc.Node\n        },\n        //Info\n        levelLabel : {\n            default : null,\n            type : cc.Label\n        },\n        nowScoreLabel : {\n            default : null,\n            type : cc.Label\n        },\n        bestScoreLabel : {\n            default : null,\n            type : cc.Label\n        },\n        bulletCountNode : {\n            default : null,\n            type : cc.Node\n        },\n        bulletCountLabel : {\n            default : null,\n            type : cc.Label\n        },\n        infiniteBulletSprite : {\n            default : null,\n            type : cc.Sprite\n        },\n        //道具\n        infiniteBulletButton : {\n            default : null,\n            type : cc.Button\n        },\n        infiniteBulletCountLabel : {\n            default : null,\n            type : cc.Label\n        },\n        laserButton : {\n            default : null,\n            type : cc.Button\n        },\n        laserCountLabel : {\n            default : null,\n            type : cc.Label\n        },\n        //倒计时\n        infiniteBulletTimeNode : {\n            default : null,\n            type : cc.Node\n        },\n        infiniteBulletTimeSprite : {\n            default : null,\n            type : cc.Sprite\n        },\n        countDownLabel : {\n            default : null,\n            type : cc.Label\n        },\n        //即将超越\n        surpassNode : {\n            default : null,\n            type : cc.Node\n        },\n        surpassTexture : cc.Texture2D,\n        surpassSpriteFrame : cc.SpriteFrame,\n        surpassSprite : cc.Sprite,\n        surpassCount : 0,\n\n        //看视频分享得子弹\n        addBulletButton : {\n            default : null,\n            type : cc.Button\n        },\n        addBulletButtonLabel : {\n            default : null,\n            type : cc.Label\n        },\n        addBulletButtonNumberLabel : {\n            default : null,\n            type : cc.Label\n        },\n        addBulletSprite : {\n            default : null,\n            type : cc.Sprite\n        },\n        addBulletSpriteList : [cc.SpriteFrame],\n\n        //Animation\n        levelAniNode : {\n            default : null,\n            type : cc.Node\n        },\n        levelChangeLabel : {\n            default : null,\n            type : cc.Label\n        },\n        doubleHitAniNode : {\n            default : null,\n            type:cc.Node\n        },\n        doubleHit1 : {\n            default : null,\n            type : cc.Label\n        },\n        doubleHitLayout : {\n            default : null,\n            type : cc.Layout\n        },\n        doubleHit : {\n            default : null,\n            type : cc.Label\n        },\n        infoAniNode : {\n            default : null,\n            type:cc.Node\n        },\n        addScoreAniPrefab :{\n            default : null,\n            type : cc.Prefab\n        },\n        bulletAniNode : {\n            default : null,\n            type:cc.Node\n        },\n        addBulletLabel : {\n            default : null,\n            type : cc.Label\n        },\n        addBulletType : \"\",\n\n        addBannerCount : 0,\n\n        infiniteFullTime : 0,\n        infiniteTime : 0,\n\n        doubleHitContinueNode : {\n            default : null,\n            type : cc.Node\n        },\n        doubleHitContinueLabel : {\n            default : null,\n            type : cc.Label\n        },\n        doubleHitContinueCount : 0,\n\n        crazyTimeStartCount : 0,\n        crazyTimeInCount : 0,\n        crazyTimeOutCount : 0,\n        crazyTimeEndCount : 0,\n        rightDistance : 0,\n        crazyTimeFullTime : 0,\n        crazyTimeCountDown : 0,\n\n        debugCount : 0,\n\n        doubleHitAniAction0 : false,\n        doubleHitAniAction1 : false,\n\n        isOnTouch : false,\n\n        gameOverCount : 0\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad : function () {\n        this.setSurpassNodeInit();\n\n        var winSize = cc.director.getWinSize();\n        this.windowWidth = winSize.width;\n        var bucketWindow = this.bottomBucket.getComponent('shot_bucket');\n        bucketWindow.parentScene = this;\n        this.bottomBucketWin = bucketWindow;\n        var bucketWindow2 = this.topBucket.getComponent('shot_bucket');\n        bucketWindow2.parentScene = this;\n        this.topBucketWin = bucketWindow2;\n        this.gunNodeWin = this.gunNode.getComponent('shot_gun');\n        this.gunNodeWin.parentScene = this;\n        this.openFireButton.node.on(cc.Node.EventType.TOUCH_START, this.openFireButtonTouchStart, this, true);\n        // this.openFireButton.node.on(cc.Node.EventType.TOUCH_MOVE, this.openFireButtonTouchMoved, this, true);\n        this.openFireButton.node.on(cc.Node.EventType.TOUCH_CANCEL, this.openFireButtonTouchCancel, this, true);\n        this.openFireButton.node.on(cc.Node.EventType.TOUCH_END, this.openFireButtonTouchEnded, this, true);\n        ty.NotificationCenter.listen(shot.EventType.GAME_START,this.gameStart, this);\n        ty.NotificationCenter.listen(shot.EventType.GAME_LEVEL_UP,this.levelUp, this);\n\n        //TODO:TEST\n        shot.GlobalFuncs.setBulletType(\"bulletType0\");\n        // ty.NotificationCenter.listen(shot.EventType.REPLACE_GUN,this.replaceGunAction, this);\n\n        var toDay = hall.GlobalTimer.getCurDay();\n        if(toDay != hall.GlobalFuncs.ReadStringFromLocalStorage(shot.gameModel.LAST_VIDEO_DAY,\"\")){\n            hall.GlobalFuncs.setInLocalStorage(shot.gameModel.LAST_VIDEO_DAY,toDay);\n            hall.GlobalFuncs.setInLocalStorage(shot.gameModel.DAY_VIDEO_TIME,0);\n        }\n        if(toDay != hall.GlobalFuncs.ReadStringFromLocalStorage(shot.gameModel.OPEN_BOX_CLOSE_DAY,\"\")){\n            hall.GlobalFuncs.setInLocalStorage(shot.gameModel.OPEN_BOX_CLOSE_DAY,toDay);\n            hall.GlobalFuncs.setInLocalStorage(shot.gameModel.OPEN_BOX_CLOSE_TIME,0);\n            hall.GlobalFuncs.setInLocalStorage(shot.gameModel.OPEN_BOX_CLOSE_STATE,0);\n            hall.GlobalFuncs.setInLocalStorage(shot.gameModel.OPEN_BOX_CLOSE_TIME_CHECK,0);\n            hall.GlobalFuncs.setInLocalStorage(shot.gameModel.OPEN_BOX_CLOSE_STATE_CHECK,0);\n        }\n\n        ty.NotificationCenter.listen(shot.EventType.REWARD_VIDEO_COMPLETE,this.rewardVideoComplete, this);\n        ty.NotificationCenter.listen(shot.EventType.REWARD_VIDEO_COMPLETE_ERROR,this.rewardVideoCompleteError, this);\n\n        //道具\n        this.updateInfiniteByllet();\n        this.updateGrenadeAiming();\n        ty.NotificationCenter.listen(shot.EventType.UPDATE_INFINITEBULLET_NUMBER,this.updateInfiniteByllet, this);\n        ty.NotificationCenter.listen(shot.EventType.UPDATE_GRENADE_NUMBER,this.updateGrenadeAiming, this);\n        ty.NotificationCenter.listen(shot.EventType.RESURGENCE_RESULT,this.useToolResult, this);\n        ty.NotificationCenter.listen(shot.EventType.STOP_DOUBLEHIT_COUNTDOWN,this.stopDoubleHitCountDown,this);\n\n        ty.NotificationCenter.listen(shot.EventType.REPLAY_BG_MUSIC,this.rePlayBgMusic, this);\n        ty.NotificationCenter.listen(shot.EventType.UPDATE_SHARE_STATE, this.playAnimationAfterShareWithType, this);\n\n        this.bestScoreLabel.string = \"最佳:\"+ shot.Share.shareKeywordReplace.bestScoreForSelf;\n\n\n        var isNew = hall.GlobalFuncs.ReadBoolFromLocalStorage(shot.gameModel.IS_NEW_USER,true);\n        if(isNew){\n            shot.GlobalFuncs.showNewTipsPanel();\n        }else {\n            this.gameStart(\"start\",true);\n        }\n        shot.AudioHelper.playMusic(shot.EffectPath_mp3.musicGame,true);\n\n        this.addScoreAniPool = new cc.NodePool();\n        for (var k = 0 ; k < 8 ; k ++){\n            var addAniNode = cc.instantiate(this.addScoreAniPrefab);\n            this.addScoreAniPool.put(addAniNode);\n        }\n\n        if(!shot.GameWorld.gunnerShareSchemeConfig || shot.GameWorld.gunnerShareSchemeConfig.showBanner){\n            this.gameInfoNode.y = 60;\n            this.toolNode.y = 60;\n            this.gunNode.y = 110;\n            this.addBannerCount = 120;\n        }\n\n\n        if(hall.adManager.getAdNodeList().length >= 1){\n            for (var i = 0 ; i < hall.adManager.getAdNodeList().length ; i ++){\n                hall.adManager.getAdNodeList()[i].hideAdNode();\n            }\n        }\n        // hall.adManager.adNodeObj.hideAdNode();\n    },\n\n    //超越好友\n    setSurpassNodeInit : function () {\n        var openDataContext = shot.GlobalFuncs.getOpenData();\n        if(!openDataContext){\n            return;\n        }\n        this.sharedCanvas = openDataContext.canvas;\n        this.sharedCanvas.width  = 300;\n        this.sharedCanvas.height = 60;\n\n        if(!this.surpassTexture){\n            this.surpassTexture = new cc.Texture2D();\n        }\n        if(!this.surpassSpriteFrame){\n            this.surpassSpriteFrame = new cc.SpriteFrame(this.surpassTexture);\n        }\n        this.surpassSprite.spriteFrame = this.surpassSpriteFrame;\n    },\n    setSurpassNode : function () {\n        this.surpassTexture.initWithElement(this.sharedCanvas);\n        this.surpassTexture.handleLoadedTexture();\n        this.surpassSprite.spriteFrame._refreshTexture(this.surpassTexture);\n    },\n    changeTheBestScore : function () {\n        if(shot.Share.shareKeywordReplace.bestScoreForSelf < shot.GameWorld.totalScore){\n            shot.Share.shareKeywordReplace.bestScoreForSelf = shot.GameWorld.totalScore;\n            shot.GlobalFuncs.upDateRankData(shot.GameWorld.totalScore);\n            shot.gameModel.saveLevelScore();\n        }\n        this.bestScoreLabel.string = \"最佳:\"+ shot.Share.shareKeywordReplace.bestScoreForSelf;\n    },\n\n    // 道具+得12颗子弹\n    updateInfiniteByllet:function(){\n        this.infiniteBulletCountLabel.string = \"无限子弹 x\" + hall.ME.udataInfo.infiniteBulletCount;\n    },\n    updateGrenadeAiming : function () {\n        this.laserCountLabel.string = \"手榴弹 x\" + hall.ME.udataInfo.grenadeCount;\n    },\n    onBullet : function () {\n        if(debugMode && shot.GameWorld.canUserLaser){\n            shot.GameWorld.bulletCount += 50;\n            return;\n        }\n        if(shot.GameWorld.gameLevel <= 2){\n            hall.MsgBoxManager.showToast({title : \"当前关卡已使用无限子弹道具\"});\n            return;\n        }\n        if(shot.GameWorld.bulletInfinite){\n            hall.MsgBoxManager.showToast({title : \"当前关卡已使用无限子弹道具\"});\n            return;\n        }\n        if(shot.GameWorld.infiniteBulletTime >= shot.GameWorld.toolUserTimeConfig.infiniteBulletTime){\n            hall.MsgBoxManager.showToast({title : \"一关只能使用\"+shot.GameWorld.toolUserTimeConfig.infiniteBulletTime+\"次哦~\"});\n            return;\n        }\n        if(!hall.ME.udataInfo.infiniteBulletCount){\n            shot.gameModel.getUniqueBoxId(\"item:1371\",\"wxzd\");\n            // hall.MsgBoxManager.showToast({title : \"当前没有无限子弹\"});\n            return;\n        }\n        shot.gameModel.consumeAssets(1,\"item:1371\");\n    },\n    onGrenade : function () {\n        if(shot.GameWorld.grenadeRunning){\n            hall.MsgBoxManager.showToast({title : \"正在使用手榴弹\"});\n            return;\n        }\n        if(shot.GameWorld.grenadeTime >= shot.GameWorld.toolUserTimeConfig.grenadeTime){\n            hall.MsgBoxManager.showToast({title : \"已经超过使用次数\"});\n            return;\n        }\n        if(!hall.ME.udataInfo.grenadeCount){\n            shot.gameModel.getUniqueBoxId(\"item:1390\",\"sld\");\n            // hall.MsgBoxManager.showToast({title:\"没有激光瞄准器了\"});\n            return;\n        }\n        shot.gameModel.consumeAssets(1,\"item:1390\");\n    },\n    onDoubleHitContinue : function () {\n        ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,[\"ComboContinue\"]);\n        shot.GlobalFuncs.showPropBox(null,true);\n        shot.GameWorld.doubleHitCountDownTime = false;\n    },\n    stopDoubleHitCountDown : function () {\n        this.doubleHitContinueNode.active = false;\n        this.doubleHitContinueCount = 0;\n        shot.GameWorld.doubleHitCountDownTime = false;\n    },\n    useToolResult : function (result) {\n        // {\n//     \"cmd\":\"game\",\n//     \"result\":{\n//     \"action\":\"consume_assets\",\n//         \"gameId\":106,\n//         \"userId\":10249,\n//         \"clientId\":\"H5_5.1_weixin.weixin.0-hall106.weixin.rich\",\n//         \"success\":1,\n//         \"itemId\":\"item:1371\",\n//         \"assetsCounts\":0\n// }\n// }\n        if(result.success == 1){\n            if(result.itemId == \"item:1371\"){\n                shot.GameWorld.bulletInfinite = true;\n                this.bulletCountLabel.string = \"\";\n                this.infiniteBulletSprite.node.active = true;\n                this.infiniteBulletCountLabel.string = \"无限子弹 x\" + hall.ME.udataInfo.infiniteBulletCount;\n                this.infiniteTime = shot.GameWorld.propertyConfig.infiniteBullet.time * 60;\n                this.infiniteFullTime = shot.GameWorld.propertyConfig.infiniteBullet.time * 60;\n                this.infiniteBulletTimeNode.active = true;\n                this.countDownLabel.string = shot.GameWorld.propertyConfig.infiniteBullet.time;\n                shot.GameWorld.infiniteBulletTime ++;\n            }else if(result.itemId == \"item:1390\"){\n                this.laserCountLabel.string = \"手榴弹 x\" + hall.ME.udataInfo.grenadeCount;\n                shot.GameWorld.grenadeRunning = true;\n                shot.GameWorld.grenadeTime ++;\n\n                shot.AudioHelper.playEffect(shot.EffectPath_mp3.grenadeBegin);\n                this.gunNodeWin.onActionGrenade(this.afterGrenadeAction.bind(this));\n                //\n                // var aniNode = cc.instantiate(this.grenadePrefab);\n                // this.grenadeAniNode.addChild(aniNode);\n                // var ani2 = aniNode.getComponent(cc.Animation);\n                // var anim2 = ani2.getAnimationState(\"shouleibaozha_01\");\n                // anim2.once(\"finished\", function () {\n                //     aniNode.removeFromParent();\n                //     shot.GameWorld.grenadeRunning = false;\n                // });\n                // anim2.play();\n\n                // shot.GameWorld.nowBulletPenetrate = 24;\n                // this.bottomBucketWin.receiveGrenade();\n                // if(shot.GameWorld.bucketCount == 2){\n                //     this.topBucketWin.receiveGrenade();\n                // }\n\n            }else {\n                this.laserSprite.node.active = true;\n                this.laserCountLabel.string = \"瞄准器 x\" + hall.ME.udataInfo.laserAimingCount;\n                shot.GameWorld.laserTime ++;\n            }\n        }else {\n            hall.MsgBoxManager.showToast({title : \"使用道具失败\"});\n        }\n    },\n    afterGrenadeAction : function () {\n        shot.GameWorld.nowBulletPenetrate = 24;\n        this.bottomBucketWin.receiveGrenade();\n        if(shot.GameWorld.bucketCount == 2){\n            this.topBucketWin.receiveGrenade();\n        }\n        this._shakeScreen();\n        // hall.GlobalFuncs.waggleEffect(this.gameInfoNode,0,0);\n        // hall.GlobalFuncs.waggleEffect(this.toolNode,0,0);\n        // hall.GlobalFuncs.waggleEffect(this.bottomBucket,0,293);\n        // hall.GlobalFuncs.waggleEffect(this.topBucket,0,293);\n    },\n    _shakeScreen: function() {\n\n        // this.view.ccbRootNode.setTag(999);\n        var initPos = this.topBucket.getPosition();\n        var initPos2 = this.bgSprite.node.getPosition();\n        // var length = hall.GlobalFuncs.getRandomTween(4, 8);\n        var length = hall.GlobalFuncs.getRandomNumberBefore(5)+4;\n        length *= 2;\n\n        var actions = [];\n        var actions2 = [];\n        var maxInShake = 18;\n        var minInShake = 7;\n        for (var i=0; i<length; i+=2) {\n            //创建动画\n            var moveInX = hall.GlobalFuncs.getRandomNumberBefore(maxInShake-minInShake+1)+minInShake;\n            if (hall.GlobalFuncs.getRandomNumberBefore(4)+1 <= 2) {\n                moveInX *= -1;\n            }\n            var moveInY = hall.GlobalFuncs.getRandomNumberBefore(maxInShake-minInShake+1)+minInShake;\n            if (hall.GlobalFuncs.getRandomNumberBefore(4)+1 <= 2) {\n                moveInY *= -1;\n            }\n            actions[i] = cc.moveTo(0.07, cc.p(initPos.x+moveInX,initPos.y+ moveInY));\n            actions[i+1] = cc.moveTo(0.07, initPos);\n            actions2[i] = cc.moveTo(0.07, cc.p(initPos2.x+moveInX,initPos2.y+ moveInY));\n            actions2[i+1] = cc.moveTo(0.07, initPos2);\n        }\n        var dstAction = cc.sequence(actions);\n        var dstAction2 = cc.sequence(actions2);\n        this.topBucket.runAction(dstAction);\n        this.bottomBucket.runAction(dstAction);\n        this.bgSprite.node.runAction(dstAction2);\n    },\n\n    getBucketRoundSpeedIn : function () {\n        if(shot.GameWorld.bucketCount == 2){\n            return this.topBucketWin.getRoundSpeed();\n        }\n        return this.bottomBucketWin.getRoundSpeed();\n    },\n    setAddBulletButton : function () {\n        if(shot.gameModel.getAllCheckConfig()){\n            this.addBulletButton.node.active = false;\n            return;\n        }\n\n        this.addBulletButtonNumberLabel.string = \"子弹+\"+shot.GameWorld.toolUserTimeConfig.addBullet.addCount;\n\n        if(hall.adManager.canPlay){\n            if(shot.GameWorld.addBulletTime >= shot.GameWorld.toolUserTimeConfig.addBullet.time){\n                this.addBulletButton.node.active = false;\n                return;\n            }\n            var dayCount = hall.GlobalFuncs.ReadNumFromLocalStorage(shot.gameModel.DAY_VIDEO_TIME,0);\n            if(dayCount >= 9){\n                if(ty.UserInfo.isInBSGS){\n                    this.addBulletButton.node.active = false;\n                    return;\n                }else {\n                    this.addBulletType = \"share\";\n                    this.addBulletButton.node.active = true;\n                    this.addBulletButtonLabel.string = \"分享到群\";\n                }\n            }else {\n                this.addBulletType = \"ad\";\n                this.addBulletButton.node.active = true;\n                this.addBulletButtonLabel.string = \"看视频\";\n            }\n        }else {\n            if(ty.UserInfo.isInBSGS){\n                this.addBulletButton.node.active = false;\n                return;\n            }else {\n                this.addBulletType = \"share\";\n                this.addBulletButton.node.active = true;\n                this.addBulletButtonLabel.string = \"分享到群\";\n            }\n        }\n\n        if(this.addBulletType == \"share\"){\n            this.addBulletSprite.spriteFrame = this.addBulletSpriteList[0];\n        }else {\n            this.addBulletSprite.spriteFrame = this.addBulletSpriteList[1];\n        }\n    },\n    onAddBullet : function () {\n        if(shot.GameWorld.gameLevel == 1 || shot.GameWorld.gameLevel == 2)\n        {\n            return;\n        }\n        if(shot.GameWorld.addBulletTime >= shot.GameWorld.toolUserTimeConfig.addBullet.time){\n            return;\n        }\n\n        if(this.addBulletType == \"share\"){\n            ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,[\"shareAddBullet\"]);\n            shot.Share.shareWithType(shot.Share.onShareType.clickStatShareTypeAddBullet);\n        }else if(this.addBulletType == \"ad\"){\n            var dayCount = hall.GlobalFuncs.ReadNumFromLocalStorage(shot.gameModel.DAY_VIDEO_TIME,0);\n            hall.GlobalFuncs.setInLocalStorage(shot.gameModel.DAY_VIDEO_TIME,dayCount+1);\n\n            ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,[\"adAddBullet\"]);\n            hall.adManager.showRewardedVideo(\"addBullet\");\n        }\n    },\n    rewardVideoComplete : function(isEnd){\n        if(hall.adManager.rewardedVideoType != \"addBullet\"){\n            return;\n        }\n        if(isEnd){\n            shot.GameWorld.addBulletTime ++;\n            shot.GameWorld.bulletCount += shot.GameWorld.toolUserTimeConfig.addBullet.addCount;\n            this.bulletCountLabel.string = \"\"+shot.GameWorld.bulletCount;\n            if(shot.GameWorld.addBulletTime == shot.GameWorld.toolUserTimeConfig.addBullet.time){\n                this.addBulletButton.node.active = false;\n            }\n        }else {\n            hall.MsgBoxManager.showToast({\"title\":\"视频播放未完成\"});\n        }\n        this.showBanner();\n        this.setAddBulletButton();\n    },\n    rewardVideoCompleteError : function (errorMsg) {\n        if(hall.adManager.rewardedVideoType != \"addBullet\"){\n            return;\n        }\n        hall.MsgBoxManager.showToast({\"title\":errorMsg});\n        this.showBanner();\n        this.setAddBulletButton();\n    },\n    playAnimationAfterShareWithType : function (shareType) {\n        if (shareType && shareType == shot.Share.onShareType.clickStatShareTypeAddBullet) {\n            this.showBanner();\n            this.setAddBulletButton();\n            shot.GameWorld.addBulletTime ++;\n            shot.GameWorld.bulletCount += shot.GameWorld.toolUserTimeConfig.addBullet.addCount;\n            this.bulletCountLabel.string = \"\"+shot.GameWorld.bulletCount;\n            if(shot.GameWorld.addBulletTime == shot.GameWorld.toolUserTimeConfig.addBullet.time){\n                this.addBulletButton.node.active = false;\n            }\n        }\n    },\n\n    //游戏过程\n    gameStart : function (type,isFirst) {\n        this.bestScoreLabel.string = \"最佳:\"+ shot.Share.shareKeywordReplace.bestScoreForSelf;\n        this.debugCount = 0;\n        shot.GameWorld.gameOver = false;\n        this.isOnTouch = false;\n        // this.stopThompsonRunning();\n        shot.GlobalFuncs.showOrigin();\n        this.setSurpassNodeInit();\n        if(type == \"start\"){\n            //游戏数据归零\n            this.bottomBucketWin.removeAllBottles();\n            this.topBucketWin.removeAllBottles();\n            shot.GameWorld.gameLevel = 1;\n            shot.GameWorld.lastTreasureLevel = 0;\n            shot.GameWorld.bottleCount = 0;\n            shot.GameWorld.bucketCount = 0;\n            shot.GameWorld.doubleHitCount = 0;\n            shot.GameWorld.totalScore = 0;\n            //道具、权益使用次数归零\n            shot.GameWorld.resurgenceTime = 0;\n            shot.GameWorld.infiniteBulletTime = 0;\n            // shot.GameWorld.laserTime = 0;\n            // shot.GameWorld.grenadeTime = 0;\n            // shot.GameWorld.addBulletTime = 0;\n            shot.GameWorld.doubleHitContinueTime = 0;\n\n            this.addBulletButton.node.active = false;\n            shot.GameWorld.bulletInfinite = true;\n            if(debugMode){\n                shot.GameWorld.gameLevel = shot.GameWorld.initGameLevel;\n                if(shot.GameWorld.initGameLevel > 1){\n                    shot.GameWorld.bulletCount += 50;\n                }\n            }\n            this.bulletCountLabel.string = \"\";\n            this.infiniteBulletSprite.node.active = true;\n            this.gameStartWithLevel();\n            if(!isFirst){\n                this.showBanner();\n            }\n            hall.GlobalFuncs.setInLocalStorage(shot.gameModel.OPEN_BOX_CLOSE_TIME,0);\n        }else {\n            shot.GameWorld.bulletCount += 12;\n            shot.GameWorld.resurgenceTime ++;\n            this.bulletCountLabel.string = \"\"+shot.GameWorld.bulletCount;\n            this.infiniteBulletSprite.node.active = false;\n            this.showBanner();\n        }\n        this.nowScoreLabel.string = shot.GameWorld.totalScore;\n    },\n    gameStartWithLevel : function () {\n        shot.GameWorld.infiniteBulletTime = 0;\n        shot.GameWorld.grenadeTime = 0;\n\n        var level = shot.GameWorld.gameLevel;\n        if(level == 1 || level == 2 || this.infiniteTime){\n            shot.GameWorld.bulletInfinite = true;\n        }\n        // shot.GameWorld.bulletInfinite = level == 1 || level == 2;\n        this.laserSprite.node.active = level <= 5;\n        var that = this;\n        //关卡通知动画\n        //增加子弹\n        var bulletConfig = shot.GameWorld.bulletAddConfig;\n        for (var i = 0 ; i < bulletConfig.length ; i ++){\n            if(bulletConfig[i].minLevel <= level && bulletConfig[i].maxLevel >= level){\n                shot.GameWorld.bulletCount += bulletConfig[i].bulletAddCount;\n                this.bulletAniNode.active = true;\n                this.addBulletLabel.string = \"+\"+bulletConfig[i].bulletAddCount;\n                break;\n            }\n        }\n        this.levelChangeLabel.node.x = 320;\n        this.levelChangeLabel.node.active = true;\n        if(level%5 == 0){\n            this.levelChangeLabel.string = \"BOSS关\";\n        }else {\n            this.levelChangeLabel.string = \"第\"+level+\"关\";\n        }\n        var levelAni = this.levelAniNode.getComponent(cc.Animation);\n        var levelAniClipName = levelAni.getClips()[0].name;\n        var levelAnimation = levelAni.getAnimationState(levelAniClipName);\n        levelAnimation.once(\"finished\", function () {\n            that.levelLabel.string = \"第\"+level+\"关\";\n            that.levelChangeLabel.node.active = false;\n            that.changeBucketWithLevel(level);\n\n            if(shot.GameWorld.bulletInfinite){\n                that.bulletCountLabel.string = \"\";\n                that.infiniteBulletSprite.node.active = true;\n            }else {\n                that.bulletCountLabel.string = \"\"+shot.GameWorld.bulletCount;\n                that.infiniteBulletSprite.node.active = false;\n            }\n            that.bulletAniNode.active = false;\n\n            //替换武器,初始化子弹\n            shot.GameWorld.bulletRunningTimeBottom = 0;//子弹连发属性\n            shot.GameWorld.bulletRunningTimeTop = 0;//子弹连发属性\n            if(shot.GameWorld.bulletType != \"bulletType0\"){ //武器\n                if(shot.GameWorld.doubleGunUseTime  < shot.GameWorld.doubleGunUseTimeCan){\n                    shot.GameWorld.doubleGunUseTime ++;\n                }else {\n                    hall.MsgBoxManager.showToast({\"title\":\"武器已失效\"});\n                    shot.GlobalFuncs.setBulletType(\"bulletType0\");\n                }\n            }\n        });\n        levelAnimation.play();\n    },\n    changeBucketWithLevel : function (level) {\n        shot.GameWorld.gamePause = false;\n        this.isOnTouch = false;\n        shot.GameWorld.gunFireIntervalNow = 0;\n        // shot.GameWorld.gunFireIntervalNowT = 0;\n        // shot.GameWorld.isOnThompsonRunning = false;\n        var levelScore = 0;\n        if(level == 1 || level == 2){\n            levelScore = shot.GameWorld.scoreLevelConfig.specificLevel12;\n        }else {\n            var gapScore = shot.GameWorld.scoreLevelConfig.decreaseScore*parseInt((level-1)/5);\n            var addScore = shot.GameWorld.scoreLevelConfig.initialScore + gapScore;\n            levelScore = addScore > shot.GameWorld.scoreLevelConfig.limitScore ? shot.GameWorld.scoreLevelConfig.limitScore : addScore;\n        }\n        // hall.LOGW(\"==shot_main==\",\"===level==\"+level+\"===score===\"+levelScore);\n        var bottleLifeCount = shot.GameWorld.bottleConfig;\n        var bottleList = [];\n        var chooseBottleList = [\"green\",\"purple\"];\n        //BOSS关卡添加红瓶子\n        if(level%5 == 0){\n            bottleList.push(\"red\");\n            chooseBottleList.push(\"orange\");\n            levelScore -= bottleLifeCount[\"red\"].lifeCount;\n        }\n        // //\n        var i;\n        //按照概率添加宝箱瓶子\n        var canHaveTreasure = true;\n        if(shot.GameWorld.treasureConfig && shot.GameWorld.treasureConfig.onlyConfig.length){\n            var onlyConfig;\n            for (i = 0 ; i < shot.GameWorld.treasureConfig.onlyConfig.length ; i ++){\n                onlyConfig = shot.GameWorld.treasureConfig.onlyConfig[i];\n                if(onlyConfig.minLevel > shot.GameWorld.lastTreasureLevel){\n                    break;\n                }\n                if(shot.GameWorld.lastTreasureLevel <= onlyConfig.maxLevel){\n                    if (level <= onlyConfig.maxLevel){\n                        canHaveTreasure = false;\n                    }\n                    break;\n                }\n            }\n        }\n        if(canHaveTreasure){\n            if(shot.GameWorld.treasureConfig && shot.GameWorld.treasureConfig.probabilityConfig.length){\n                var levelConfig;\n                var boxConfig ;\n                for (i = 0 ; i < shot.GameWorld.treasureConfig.probabilityConfig.length ; i ++){\n                    levelConfig = shot.GameWorld.treasureConfig.probabilityConfig[i];\n                    if(levelConfig.minLevel <= level && levelConfig.maxLevel >= level){\n                        boxConfig = levelConfig.boxList;\n                        for (var j = 0 ; j < boxConfig.length ; j ++){\n                            var boxBottle = boxConfig[j];\n                            if(Math.random() < boxBottle.probability){\n                                if(shot.GameWorld.bottleNameList.indexOf(boxBottle.treasureBoxType) > -1){\n                                    shot.GameWorld.lastTreasureLevel = level;\n                                    bottleList.push(boxBottle.treasureBoxType);\n                                    levelScore -= bottleLifeCount[boxBottle.treasureBoxType].lifeCount;\n                                    break;\n                                }\n                            }\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n\n        if(level == 1){\n            chooseBottleList = [\"green\"];\n        }else if(level == 2){\n            chooseBottleList = [\"purple\"];\n        }\n        while (levelScore > 0){\n            var type = chooseBottleList[hall.GlobalFuncs.getRandomNumberBefore(chooseBottleList.length)];\n            var decScore = bottleLifeCount[type].lifeCount;\n            if(levelScore >= decScore){\n                bottleList.push(type);\n                levelScore -= decScore;\n            }\n            if(levelScore == 1 && level == 2){\n                break;\n            }\n        }\n        //生成木桶瓶子数组\n        var bucketCount = level >10 ? 2 : 1;\n        shot.GameWorld.bucketCount = bucketCount;\n        shot.GameWorld.bottleCount = bottleList.length;\n        var changeIndex;\n        if(bucketCount == 1){\n            this.topBucket.active = false;\n            this.topBucketWin.setRotateTimeWithType('none');\n            this.bottomBucketWin.setRotateTimeWithType('only');\n            var onlyList = [];\n            for (i = 0 ; i < 12 ; i ++){\n                if(i < bottleList.length){\n                    onlyList.push(bottleList[i]);\n                }else {\n                    changeIndex = hall.GlobalFuncs.getRandomNumberBefore(i);\n                    onlyList[i] = onlyList[changeIndex];\n                    onlyList[changeIndex] = 'none';\n                }\n            }\n            this.bottomBucketWin.setBottlesWithListNew(onlyList);\n        }else {\n            this.topBucket.active = true;\n            this.topBucketWin.setRotateTimeWithType('top');\n            this.bottomBucketWin.setRotateTimeWithType('bottom');\n            var twoList = [];\n            for (i = 0 ; i < 24 ; i ++){\n                if(i < bottleList.length){\n                    twoList.push(bottleList[i]);\n                }else {\n                    changeIndex = hall.GlobalFuncs.getRandomNumberBefore(i);\n                    twoList[i] = twoList[changeIndex];\n                    twoList[changeIndex] = 'none';\n                }\n            }\n            this.topBucketWin.setBottlesWithListNew(twoList.slice(0,12));\n            this.bottomBucketWin.setBottlesWithListNew(twoList.slice(12));\n            // hall.LOGW(\"=====\",\"===level===\"+level+\"===bottleList===\"+JSON.stringify(twoList));\n        }\n    },\n    openFireButtonTouchStart : function () {\n        if(this.isOnTouch){\n            return;\n        }\n        this.isOnTouch = true;\n        if(shot.GameWorld.gunFireInterval && !shot.GameWorld.gamePause && !shot.GameWorld.gameOver){//汤姆逊冲锋枪按住连发,机枪\n            // shot.GameWorld.gunFireIntervalNow = shot.GameWorld.gunFireInterval;\n            shot.GameWorld.gunFireIntervalNow = shot.GameWorld.gunFireInterval;\n            // shot.GameWorld.gunFireIntervalNowT = shot.GameWorld.gunFireInterval;\n            // shot.GameWorld.isOnThompsonRunning = true;\n            this.openFireAction();\n        }\n    },\n    openFireButtonTouchCancel : function () {\n        this.isOnTouch = false;\n        this.stopThompsonRunning();\n    },\n    openFireButtonTouchEnded : function(){\n        // this.gunFireIntervalCount = 0;\n        if(!this.isOnTouch){\n            return;\n        }\n        this.isOnTouch = false;\n        this.stopThompsonRunning();\n        if(shot.GameWorld.bulletRunningTimeBottom || shot.GameWorld.gunFireInterval){ //特殊枪型\n            return;\n        }\n        if(shot.GameWorld.gameOver || shot.GameWorld.gamePause ){\n            return;\n        }\n\n        this.openFireAction();\n    },\n    openFireAction : function () {\n        // this.gunFireIntervalCount = 0;\n        this.emptyGunCount = 0;\n        shot.GameWorld.bulletRunningTimeBottom = shot.GameWorld.bulletRunningTimeCan;//子弹连发属性\n        shot.GameWorld.bulletRunningTimeTop = shot.GameWorld.bulletRunningTimeCan;//子弹连发属性\n\n        this.openFireBulletAction();\n        this.openFireGunAction();\n        // this.gunNodeWin.openFire();\n        if(!shot.GameWorld.jugglingSchema){\n            this.bottomBucketWin.receiveBulletNew();\n            this.topBucketWin.receiveBulletNew();\n        }else {\n            this.jugglingSchemaPanel.receiveBullet();\n        }\n\n    },\n    openFireBulletAction : function () {\n        // hall.LOGW(\"=====\",\"======openFireBulletAction======\");\n        if(shot.GameWorld.gameOver || shot.GameWorld.gamePause){\n            return;\n        }\n        if(shot.GameWorld.jugglingSchema){\n            this.jugglingSchemaPanel.changeBulletCountLabel();\n            return;\n        }\n        if(!shot.GameWorld.bulletInfinite && !shot.GameWorld.crazyMoment){\n            shot.GameWorld.bulletCount --;\n            if(shot.GameWorld.bulletCount < 0){\n                this.stopThompsonRunning();\n                this.gameOver();\n                return;\n            }\n            this.bulletCountLabel.string = shot.GameWorld.bulletCount+\"\";\n            this.infiniteBulletSprite.node.active = false;\n            if(shot.GameWorld.bulletCount <= 3){\n                hall.GlobalFuncs.btnScaleEffectOnce(this.bulletCountLabel,1.7);\n            }\n        }\n    },\n    openFireGunAction : function () {\n        try {\n            wx.vibrateShort({\n                success:function () {\n                },\n                fail : function () {\n                },\n                complete : function () {\n                }\n            });\n        }catch (err){\n            hall.LOGE(\"error:\", \"openFireGunAction——\" + JSON.stringify(err));\n        }\n\n        this.gunNodeWin.openFire();\n    },\n    stopThompsonRunning : function () {\n        // hall.LOGW(\"=====\",\"======stopThompsonRunning======\");\n        shot.GameWorld.gunFireIntervalNow = 0;\n        // shot.GameWorld.gunFireIntervalNowT = 0;\n        // shot.GameWorld.isOnThompsonRunning = false;\n        if(shot.GameWorld.gunFireInterval){//汤姆逊冲锋枪按住连发\n            this.bottomBucketWin.stopRunningCount();\n            if(shot.GameWorld.bucketCount == 2){\n                this.topBucketWin.stopRunningCount();\n            }\n            // this.gunNodeWin.stopGunAni();\n        }\n    },\n    emptyGunAction : function () {\n        // hall.LOGW(\"=====\",\"======emptyGunAction======\");\n        if(shot.GameWorld.crazyMoment || shot.GameWorld.gameOver){\n            return;\n        }\n        this.emptyGunCount ++;\n        if(this.emptyGunCount == shot.GameWorld.bucketCount){\n            // hall.LOGW(\"=====\",\"======emptyGunAction======\");\n            if(shot.GameWorld.doubleHitCount >= shot.GameWorld.toolUserTimeConfig.comboContinue &&\n                !shot.gameModel.getAllCheckConfig() &&\n            shot.GameWorld.doubleHitContinueTime < shot.GameWorld.toolUserTimeConfig.comboContinueTime){\n                shot.GameWorld.doubleHitCountBest = shot.GameWorld.doubleHitCount;\n                this.doubleHitContinueNode.active = true;\n                this.doubleHitContinueLabel.string = \"9\";\n                this.doubleHitContinueCount = 600;\n                shot.GameWorld.doubleHitCountDownTime = true;\n            }\n            shot.GameWorld.doubleHitCount = 0;\n            this.emptyGunCount = 0;\n            if(shot.GameWorld.bulletCount == 0 && !shot.GameWorld.bulletInfinite){\n                shot.GameWorld.gunFireIntervalNow = 0;\n                // shot.GameWorld.gunFireIntervalNowT = 0;\n                // shot.GameWorld.isOnThompsonRunning = false;\n                this.gameOver();\n            }\n        }\n    },\n    stopDoubleHitAnimation : function (aniIndex) {\n        if(this[\"doubleHitAniAction\"+aniIndex]){\n            var ani = this.doubleHitAniNode.getComponent(cc.Animation);\n            var clipName = ani.getClips()[aniIndex].name;\n            var animation = ani.getAnimationState(clipName);\n            animation.stop();\n        }\n    },\n    bottleHit : function (bottleInfo) {\n        // hall.LOGW(\"=====\",\"======bottleHit======\");\n        if(shot.GameWorld.crazyMoment){\n            if(bottleInfo.lifeCount == 0){\n                this.addScoreWithAnimation(shot.GameWorld.bottleConfig[bottleInfo.type].crazyBottleScore);\n            }\n            return;\n        }\n\n        //击中动画\n        shot.GameWorld.doubleHitCount += 1;\n        var aniIndex = 0;\n        if(shot.GameWorld.doubleHitCount == 1){\n            this.doubleHit1.node.active = true;\n            this.doubleHitLayout.node.active = false;\n        }else {\n            this.doubleHit1.node.active = false;\n            this.doubleHitLayout.node.active = true;\n            this.doubleHit.string = \"+\"+shot.GameWorld.doubleHitCount;\n            aniIndex = 1;\n        }\n        this.stopDoubleHitAnimation(aniIndex);\n        this[\"doubleHitAniAction\"+aniIndex] = true;\n        var ani = this.doubleHitAniNode.getComponent(cc.Animation);\n        var clipName = ani.getClips()[aniIndex].name;\n        var animation = ani.getAnimationState(clipName);\n        var that = this;\n        animation.once(\"finished\", function () {\n            that[\"doubleHitAniAction\"+aniIndex] = false;\n        });\n        animation.play();\n\n        shot.GameWorld.totalScore += shot.GameWorld.doubleHitCount;\n        shot.GlobalFuncs.getFriendInfo();\n        // this.getTheNextSurpassInfo();\n        this.nowScoreLabel.string = shot.GameWorld.totalScore;\n        // hall.LOGW(\"=====\",\"===totalScore===\"+shot.GameWorld.totalScore);\n        if(shot.GameWorld.bulletCount <= 0 && !shot.GameWorld.bulletInfinite) {//最后一颗子弹打中,但是还有不止一个瓶子\n            if(shot.GameWorld.bottleCount > 1 || (shot.GameWorld.bottleCount == 1 && bottleInfo.lifeCount > 0)){\n                this.gameOver();\n            }\n        }\n    },\n    playBottomDeadAnimation : function () {\n        this.bottomBucketWin.playDeadAnimation();\n    },\n    addScoreWithAnimation : function (score) {\n        shot.GameWorld.totalScore += score;\n        var aniNode ;\n        if(this.addScoreAniPool.size() > 0){\n            aniNode = this.addScoreAniPool.get();\n        }else {\n            aniNode = cc.instantiate(this.addScoreAniPrefab);\n        }\n        var addAniW = aniNode.getComponent(\"shot_addScoreAni\");\n        addAniW.setAddScore(score);\n        this.infoAniNode.addChild(aniNode);\n        var ani2 = aniNode.getComponent(cc.Animation);\n        var anim2 = ani2.getAnimationState(\"addScore\");\n        var that = this;\n        anim2.once(\"finished\", function () {\n            that.nowScoreLabel.string = shot.GameWorld.totalScore;\n            that.addScoreAniPool.put(aniNode);\n            aniNode.removeFromParent();\n        });\n        anim2.play();\n    },\n    levelUp : function () {\n        this.isOnTouch = false;\n        if(shot.GameWorld.gunFireIntervalNow){\n            this.stopThompsonRunning();\n        }\n        shot.GameWorld.gunFireIntervalNow = 0;\n        // shot.GameWorld.isOnThompsonRunning = false;\n        if(shot.GameWorld.gameGetBox){\n            //宝箱瓶\n            return;\n        }\n        if(shot.GameWorld.crazyMoment){\n            if(shot.GameWorld.bottleCount == 0 && !shot.GameWorld.gamePause){\n                this.crazyTimePanel.crazyTimeGood();\n                return;\n            }else {\n                shot.GameWorld.gamePause = true;\n                shot.GameWorld.bottleCount = 0;\n                this.infiniteBulletTimeNode.active = false;\n                shot.GameWorld.crazyMoment = false;\n                this.crazyTimePanel = null;\n            }\n        }\n        else if(shot.GameWorld.jugglingSchema){\n            // if(shot.GameWorld.bottleCount == 0 && !shot.GameWorld.gamePause){\n            //     this.jugglingSchemaPanel.jugglingSchemaGood();\n            //     return;\n            // }else {\n            shot.GameWorld.gamePause = true;\n            shot.GameWorld.bottleCount = 0;\n            this.infiniteBulletTimeNode.active = false;\n            shot.GameWorld.jugglingSchema = false;\n            this.jugglingSchemaPanel = null;\n            // }\n        }\n        else {\n            if(shot.GameWorld.gameLevel != 1 && shot.GameWorld.gameLevel != 2){\n                //增加剩余子弹的分数动画\n                if(!shot.GameWorld.bulletInfinite){\n                    this.addScoreWithAnimation(shot.GameWorld.bulletCount);\n                }\n            }\n            shot.GameWorld.gamePause = true;\n            if(shot.GameWorld.crazyMomentConfig.crazyLevelList.indexOf(shot.GameWorld.gameLevel) > -1){\n                shot.GameWorld.crazyMoment = true;\n                this.removeAllNodeForCrazy();\n                return;\n            }\n            if(shot.GameWorld.jugglingSchemaConfig.jugglingLevelList.indexOf(shot.GameWorld.gameLevel) > -1){\n                shot.GameWorld.jugglingSchema = true;\n                this.removeAllNodeForJuggling();\n                return;\n            }\n        }\n\n        //增加子弹\n        if(shot.GameWorld.gameLevel == 1){\n            shot.GameWorld.bulletCount = 0;\n            this.bulletCountLabel.string = \"\";\n            this.infiniteBulletSprite.node.active = true;\n        }else if(shot.GameWorld.gameLevel == 2){\n            shot.GameWorld.bulletCount = 0;\n            this.setAddBulletButton();\n        }\n\n        shot.GameWorld.bulletInfinite = false;\n\n        shot.GameWorld.gameLevel ++;\n        this.gameStartWithLevel();\n        this.changeTheBestScore();\n    },\n    gameOver : function () {\n        hall.LOGW(\"=====\",\"======gameOver======\");\n        shot.GameWorld.gameOver = true;\n        shot.GameWorld.bulletInfinite = false;\n        shot.GameWorld.bulletCount = 0;\n        this.gameOverCount = 60;\n        this.isOnTouch = false;\n        shot.GameWorld.gunFireIntervalNow = 0;\n    },\n    showGameOver : function () {\n        hall.adManager.hideBannerAd();\n        // hall.adManager.destroyBannerAd();\n        if(shot.GameWorld.gameGetBox){\n            return;\n        }\n        var reTypeList;\n        if(ty.UserInfo.isInBSGS){\n            reTypeList = shot.GameWorld.toolUserTimeConfig.resurgenceType.bsgs;\n        }else {\n            reTypeList = shot.GameWorld.toolUserTimeConfig.resurgenceType.nBsgs;\n        }\n        if(reTypeList[0] == \"ad\" && !hall.adManager.canPlay){\n            shot.GlobalFuncs.showGameOverWithMyScore();\n            return;\n        }\n        if(shot.GameWorld.resurgenceTime >= shot.GameWorld.toolUserTimeConfig.resurgenceTime || shot.gameModel.getAllCheckConfig()){\n            shot.GlobalFuncs.showGameOverWithMyScore();\n        }else {\n            shot.GlobalFuncs.showResurgence();\n        }\n    },\n\n    //展示疯狂时刻\n    removeAllNodeForCrazy : function () {\n        // this.levelLabel.string = \"疯狂时刻\";\n        this.bulletCountLabel.string = \"\";\n        this.infiniteBulletSprite.node.active = true;\n        this.crazyTimeStartCount = 120;\n        // hall.adManager.destroyBannerAd();\n        hall.adManager.hideBannerAd();\n        this.infiniteTime = 0;\n        this.infiniteBulletTimeNode.active = false;\n        this.doubleHitContinueNode.active = false;\n        // this.doubleHitContinueCount = 0;\n        shot.GameWorld.doubleHitCountDownTime = false;\n    },\n    showCrazyTime : function () {\n        cc.loader.loadRes('shot_prefabs/shot_crazyTime', function (err, prefab) {\n            var preFabNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(preFabNode);\n            shot.GlobalFuncs.setToCenter(preFabNode);\n            var com = preFabNode.getComponent('shot_crazyTime');\n            com.parentScene = this;\n            this.crazyTimePanel = com;\n        }.bind(this));\n    },\n    setCrazyTimeBucket : function () {\n        this.crazyTimeInCount = 60;\n        var crazyBucketCon = shot.GameWorld.crazyMomentConfig.crazyLevelConfig;\n        var bucketCon;\n        for (var i = 0 ; i < crazyBucketCon.length ; i ++){\n            if(crazyBucketCon[i].crazyLevel == shot.GameWorld.gameLevel){\n                bucketCon = crazyBucketCon[i];\n            }\n        }\n        this.crazyTimeFullTime = bucketCon.crazyTime;\n        shot.GameWorld.crazyBonus = bucketCon.bonusScore;\n\n        shot.GameWorld.bucketCount = bucketCon.crazyBucketList.length;\n        if(bucketCon.crazyBucketList.length == 1){\n            this.topBucket.active = false;\n            this.topBucketWin.setCrazyRotateTimeWithType('none');\n            this.bottomBucketWin.setCrazyRotateTimeWithType('bottom',bucketCon.crazyBucketList[0]);\n        }else {\n            this.topBucket.active = true;\n            this.bottomBucketWin.setCrazyRotateTimeWithType('bottom',bucketCon.crazyBucketList[0]);\n            this.topBucketWin.setCrazyRotateTimeWithType('top',bucketCon.crazyBucketList[1]);\n        }\n    },\n    startCrazyTime : function () {\n        this.infiniteBulletTimeNode.active = true;\n        this.crazyTimeCountDown = this.crazyTimeFullTime;\n        this.countDownLabel.string = this.crazyTimeCountDown;\n    },\n    removeCrazyWhenEnd : function () {\n        this.crazyTimeOutCount = 60;\n    },\n    crazyTimeEndEnter : function () {\n        this.crazyTimeEndCount = 60;\n        if(!shot.GameWorld.bulletInfinite){\n            this.bulletCountLabel.string = shot.GameWorld.bulletCount+\"\";\n            this.infiniteBulletSprite.node.active = false;\n        }\n    },\n    addCrazyTimeScore : function () {\n        this.crazyTimeCountDown = 0;\n        this.infiniteBulletTimeNode.active = false;\n\n        // shot.GameWorld.totalScore += shot.GameWorld.crazyBottleScore;\n\n        if(shot.GameWorld.bottleCount == 0){\n            this.addScoreWithAnimation(shot.GameWorld.crazyBonus);\n        }\n\n        this.bottomBucketWin.removeAllCrazyBottles();\n        this.topBucketWin.removeAllCrazyBottles();\n        shot.GlobalFuncs.getFriendInfo();\n        // this.getTheNextSurpassInfo();\n\n        if(this.doubleHitContinueCount){\n            shot.GameWorld.doubleHitCountDownTime = true;\n            this.doubleHitContinueNode.active = true;\n        }\n\n        this.showBanner();\n    },\n    //疯狂时刻计时\n    crazyMomentAnimation : function () {\n        if(this.crazyTimeStartCount){\n            this.crazyTimeStartCount --;\n            if(this.crazyTimeStartCount<60){\n                this.rightDistance = 4*(60-this.crazyTimeStartCount);\n                this.removeCrazyNode();\n            }\n            if(this.crazyTimeStartCount == 0){\n                this.showCrazyTime();\n            }\n        }\n        if(this.crazyTimeInCount){\n            this.crazyTimeInCount --;\n            this.rightDistance = 4*this.crazyTimeInCount;\n            this.removeCrazyNode2();\n            if(this.crazyTimeInCount == 0){\n                this.crazyTimePanel.startCrazyTime();\n            }\n        }\n        if(this.crazyTimeOutCount){\n            this.crazyTimeOutCount --;\n            this.rightDistance = 4*(60-this.crazyTimeOutCount);\n            this.removeCrazyNode3();\n            if(this.crazyTimeOutCount == 0){\n                this.crazyTimePanel.crazyTimeAddScore();\n            }\n        }\n        if(this.crazyTimeEndCount){\n            this.crazyTimeEndCount --;\n            this.rightDistance = 4*this.crazyTimeEndCount;\n            this.removeCrazyNode4();\n            if(this.crazyTimeEndCount == 0){\n                this.crazyTimePanel.crazyTimeOver();\n            }\n        }\n    },\n    removeCrazyNode : function () {\n        this.levelLabel.node.x = -300-this.rightDistance;\n        this.nowScoreLabel.node.x = -300-this.rightDistance;\n        this.bestScoreLabel.node.x = -300-this.rightDistance;\n        this.surpassNode.x = -300-this.rightDistance;\n        this.addBulletButton.node.x = -264-this.rightDistance;\n\n        this.infiniteBulletTimeNode.x = 220+this.rightDistance;\n        this.bulletCountNode.x = 220+this.rightDistance;\n        this.infiniteBulletButton.node.x = 238+this.rightDistance;\n        this.laserButton.node.x = 238+this.rightDistance;\n\n        this.bottomBucket.y = 293+this.rightDistance*5;\n        this.topBucket.y = 293+this.rightDistance*5;\n    },\n    removeCrazyNode2 : function () {\n        this.bottomBucket.y = 293+this.rightDistance*5;\n        this.topBucket.y = 293+this.rightDistance*5;\n\n        this.nowScoreLabel.node.x = -300-this.rightDistance;\n\n        this.infiniteBulletTimeNode.x = 220+this.rightDistance;\n        this.bulletCountNode.x = 220+this.rightDistance;\n    },\n    removeCrazyNode3 : function () {\n        this.nowScoreLabel.node.x = -300-this.rightDistance;\n\n        this.infiniteBulletTimeNode.x = 220+this.rightDistance;\n        this.bulletCountNode.x = 220+this.rightDistance;\n\n        this.bottomBucket.y = 293+this.rightDistance*5;\n        this.topBucket.y = 293+this.rightDistance*5;\n    },\n    removeCrazyNode4 : function () {\n        this.levelLabel.node.x = -300-this.rightDistance;\n        this.nowScoreLabel.node.x = -300-this.rightDistance;\n        this.bestScoreLabel.node.x = -300-this.rightDistance;\n        this.surpassNode.x = -300-this.rightDistance;\n        this.addBulletButton.node.x = -264-this.rightDistance;\n\n        this.infiniteBulletTimeNode.x = 220+this.rightDistance;\n        this.bulletCountNode.x = 220+this.rightDistance;\n        this.infiniteBulletButton.node.x = 238+this.rightDistance;\n        this.laserButton.node.x = 238+this.rightDistance;\n\n        this.bottomBucket.y = 293+this.rightDistance*5;\n        this.topBucket.y = 293+this.rightDistance*5;\n    },\n\n    //飞碟模式\n    removeAllNodeForJuggling : function () {\n        // this.levelLabel.string = \"飞碟模式\";\n        // this.bulletCountLabel.string = \"\";\n        // this.infiniteBulletSprite.node.active = true;\n        this.crazyTimeStartCount = 120;\n        // hall.adManager.destroyBannerAd();\n        hall.adManager.hideBannerAd();\n        this.infiniteTime = 0;\n        this.infiniteBulletTimeNode.active = false;\n        this.doubleHitContinueNode.active = false;\n        shot.GameWorld.doubleHitCountDownTime = false;\n    },\n    addJugglingSchemaNode : function () {\n        cc.loader.loadRes('shot_prefabs/shot_throw', function (err, prefab) {\n            var preFabNode = cc.instantiate(prefab);\n            cc.director.getScene().addChild(preFabNode);\n            shot.GlobalFuncs.setToCenter(preFabNode);\n            var com = preFabNode.getComponent('shot_throw');\n            com.parentScene = this;\n            this.jugglingSchemaPanel = com;\n            // com.changeOriginData();\n        }.bind(this));\n    },\n    addJugglingSchemaScore : function () {\n        this.infiniteBulletTimeNode.active = false;\n\n        this.addScoreWithAnimation(shot.GameWorld.jugglingBottleScore);\n\n        shot.GlobalFuncs.getFriendInfo();\n\n        if(this.doubleHitContinueCount){\n            shot.GameWorld.doubleHitCountDownTime = true;\n            this.doubleHitContinueNode.active = true;\n        }\n\n        this.showBanner();\n    },\n\n    endJugglingSchema : function () {\n        this.crazyTimeEndCount = 120\n    },\n    jugglingSchemaAnimation :function() {\n        if(this.crazyTimeStartCount){\n            this.crazyTimeStartCount --;\n            if(this.crazyTimeStartCount<60){\n                this.rightDistance = 4*(60-this.crazyTimeStartCount);\n                this.removeCrazyNode();\n            }\n            if(this.crazyTimeStartCount == 0){\n                this.addJugglingSchemaNode();\n            }\n        }\n        if(this.crazyTimeEndCount){\n            this.crazyTimeEndCount --;\n            this.rightDistance = 4*this.crazyTimeEndCount;\n            this.removeCrazyNode();\n            if(this.crazyTimeEndCount == 0){\n                this.addJugglingSchemaScore();\n                this.levelUp();\n                // this.crazyTimePanel.crazyTimeOver();\n            }\n        }\n    },\n\n    showBanner : function (refresh) {\n        hall.adManager.showBannerAd(\"adunit-53ba999759aa14de\",refresh);\n        // shot.curBannerAd.style.left = 0;\n        // top = res.height;\n        // if(ty.UserInfo.systemType == ty.UserInfo.SYSTEMTYPE.iPhoneXType){\n        //     shot.curBannerAd.style.top = screenHeight- top - 30;\n        // }else {\n        //     shot.curBannerAd.style.top = screenHeight- top;\n        // }\n        // hall.adManager.showBanner({x:0,y:shot.curBannerAd.style.top});\n        // this.bottomBucket.y = 293+this.normalNodeUp;\n        // this.topBucket.y = 293+this.normalNodeUp;\n        // this.gameInfoNode.y = this.normalNodeUp;\n        // this.toolNode.y = this.normalNodeUp;\n        // this.gunNode.y = this.gunNodeUp;\n    },\n\n    update : function(dt) {\n        this.surpassCount ++ ;\n        if(this.surpassCount >= 10){\n            this.surpassCount = 0;\n            this.setSurpassNode();\n        }\n        if(this.addBannerCount){\n            this.addBannerCount --;\n            if(this.addBannerCount == 0){\n                this.showBanner();\n            }\n        }\n        if(shot.GameWorld.gunFireIntervalNow && !shot.GameWorld.gamePause && !shot.GameWorld.gameOver && !shot.GameWorld.jugglingSchema){\n            shot.GameWorld.gunFireIntervalNow --;\n            if(shot.GameWorld.gunFireIntervalNow == 1){\n                shot.GameWorld.gunFireIntervalNow = shot.GameWorld.gunFireInterval;\n                this.openFireAction();\n            }\n        }\n        //游戏结束\n        if(shot.GameWorld.gameOver){\n            if(this.gameOverCount > 0){\n                this.gameOverCount -- ;\n                if(this.gameOverCount == 0){\n                    this.showGameOver();\n                }\n            }\n            return;\n        }\n        //续连击按钮\n        if(this.doubleHitContinueCount && shot.GameWorld.doubleHitCountDownTime){\n            this.doubleHitContinueCount --;\n            if(this.doubleHitContinueCount % 60 == 40){\n                this.doubleHitContinueLabel.string = this.doubleHitContinueCount/60 >>  0;\n            }\n            if(this.doubleHitContinueCount >= 570){\n                this.doubleHitContinueNode.x = -(this.doubleHitContinueCount-570)*4-this.windowWidth/2\n            }\n            if(this.doubleHitContinueCount <= 30){\n                this.doubleHitContinueNode.x = -(30-this.doubleHitContinueCount)*4-this.windowWidth/2\n            }\n            if(this.doubleHitContinueCount <= 0 ){\n                this.doubleHitContinueNode.active = false;\n                shot.GameWorld.doubleHitCountDownTime = false;\n            }\n        }\n        //疯狂时刻(进度条)\n        if(shot.GameWorld.crazyMoment && !shot.GameWorld.gamePause){\n            if(this.crazyTimeCountDown != 0){\n                this.crazyTimeCountDown -= dt;\n                this.infiniteBulletTimeSprite.fillRange = (this.crazyTimeCountDown/this.crazyTimeFullTime);\n                if(this.crazyTimeCountDown%1 < 0.15){\n                    this.countDownLabel.string = this.crazyTimeCountDown >> 0;\n                    this.crazyTimePanel.setCountDownEnd(this.countDownLabel.string);\n                }\n                if(this.crazyTimeCountDown <= 0){\n                    this.crazyTimeCountDown = 0;\n                    this.crazyTimePanel.crazyTimeOut();\n                    this.infiniteBulletTimeNode.active = false;\n                }\n            }\n            return;\n        }\n        //疯狂时刻(动画)\n        if(shot.GameWorld.crazyMoment){\n            this.crazyMomentAnimation();\n        }\n\n        //飞碟模式\n        if(shot.GameWorld.jugglingSchema){\n            this.jugglingSchemaAnimation();\n        }\n        //无限子弹倒计时\n        if(this.infiniteTime){\n            this.infiniteTime --;\n            if(this.infiniteTime == 0){\n                this.infiniteBulletTimeNode.active = false;\n                if(shot.GameWorld.bulletInfinite){\n                    shot.GameWorld.bulletInfinite = false;\n                    this.bulletCountLabel.string = \"\"+shot.GameWorld.bulletCount;\n                    this.infiniteBulletSprite.node.active = false;\n                }\n            }else {\n                if(this.infiniteTime % 60 == 0){\n                    this.countDownLabel.string = \"\"+ (this.infiniteTime/60 >> 0);\n                }\n                this.infiniteBulletTimeSprite.fillRange = (this.infiniteTime/this.infiniteFullTime);\n            }\n        }\n\n    },\n    rePlayBgMusic:function(){\n\n        hall.LOGW(\"==rePlayBgMusic===\",\"=====rePlayBgMusicrePlayBgMusic=====\");\n\n        shot.AudioHelper.playMusic(shot.EffectPath_mp3.musicGame,true);\n        // shot.AudioHelper.rePlayMusic();\n    },\n\n    onDebug : function () {\n        this.debugCount ++;\n        if(this.debugCount == 10){\n            debugMode = true;\n            shot.GlobalFuncs.showDebugPanel();\n            this.debugCount = 0;\n        }\n    },\n\n    onDestroy : function () {\n        // this.userDataList = null;\n        this.crazyTimePanel = null;\n        this.addScoreAniPool.clear();\n        ty.NotificationCenter.ignoreScope(this);\n        this.unscheduleAllCallbacks();\n    }\n\n    // openFireButtonTouchBegan : function(){\n    //\n    // },\n    // openFireButtonTouchMoved : function(){\n    //\n    // },\n    // openFireButtonTouchCancel : function(){\n    //\n    // },\n    // start () {\n    //\n    // },\n\n});\n"]}