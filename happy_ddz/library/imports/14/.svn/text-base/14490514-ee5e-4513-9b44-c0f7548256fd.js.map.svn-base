{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/window/assets/Script/ComponentScript/window/ddz_window_match_enter.js"],"names":["cc","Class","extends","Component","properties","titleLable","default","type","Label","detailLabel1","detailLabel1_value","detailLabel2","detailLabel2_value","RichText","buttonLable","winner_reward","winner2_reward","winner3_reward","onLoad","ty","NotificationCenter","listen","onSigninFail","ddz","EventType","RECEIVE_MATCH_WAIT_STATE","onMatchWait","SHOW_MATCHING","onClickClose","SAVE_MATCH_SUCCESS","onSaveMatch","state","matchModel","value","result","matchId","matchData","error","code","GlobalFuncs","showNormalTipsWindow","info","title","callFunc","updateByMatchData","hall","LOGD","ME","matchInfo","getCurrentMatchData","matchDes","matchDesMap","toString","LOGW","JSON","stringify","string","matchName","isRecordExist","record","stageIndex","stages","length","mscore","parsArr","taskDesc","split","matchType","indexOf","fees","desc","_des","str","slice","feeIndex","key","canPay","ranks","ignoreScope","node","destroy","onClickShowRewards","preFabPath","comName","showPopWinByPreFab","preFabNode","onClickMatchEnter","currentGameMode","waitInfo","getCurWaitInfo","MsgFactory","saveMatch","doMatchItemClick","matchResume","roomId","matchSignin","onDestroy","trigger","RESET_MATCH_CLICK_STATE"],"mappings":"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","file":"ddz_window_match_enter.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/window","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        titleLable: {\n            default: null,\n            type: cc.Label\n        },\n        detailLabel1: {\n            default: null,\n            type: cc.Label\n        },\n        detailLabel1_value: {\n            default: null,\n            type: cc.Label\n        },\n        detailLabel2: {\n            default: null,\n            type: cc.Label\n        },\n        detailLabel2_value: {\n            default: null,\n            type: cc.RichText\n        },\n        buttonLable: {\n            default: null,\n            type: cc.RichText\n        },\n        winner_reward: {\n            default: null,\n            type: cc.Label\n        },\n        winner2_reward: {\n            default: null,\n            type: cc.Label\n        },\n        winner3_reward: {\n            default: null,\n            type: cc.Label\n        }\n    },\n\n    onLoad: function() {\n        //this.hasSavedData = false;\n        //var data = {\n        //    savedData: {\n        //        curTurn: 5,\n        //        score: 400,\n        //        maxTurn: 9,\n        //    },\n        //    matchInfo:{\n        //        matchTime: \"满60人开赛\",\n        //        fees: [\n        //            {\n        //                type:\"diamond\",\n        //                count: 23\n        //            },\n        //            {\n        //                type:\"coin\",\n        //                count: 23000\n        //            }\n        //        ],\n        //        rewards: {\n        //            \"1\":{\n        //                type:\"money\",\n        //                num:10,\n        //                reward_des:\"10元微信红包\"\n        //            },\n        //            \"2\":{\n        //                type:\"coin\",\n        //                num:10000,\n        //                reward_des:\"10000金币\"\n        //            }\n        //        }\n        //    }\n        //};\n        //this.updateByMatchData(data)\n\n        ty.NotificationCenter.listen(\"signin_fail\", this.onSigninFail, this);\n        ty.NotificationCenter.listen(ddz.EventType.RECEIVE_MATCH_WAIT_STATE, this.onMatchWait, this);\n        ty.NotificationCenter.listen(ddz.EventType.SHOW_MATCHING, this.onClickClose, this);\n        ty.NotificationCenter.listen(ddz.EventType.SAVE_MATCH_SUCCESS, this.onSaveMatch, this);\n    },\n\n    onMatchWait: function(state) {\n        ddz.matchModel.onMatchWait(state);\n    },\n\n    onSigninFail: function(value) {\n        if(value.result.matchId == this.matchData.matchId) {\n           if(value.error.code == 7) {\n               //费用不足\n               // var matchDes = hall.ME.matchInfo.matchDesMap[this.matchData.matchId.toString()];\n               // var feeDesc = matchDes.fees[this.feeIndex].desc;\n               // var type = '';\n               // if(feeDesc.indexOf(\"钻石\") >=0) {\n               //     type = 'diamond';\n               // } else if(feeDesc.indexOf(\"金币\") >=0){\n               //     type = 'coin';\n               // }\n               // var self = this;\n               // var preFabPath = \"prefabs/ddz_window_fee_lack\";\n               // var  comName = \"ddz_window_fee_lack\";\n               // hall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n               //     var window = preFabNode.getComponent(comName);\n               //     window.updateByFeeType(type);\n               // });\n           }\n           else if (value.error.code == 2 || value.error.code == 4){\n               ddz.GlobalFuncs.showNormalTipsWindow(value.error.info, [{\n                   title : '确定',\n                   callFunc :function () {}\n               }])\n           }\n        }\n    },\n\n    /*\n     {\n     \"cmd\": \"room\",\n     \"result\": {\n     \"action\": \"match_des\",\n     \"gameId\": 6,\n     \"roomId\": 67901000,\n     \"matchId\": 6791,\n     \"userId\": 10069,\n     \"name\": \"1\\元\\红\\包\\赛\",\n     \"desc\": \"\\满90\\人\\开\\赛\\，\\等\\待\\时\\间\\短\\，\\轮\\转\\速\\度\\快\\。\\\\n9\\轮1\\局\\瑞\\士\\移\\位\\决\\出\\所\\有\\名\\次\\。\",\n     \"type\": \"common_arena_match\",\n     \"fees\": [\"1\\钻\\石\", \"1000\\金\\币\"],\n     \"ranks\": [{\n     \"start\": 1,\n     \"end\": 1,\n     \"desc\": \"1\\元\"\n     }, {\n     \"start\": 2,\n     \"end\": 2,\n     \"desc\": \"6000\\金\\币+0.02\\元\"\n     }, {\n     \"start\": 3,\n     \"end\": 3,\n     \"desc\": \"4000\\金\\币+0.02\\元\"\n     }, {\n     \"start\": 4,\n     \"end\": 6,\n     \"desc\": \"3000\\金\\币+0.01\\元\"\n     }, {\n     \"start\": 7,\n     \"end\": 12,\n     \"desc\": \"2000\\金\\币\"\n     }, {\n     \"start\": 13,\n     \"end\": 21,\n     \"desc\": \"1500\\金\\币\"\n     }, {\n     \"start\": 22,\n     \"end\": 33,\n     \"desc\": \"200\\金\\币\"\n     }, {\n     \"start\": 34,\n     \"end\": 45,\n     \"desc\": \"500\\金\\币\"\n     }],\n     \"stages\": [{\n     \"index\": 1,\n     \"name\": \"90\\进75\",\n     \"riseUserCount\": 75,\n     \"totalUserCount\": 90\n     }, {\n     \"index\": 2,\n     \"name\": \"75\\进60\",\n     \"riseUserCount\": 60,\n     \"totalUserCount\": 75\n     }, {\n     \"index\": 3,\n     \"name\": \"60\\进45\",\n     \"riseUserCount\": 45,\n     \"totalUserCount\": 60\n     }, {\n     \"index\": 4,\n     \"name\": \"45\\进33\",\n     \"riseUserCount\": 33,\n     \"totalUserCount\": 45\n     }, {\n     \"index\": 5,\n     \"name\": \"33\\进21\",\n     \"riseUserCount\": 21,\n     \"totalUserCount\": 33\n     }, {\n     \"index\": 6,\n     \"name\": \"21\\进12\",\n     \"riseUserCount\": 12,\n     \"totalUserCount\": 21\n     }, {\n     \"index\": 7,\n     \"name\": \"12\\进6\",\n     \"riseUserCount\": 6,\n     \"totalUserCount\": 12\n     }, {\n     \"index\": 8,\n     \"name\": \"6\\进3\",\n     \"riseUserCount\": 3,\n     \"totalUserCount\": 6\n     }, {\n     \"index\": 9,\n     \"name\": \"\\决\\赛\",\n     \"riseUserCount\": 1,\n     \"totalUserCount\": 3\n     }],\n     \"histories\": {\n     \"playCount\": 3,\n     \"crownCount\": 0,\n     \"bestRank\": 12,\n     \"records\": [{\n     \"time\": 1525402663,\n     \"desc\": \"\\第12\\名\\，\\奖\\励2000\\金\\币\"\n     }]\n     },\n     \"condition\": 90,\n     \"timeRange\": \"20\\分\\钟\",\n     \"matchIntroduce\": \"\\本\\比\\赛\\采\\用\\快\\速\\赛\\赛\\制\"\n     }\n     }\n     */\n    updateByMatchData: function() {\n        hall.LOGD(\"updateByMatchData\", \"gogogo\");\n        this.matchData = hall.ME.matchInfo.getCurrentMatchData();\n        var matchDes = hall.ME.matchInfo.matchDesMap[this.matchData.matchId.toString()];\n        hall.LOGW(\"\",\"file = [ddz_window_match_enter] fun = [updateByMatchData] matchDes = \" + JSON.stringify(matchDes));\n        this.titleLable.string = this.matchData.matchName;\n        if(this.matchData.isRecordExist()) {\n            this.detailLabel1.string = \"轮次:\";\n            this.detailLabel2.string = \"积分:\";\n            this.detailLabel1_value.string = this.matchData.record.stageIndex + '/' + matchDes.stages.length;\n            this.detailLabel2_value.string = \"<color=#1A6951>\" + this.matchData.record.mscore + \"</c>\";\n            this.buttonLable.string = \"<color=#ffffff>继 续</color>\";\n        } else {\n            this.detailLabel1.string = \"开赛条件:\";\n            this.detailLabel2.string = \"报名费用:\";\n            var parsArr = this.matchData.taskDesc.split(\"||\");\n            this.detailLabel1_value.string = this.matchData.matchType.indexOf(\"common_arena_match\") > -1 ? \"满90人开赛\" : parsArr[0];\n            if(matchDes.fees && matchDes.fees.length == 1) {\n                this.detailLabel2_value.string = matchDes.fees[0].desc;\n                var _des = matchDes.fees[0].desc;\n                if (_des.indexOf(\"金币\") >= 0) {\n                    var str = _des.slice(0,_des.indexOf(\"金币\"));\n                    this.detailLabel2_value.string = \"<img src='ddz_coin_green' height=36 width=36/><color=#1A6951> \" + str + \"</c>\";\n                }else if (_des.indexOf(\"钻石\") >= 0) {\n                    var str = _des.slice(0,_des.indexOf(\"钻石\"));\n                    this.detailLabel2_value.string = \"<img src='dda_button_diamond_black' height=34 width=42/><color=#1A6951> \" + str + \"</c>\";\n                }\n                this.feeIndex = 0;\n            }\n            else {\n                var desc = matchDes.fees[0].desc;\n                this.feeIndex = 0;\n                for(var key = 0; key < matchDes.fees.length; key++) {\n                    if(matchDes.fees[key].canPay) {\n                        desc = matchDes.fees[key];\n                        this.feeIndex = key;\n                        break;\n                    }\n                }\n                this.detailLabel2_value.string = \"<color=#1A6951>\" + matchDes.fees[this.feeIndex].desc + \"</c>\";\n                var _des = matchDes.fees[this.feeIndex].desc;\n                if (_des.indexOf(\"金币\") >= 0) {\n                    var str = _des.slice(0,_des.indexOf(\"金币\"));\n                    this.detailLabel2_value.string = \"<img src='ddz_coin_green' height=36 width=36/><color=#1A6951> \" + str + \"</c>\";\n                }else if (_des.indexOf(\"钻石\") >= 0) {\n                    var str = _des.slice(0,_des.indexOf(\"钻石\"));\n                    this.detailLabel2_value.string = \"<img src='dda_button_diamond_black' height=34 width=42/><color=#1A6951>\" + str + \"</c>\";\n                }\n            }\n            this.buttonLable.string = \"<color=#ffffff>报 名</color>\";\n        }\n        if(matchDes && matchDes.ranks) {\n            this.winner_reward.string = matchDes.ranks[0].desc;\n            this.winner2_reward.string = matchDes.ranks[1].desc;\n            this.winner3_reward.string = matchDes.ranks[2].desc;\n        } else {\n\n        }\n    },\n\n\n    onClickClose: function() {\n        ty.NotificationCenter.ignoreScope(this);\n        this.node.destroy();\n    },\n\n    onClickShowRewards: function() {\n        var preFabPath = \"prefabs/ddz_window_match_rewards\";\n        var  comName = \"ddz_window_match_rewards\";\n        hall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n            //var window = preFabNode.getComponent(comName);\n            //window.parentScene = that;\n            //var tips = desc;\n            //window.setTitleContentAndButtons(\"提示\",tips, testArray);\n        });\n    },\n\n    onClickMatchEnter: function() {\n        ddz.matchModel.currentGameMode = \"arena\";\n        hall.LOGD(\"onClickMatchEnter\",\"test001\");\n\n        var waitInfo = ddz.matchModel.getCurWaitInfo();\n        if (waitInfo && waitInfo.matchId == 6789){\n            ddz.MsgFactory.saveMatch();\n        } else {\n            this.doMatchItemClick();\n        }\n    },\n\n    onSaveMatch:function () {\n        this.doMatchItemClick();\n    },\n\n    doMatchItemClick:function () {\n        if(this.matchData && this.matchData.isRecordExist()) {\n            //继续\n            ddz.matchModel.matchResume(this.matchData.roomId, this.matchData.matchId);\n        } else {\n            ddz.matchModel.matchSignin(this.matchData.roomId, this.matchData.matchId, this.feeIndex);\n        }\n    },\n\n    onDestroy: function() {\n        ty.NotificationCenter.trigger(ddz.EventType.RESET_MATCH_CLICK_STATE);\n        ty.NotificationCenter.ignoreScope(this);\n    }\n\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n\n    // update (dt) {},\n});\n"]}