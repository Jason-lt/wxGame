{"version":3,"sources":["../../../../../../assets/Script/ddz/models/assets/Script/ddz/models/DetailsModel.js"],"names":["ddz","detailsModel","resuslts","curRound","totalRound","avatars","sumScores","nickNames","whoWin","playMode","isOver","isNowin","isHistory","mySeatIndex","parseResults","results","length","clearDetail","isEnd","i","winloses","_winloses","parseWinLose","setIsNoWin","_nowin","index","_isEnd","singleScore","copyList","push","delta","avatar","nickname","score","indexOf","Math","max","apply","parseFriendRound","_curRound","_totalRound","getAvatars","getWhoWin","getSumScore","setIsOver","_isOver","getIsOver","setIsHisTory","_isHistory","getIsHisTory","setMySeatIndex","_mySeatIndex","getMySeatIndex","getNickNames","getTotalRound"],"mappings":"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","file":"DetailsModel.js","sourceRoot":"../../../../../../assets/Script/ddz/models","sourcesContent":["\n/*\n * 对局流水 数据解析\n *\n *\"results\":[\n 　　　　　　{\n 　　　　　　　　\"base\":1,\n 　　　　　　　　\"winloses\":[\n 　　　　　　　　　　{\n 　　　　　　　　　　　　\"delta\":6,\n 　　　　　　　　　　　　\"multi\":6,\n 　　　　　　　　　　　　\"score\":6,\n 　　　　　　　　　　　　\"isDizhu\":false,\n 　　　　　　　　　　　　\"nickname\":\"许敬\",\n 　　　　　　　　　　　　\"avatar\":\"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKvtG0bAIJaKib1TbfzEyzQq4iatjzNOn7NPh6DUBkuSf9FUebMKiaJLonkricvb61vpJV9vCNyC2jgvw/0\"\n 　　　　　　　　　　},\n 　　　　　　　　　　{\n 　　　　　　　　　　　　\"delta\":6,\n 　　　　　　　　　　　　\"multi\":6,\n 　　　　　　　　　　　　\"score\":6,\n 　　　　　　　　　　　　\"isDizhu\":false,\n 　　　　　　　　　　　　\"nickname\":\"许昕妍\",\n 　　　　　　　　　　　　\"avatar\":\"http://ddz.image.tuyoo.com/avatar/head_suv.png\"\n 　　　　　　　　　　},\n 　　　　　　　　　　{\n 　　　　　　　　　　　　\"delta\":-12,\n 　　　　　　　　　　　　\"multi\":12,\n 　　　　　　　　　　　　\"score\":-12,\n 　　　　　　　　　　　　\"isDizhu\":true,\n 　　　　　　　　　　　　\"nickname\":\"jason\",\n 　　　　　　　　　　　　\"avatar\":\"http://ddz.dl.tuyoo.com/cdn37/hall/avatar/New_avatar_170828.png\"\n 　　　　　　　　　　}\n 　　　　　　　　]\n 　　　　　　}\n 　　　　]\n * */\n\n\nddz.detailsModel = {\n    resuslts:[],\n    curRound: 0,     //好友桌总当前局数\n    totalRound: 0,   //好友桌总局数\n    avatars:[],\n    sumScores:[0,0,0],\n    nickNames:[],\n    whoWin:-1,\n    playMode:\"经典玩法\",\n    isOver:false,\n    isNowin:false,\n    isHistory:false,\n    mySeatIndex:0,\n\n    parseResults:function(results){\n        if (!results || results.length <= 0) {\n            if (this.curRound <= 1 && this.totalRound > 0){\n                if (this.isHistory) {\n                    this.clearDetail();\n                }\n            }\n        }else {\n            this.resuslts = [];\n            var isEnd = false;\n            for (var i = 0; i < results.length; i++){\n                if (results[i].winloses) {\n                    var _winloses = results[i].winloses;\n                    if (i == results.length - 1){\n                        isEnd = true;\n                    }\n                    this.parseWinLose(_winloses,i,isEnd);\n                }\n            }\n        }\n    },\n\n    setIsNoWin:function(_nowin){\n        this.isNowin = _nowin;\n    },\n\n    parseWinLose: function (_winloses,index,_isEnd) {\n        var singleScore = [];\n        var copyList = _winloses;\n\n        for (var i = 0; i < 3; i++){\n            singleScore.push(copyList[i].delta);\n            this.avatars[i] = copyList[i].avatar;\n            this.nickNames[i] = copyList[i].nickname;\n            if (_isEnd){\n                this.sumScores[i] = copyList[i].score;\n                this.whoWin = this.sumScores.indexOf(Math.max.apply(Math, this.sumScores));\n\n            }\n        }\n        this.resuslts[index] = singleScore;\n    },\n\n\n    // 对局流水, 解析当前局数和总局数\n    parseFriendRound:function(_curRound,_totalRound){\n        this.curRound = _curRound;\n        this.totalRound = _totalRound;\n\n        // var _isOver = this.totalRound > 0 ? this.curRound == this.totalRound : false;\n        // this.setIsOver(_isOver);\n    },\n\n    // 对局流水, 获取当前桌玩家头像,名字信息\n    getAvatars:function(){\n        return this.avatars;\n    },\n    \n    getWhoWin:function(){\n        return this.whoWin;\n    },\n\n    getSumScore:function(){\n        return this.sumScores;\n    },\n\n    setIsOver:function(_isOver){\n        this.isOver = _isOver;\n    },\n\n    // 获取当前这一局是不是本场最后一局\n    getIsOver:function(){\n        return this.isOver;\n    },\n\n    setIsHisTory:function(_isHistory){\n        this.isHistory = _isHistory;\n    },\n\n    getIsHisTory:function(){\n        return this.isHistory;\n    },\n\n    setMySeatIndex:function(_mySeatIndex){\n        this.mySeatIndex = _mySeatIndex;\n    },\n\n    getMySeatIndex:function(){\n        return this.mySeatIndex;\n    },\n\n    getNickNames:function(){\n        return this.nickNames;\n    },\n    \n    getTotalRound:function(){\n        return this.totalRound;\n    },\n\n    clearDetail:function(){\n        this.resuslts = [];\n        this.curRound = 0;\n        this.totalRound = 0;\n        this.avatars = [];\n        this.sumScores = [0,0,0];\n        this.nickNames = [];\n        this.whoWin = -1;\n        this.isOver = false;\n        this.isHistory = false;\n        this.mySeatIndex = 0;\n    }\n\n};"]}