{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/window/assets/Script/ComponentScript/window/ddz_helpBox.js"],"names":["cc","Class","extends","Component","properties","unCoinNumber","Label","unDiamondNumber","getCoinNumber","getDiamondNumber","centerBtn","Button","emptyBox","Node","reward_di","onLoad","that","ani_2","node","getComponent","Animation","play","scheduleOnce","ani","updateRewardInfo","data","_uncount","rewards","_rewards","string","boxIsEmpty","drawRewards","_drawRewards","ty","NotificationCenter","trigger","ddz","EventType","IS_HAVE_REWARD","onSeekHelp","Share","shareWithType","onShareType","clickStatShareTypeSeekHelpFriend","active","stop","removeLoopAni","shut","destroy","onClose","ddz_helpBox"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,sBAAaL,GAAGM,KADR;AAERC,yBAAgBP,GAAGM,KAFX;AAGRE,uBAAcR,GAAGM,KAHT;AAIRG,0BAAiBT,GAAGM,KAJZ;AAKRI,mBAAUV,GAAGW,MALL;AAMRC,kBAASZ,GAAGa,IANJ;AAORC,mBAAUd,GAAGa;;AAPL,KAHP;;AAcLE,YAAO,kBAAU;AACb,YAAIC,OAAO,IAAX;AACA,YAAIC,QAAQD,KAAKE,IAAL,CAAUC,YAAV,CAAuBnB,GAAGoB,SAA1B,CAAZ;AACAH,cAAMI,IAAN,CAAW,aAAX;AACA,aAAKC,YAAL,CAAkB,YAAY;AAC1B,gBAAIC,MAAMP,KAAKF,SAAL,CAAeK,YAAf,CAA4BnB,GAAGoB,SAA/B,CAAV;AACAG,gBAAIF,IAAJ,CAAS,SAAT;AACH,SAHD,EAGG,CAHH;AAIH,KAtBI;;AAwBLG,sBAAiB,0BAASC,IAAT,EAAc;AAC3B,YAAIC,WAAW,CAAf;AACA,YAAID,KAAKE,OAAT,EAAiB;AAAG;AAChB,gBAAIC,WAAWH,KAAKE,OAApB;;AAEA,gBAAIC,SAAS,WAAT,IAAwB,CAA5B,EAA+B;AAC3B,qBAAKrB,eAAL,CAAqBsB,MAArB,GAA8BD,SAAS,WAAT,IAAwB,EAAtD;AACAF,2BAAWA,WAAWE,SAAS,WAAT,CAAtB;AACH;AACD,gBAAIA,SAAS,WAAT,IAAwB,CAA5B,EAA8B;AAC1B,qBAAKvB,YAAL,CAAkBwB,MAAlB,GAA2BD,SAAS,WAAT,IAAwB,EAAnD;AACAF,2BAAWA,WAAWE,SAAS,WAAT,CAAtB;AACH;AACJ;;AAED,YAAIF,YAAY,CAAhB,EAAmB;AACf,iBAAKI,UAAL;AACH;;AAED,YAAIL,KAAKM,WAAT,EAAqB;AAAG;AACpB,gBAAIC,eAAeP,KAAKM,WAAxB;;AAEA,gBAAIC,aAAa,WAAb,IAA4B,CAAhC,EAAmC;AAC/B,qBAAKvB,gBAAL,CAAsBoB,MAAtB,GAA+BG,aAAa,WAAb,IAA4B,EAA3D;AACH;AACD,gBAAIA,aAAa,WAAb,IAA4B,CAAhC,EAAkC;AAC9B,qBAAKxB,aAAL,CAAmBqB,MAAnB,GAA4BG,aAAa,WAAb,IAA4B,EAAxD;AACH;AACJ;AACDC,WAAGC,kBAAH,CAAsBC,OAAtB,CAA8BC,IAAIC,SAAJ,CAAcC,cAA5C,EAA4Db,IAA5D;AACH,KAtDI;;AAwDLc,gBAAW,sBAAU;AACjB;AACA;AACAH,YAAII,KAAJ,CAAUC,aAAV,CAAwBL,IAAII,KAAJ,CAAUE,WAAV,CAAsBC,gCAA9C;AAEH,KA7DI;;AA+DLb,gBAAW,sBAAU;AACjB,aAAKlB,QAAL,CAAcgC,MAAd,GAAuB,IAAvB;AACA,aAAKlC,SAAL,CAAeQ,IAAf,CAAoB0B,MAApB,GAA6B,KAA7B;AACA,YAAI3B,QAAQ,KAAKC,IAAL,CAAUC,YAAV,CAAuBnB,GAAGoB,SAA1B,CAAZ;AACAH,cAAM4B,IAAN;AACH,KApEI;;AAsELC,mBAAc,yBAAY;AACtB,YAAIvB,MAAM,KAAKT,SAAL,CAAeK,YAAf,CAA4BnB,GAAGoB,SAA/B,CAAV;AACAG,YAAIsB,IAAJ;;AAEA,YAAI5B,QAAQ,KAAKC,IAAL,CAAUC,YAAV,CAAuBnB,GAAGoB,SAA1B,CAAZ;AACAH,cAAM4B,IAAN;AACH,KA5EI;;AA8ELE,UAAK,gBAAY;AACb,aAAKD,aAAL;AACA,aAAK5B,IAAL,CAAU8B,OAAV;AACH,KAjFI;;AAmFLC,aAAQ,mBAAU;AACd,aAAKF,IAAL;AACAX,YAAIc,WAAJ,GAAkB,IAAlB;AACH;AAtFI,CAAT","file":"ddz_helpBox.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/window","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        unCoinNumber:cc.Label,\n        unDiamondNumber:cc.Label,\n        getCoinNumber:cc.Label,\n        getDiamondNumber:cc.Label,\n        centerBtn:cc.Button,\n        emptyBox:cc.Node,\n        reward_di:cc.Node,\n\n    },\n\n    onLoad:function(){\n        var that = this;\n        var ani_2 = that.node.getComponent(cc.Animation);\n        ani_2.play('ddz_helpBox');\n        this.scheduleOnce(function () {\n            var ani = that.reward_di.getComponent(cc.Animation);\n            ani.play('btnTick');\n        }, 1);\n    },\n\n    updateRewardInfo:function(data){\n        var _uncount = 0;\n        if (data.rewards){  // 未领取\n            var _rewards = data.rewards;\n\n            if (_rewards['item:1311'] > 0) {\n                this.unDiamondNumber.string = _rewards['item:1311'] + \"\";\n                _uncount = _uncount + _rewards['item:1311'];\n            }\n            if (_rewards['user:chip'] > 0){\n                this.unCoinNumber.string = _rewards['user:chip'] + \"\";\n                _uncount = _uncount + _rewards['user:chip'];\n            }\n        }\n\n        if (_uncount == 0) {\n            this.boxIsEmpty();\n        }\n\n        if (data.drawRewards){  // 领取\n            var _drawRewards = data.drawRewards;\n\n            if (_drawRewards['item:1311'] > 0) {\n                this.getDiamondNumber.string = _drawRewards['item:1311'] + \"\";\n            }\n            if (_drawRewards['user:chip'] > 0){\n                this.getCoinNumber.string = _drawRewards['user:chip'] + \"\";\n            }\n        }\n        ty.NotificationCenter.trigger(ddz.EventType.IS_HAVE_REWARD, data);\n    },\n\n    onSeekHelp:function(){\n        // ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,\n        //     [\"diamondShareFriend\"]);\n        ddz.Share.shareWithType(ddz.Share.onShareType.clickStatShareTypeSeekHelpFriend);\n\n    },\n\n    boxIsEmpty:function(){\n        this.emptyBox.active = true;\n        this.centerBtn.node.active = false;\n        var ani_2 = this.node.getComponent(cc.Animation);\n        ani_2.stop();\n    },\n\n    removeLoopAni:function () {\n        var ani = this.reward_di.getComponent(cc.Animation);\n        ani.stop();\n\n        var ani_2 = this.node.getComponent(cc.Animation);\n        ani_2.stop();\n    },\n\n    shut:function () {\n        this.removeLoopAni();\n        this.node.destroy();\n    },\n\n    onClose:function(){\n        this.shut();\n        ddz.ddz_helpBox = null;\n    }\n});\n"]}