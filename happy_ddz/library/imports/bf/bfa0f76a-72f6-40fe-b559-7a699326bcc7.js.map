{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/component/assets/Script/ComponentScript/component/ddz_cell_recharge.js"],"names":["cc","Class","extends","Component","properties","malletText","default","type","RichText","diamondText","Label","ratioLabel","redBar","Node","sureBtn","Button","diamondSpr","Sprite","onLoad","ty","NotificationCenter","listen","ddz","EventType","UPDATE_CONVERSION_STATE","onUpdateBtnState","hall","GlobalFuncs","btnEffect","node","addDataWithObject","objc","setDetailInformation","resultMap","LOGD","JSON","stringify","string","m_diamond","updateMallet","m_mallet","m_id","m_name","num","str","updateRedBar","active","Math","round","isEnabled","interactable","onClickBtn","Recharge","createOrder","onDestroy","ignoreScope"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAa;AACTC,qBAAU,IADD;AAETC,kBAAOP,GAAGQ;AAFD,SADL;AAKRC,qBAAc;AACVH,qBAAU,IADA;AAEVC,kBAAOP,GAAGU;AAFA,SALN;AASRC,oBAAa;AACTL,qBAAU,IADD;AAETC,kBAAOP,GAAGU;AAFD,SATL;AAaRE,gBAAS;AACLN,qBAAU,IADL;AAELC,kBAAOP,GAAGa;AAFL,SAbD;AAiBRC,iBAAU;AACNR,qBAAU,IADJ;AAENC,kBAAOP,GAAGe;AAFJ,SAjBF;AAqBRC,oBAAa;AACTV,qBAAU,IADD;AAETC,kBAAOP,GAAGiB;AAFD;AArBL,KAHP;;AA8BLC,YAAO,kBAAY;AACfC,WAAGC,kBAAH,CAAsBC,MAAtB,CAA6BC,IAAIC,SAAJ,CAAcC,uBAA3C,EAAmE,KAAKC,gBAAxE,EAAyF,IAAzF;AACAC,aAAKC,WAAL,CAAiBC,SAAjB,CAA2B,KAAKd,OAAL,CAAae,IAAxC,EAA6C,GAA7C,EAAiD,IAAjD;AACH,KAjCI;;AAmCLC,uBAAoB,2BAAUC,IAAV,EAAgB;AAChC,aAAKC,oBAAL,CAA0BD,IAA1B;AACH,KArCI;;AAuCLC,0BAAqB,8BAAUC,SAAV,EAAqB;AACtCP,aAAKQ,IAAL,CAAU,EAAV,EAAa,yEAAyEC,KAAKC,SAAL,CAAeH,SAAf,CAAtF;AACA,aAAKxB,WAAL,CAAiB4B,MAAjB,GAA0BJ,UAAUK,SAApC;AACA,aAAKC,YAAL,CAAkBN,UAAUO,QAA5B;AACA;AACA,aAAKC,IAAL,GAAYR,UAAUQ,IAAtB;AACA,aAAKD,QAAL,GAAgBP,UAAUO,QAA1B;AACA,aAAKE,MAAL,GAAcT,UAAUS,MAAxB;AACH,KA/CI;;AAiDLH,kBAAa,sBAAUI,GAAV,EAAe;AACxB,YAAIC,MAAM,qBAAqBD,GAArB,GAA2B,MAArC;AACA,aAAKtC,UAAL,CAAgBgC,MAAhB,GAAyBO,GAAzB;AACH,KApDI;;AAsDLC,kBAAa,sBAAUF,GAAV,EAAe;AACxB;AACA,YAAIA,OAAOA,MAAM,CAAjB,EAAoB;AAChB,iBAAK/B,MAAL,CAAYkC,MAAZ,GAAqB,IAArB;AACA,iBAAKnC,UAAL,CAAgB0B,MAAhB,GAAyB,OAAQU,KAAKC,KAAL,CAAWL,MAAM,KAAjB,IAAwB,GAAhC,GAAuC,GAAhE;AACH,SAHD,MAGM;AACF,iBAAK/B,MAAL,CAAYkC,MAAZ,GAAqB,KAArB;AACH;AACJ,KA9DI;;AAgELrB,sBAAkB,0BAASwB,SAAT,EAAmB;AACjC,aAAKnC,OAAL,CAAaoC,YAAb,GAA4BD,SAA5B;AACH,KAlEI;;AAoELE,gBAAW,sBAAY;AACnB;AACA;AACAhC,WAAGiC,QAAH,CAAYC,WAAZ,CAAwB,KAAKZ,IAA7B,EAAkC,KAAKD,QAAvC,EAAgD,KAAKE,MAArD;AACH,KAxEI;;AA0ELY,eAAY,qBAAY;AACpBnC,WAAGC,kBAAH,CAAsBmC,WAAtB,CAAkC,IAAlC;AACH;AA5EI,CAAT","file":"ddz_cell_recharge.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        malletText : {\n            default : null,\n            type : cc.RichText\n        },\n        diamondText : {\n            default : null,\n            type : cc.Label\n        },\n        ratioLabel : {\n            default : null,\n            type : cc.Label\n        },\n        redBar : {\n            default : null,\n            type : cc.Node\n        },\n        sureBtn : {\n            default : null,\n            type : cc.Button\n        },\n        diamondSpr : {\n            default : null,\n            type : cc.Sprite\n        },\n    },\n\n    onLoad:function () {\n        ty.NotificationCenter.listen(ddz.EventType.UPDATE_CONVERSION_STATE,this.onUpdateBtnState,this);\n        hall.GlobalFuncs.btnEffect(this.sureBtn.node,1.1,this);\n    },\n\n    addDataWithObject : function (objc) {\n        this.setDetailInformation(objc);\n    },\n\n    setDetailInformation:function (resultMap) {\n        hall.LOGD(\"\",\"file = [ddz_cell_recharge] fun = [setDetailInformation] resultMap = \" + JSON.stringify(resultMap) );\n        this.diamondText.string = resultMap.m_diamond;\n        this.updateMallet(resultMap.m_mallet);\n        // this.updateRedBar(resultMap.radio);\n        this.m_id = resultMap.m_id;\n        this.m_mallet = resultMap.m_mallet;\n        this.m_name = resultMap.m_name;\n    },\n\n    updateMallet:function (num) {\n        var str = \"<color=#FFFFFF>￥\" + num + \"</c>\";\n        this.malletText.string = str;\n    },\n\n    updateRedBar:function (num) {\n        // (Math.round(this * 10000)/100).toFixed(2) + '%';\n        if (num && num > 0) {\n            this.redBar.active = true;\n            this.ratioLabel.string = \"多送\" + (Math.round(num * 10000)/100) + '%';\n        }else {\n            this.redBar.active = false;\n        }\n    },\n\n    onUpdateBtnState: function(isEnabled){\n        this.sureBtn.interactable = isEnabled;\n    },\n\n    onClickBtn:function () {\n        // ddz.LOGD(null,\"file = [ddz_cell_mall] fun = [onClickBtn] this.index = \" + this.index);\n        // ty.NotificationCenter.trigger(ddz.EventType.UPDATE_CONVERSION_STATE,false);\n        ty.Recharge.createOrder(this.m_id,this.m_mallet,this.m_name);\n    },\n\n    onDestroy : function () {\n        ty.NotificationCenter.ignoreScope(this);\n    },\n});\n"]}