{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/window/assets/Script/ComponentScript/window/ddz_game_result_through.js"],"names":["cc","Class","extends","Component","properties","betLabel_1","default","type","Label","betLabel_2","betLabel_3","betLabel_win","betLabel_lose","tipsRich","RichText","backButton","Button","scoreGoldSprite","Sprite","winNode","Node","failNode","winLabel","failLabel","nextBtn","shareButton","nextBtnLabel","timeNumber","shareType","shareData","lizi01","lizi02","lizi03","lizi04","jiesuanguodu","betLabel","bottomNode","onLoad","backButtonH","ddz","GlobalFuncs","getBackButtonPositionY","node","y","ty","NotificationCenter","listen","EventType","UPDATE_BUTTON_TEXT","onGetRewardCount","REMOVE_TABLE_ANI","onRemoveAni","bc","gameModel","getRoomListBannerConfigJson","playResurtBanner","winnerCount","matchModel","getCurWinnerCount","start","hall","adManager","showAllWidthBannerAd","val","that","pointId","Share","SharePointType","alms","leftCount","almsConfig","getAlmsConfigJson","cityKey","UserInfo","isInBSGS","par","almsWindow","initWithPar","showPopWinByPreFab","preFabNode","getComponent","setTableScene","tableScene","_tableScene","ani","Animation","anim_1","getAnimationState","stop","nextBtnAction","destroyWidthBannerAd","gameResultPanel","anim","anim2","_reset","stopAllActions","box_share","boxId","shareKeywordReplace","inviteTreasureID","BiLog","clickStat","clickStatEventType","clickStatEventTypeEndGiveProp","active","desc","onTreasureBox","windoubles","anim1","once","play","matchResultPanel","showResults","backAction","AudioHelper","playEffect","EffectPath_mp3","back_button_click_sound","tableinfo","tableInfo","_mixID","mixId","MsgFactory","getRoomLeave","roomId","tableId","_mySeatIndex","show","result","LOGD","mySeatIndex","dizhuWin","dizhuwin","isWin","stat","dizhu","trigger","CLOSE_BETBOXABSTRACT","mySeatInfo","delta","string","winChip","roomMutil","call","bomb","Math","pow","chuntian","parseInt","resetSystem","updateNextBtnLabel","tiemr","callFunc","runAction","sequence","delayTime","callBackFun","onDestroy","ignoreScope"],"mappings":"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","file":"ddz_game_result_through.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/window","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        betLabel_1 : {\n            default : null,\n            type : cc.Label\n        },\n        betLabel_2 : {\n            default : null,\n            type : cc.Label\n        },\n        betLabel_3 : {\n            default : null,\n            type : cc.Label\n        },\n        betLabel_win : {\n            default : null,\n            type : cc.Label\n        },\n\n        betLabel_lose : {\n            default : null,\n            type : cc.Label\n        },\n\n        tipsRich : {\n            default : null,\n            type : cc.RichText\n        },\n        backButton : {\n            default : null,\n            type : cc.Button\n        },\n\n        scoreGoldSprite : {\n            default : null,\n            type : cc.Sprite\n        },\n\n        winNode : cc.Node,\n        failNode : cc.Node,\n        winLabel : cc.Label,\n        failLabel : cc.Label,\n        nextBtn : cc.Button,\n        shareButton : cc.Button,\n        nextBtnLabel : cc.RichText,\n        timeNumber : 5,\n        shareType : \"\",\n        shareData : \"\",\n\n        lizi01: cc.Node,\n        lizi02: cc.Node,\n        lizi03: cc.Node,\n        lizi04: cc.Node,\n\n        jiesuanguodu:cc.Node,\n\n        betLabel:cc.Label,\n\n        bottomNode:cc.Node,\n\n        // hasClickNext : false\n    },\n\n    onLoad:function () {\n        var backButtonH = ddz.GlobalFuncs.getBackButtonPositionY();\n        if (backButtonH){\n            this.backButton.node.y = backButtonH;\n        }\n        ty.NotificationCenter.listen(ty.EventType.UPDATE_BUTTON_TEXT, this.onGetRewardCount, this);\n        ty.NotificationCenter.listen(ddz.EventType.REMOVE_TABLE_ANI, this.onRemoveAni, this);\n        var bc = ddz.gameModel.getRoomListBannerConfigJson();\n        if (bc) {\n            this.playResurtBanner();\n        }\n    },\n\n    playResurtBanner:function(bc){\n        var winnerCount = ddz.matchModel.getCurWinnerCount();\n        if (bc.start) {\n            if (winnerCount >= bc.start) {\n                // if (!ddz.curAllWidthBannerAd){\n                //     hall.adManager.showAllWidthBannerAd('adunit-811cc4e234425489');\n                // }\n                hall.adManager.showAllWidthBannerAd('adunit-811cc4e234425489');\n            }\n        }else {\n            // if (!ddz.curAllWidthBannerAd){\n            //     hall.adManager.showAllWidthBannerAd('adunit-811cc4e234425489');\n            // }\n            hall.adManager.showAllWidthBannerAd('adunit-811cc4e234425489');\n        }\n    },\n\n    onGetRewardCount:function (val) {\n        var that = this;\n\n        if (val.pointId != ddz.Share.SharePointType.alms){\n            return\n        }\n\n        if (val.leftCount > 0){\n            //弹出领取救济金窗口\n            var almsConfig = ddz.gameModel.getAlmsConfigJson();\n            var cityKey = ty.UserInfo.isInBSGS ? 'bsgsCity' : 'otherCity';\n            var par = almsConfig[cityKey];\n            if (ddz.almsWindow) {\n                ddz.almsWindow.initWithPar(par);\n                return\n            }\n            hall.GlobalFuncs.showPopWinByPreFab('prefabs/ddz_window_alms', function (preFabNode) {\n                ddz.almsWindow = preFabNode.getComponent('AlmsWindow');\n                ddz.almsWindow.initWithPar(par);\n            });\n        }\n    },\n\n    setTableScene:function (tableScene) {\n        this._tableScene = tableScene;\n    },\n\n    onRemoveAni:function () {\n        var ani = this.jiesuanguodu.getComponent(cc.Animation);\n        var anim_1 = ani.getAnimationState('jiesuanguodu01');\n        if (anim_1) {\n            anim_1.stop();\n        }\n    },\n\n    nextBtnAction:function () {\n\n        hall.adManager.destroyWidthBannerAd();\n        ddz.gameResultPanel = null;\n        var anim = this.winNode.getComponent(cc.Animation);\n        anim.stop();\n        var anim2 = this.failNode.getComponent(cc.Animation);\n        anim2.stop();\n        this._tableScene._reset();\n        this.node.stopAllActions();\n        //弹出宝箱\n        if (this.box_share && this.box_share.boxId && this.box_share.boxId != \"\"){\n            ddz.Share.shareKeywordReplace.inviteTreasureID = this.box_share.boxId;\n            ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeEndGiveProp,\n                [this.box_share.boxId]);\n            this.bottomNode.active = false;\n            this.jiesuanguodu.active = true;\n            var that = this;\n            if (this.box_share.desc == \"春天宝箱\") {\n                that.node.active = false;\n                hall.GlobalFuncs.onTreasureBox(that.box_share,that.windoubles);\n                that.jiesuanguodu.active = false;\n            }else {\n                var ani = this.jiesuanguodu.getComponent(cc.Animation);\n                var anim1 = ani.getAnimationState('jiesuanguodu01');\n                anim1.once(\"finished\", function () {\n                    that.node.active = false;\n                    hall.GlobalFuncs.onTreasureBox(that.box_share,that.windoubles);\n                    that.jiesuanguodu.active = false;\n                });\n                anim1.play();\n            }\n        }else {\n            this.node.active = false;\n            if (ddz.matchResultPanel) {\n                ddz.matchResultPanel.showResults(true);\n            }\n        }\n    },\n\n    backAction : function () {\n        ddz.AudioHelper.playEffect(ddz.EffectPath_mp3.back_button_click_sound, false);\n        var tableinfo = this._tableScene.tableInfo();\n        var _mixID = tableinfo.mixId;\n        ddz.gameResultPanel = null;\n        // var _mixID = hall.gameWorld.getRoomMixId(ddz.Enums.PlayType.PLAY_TYPE_JINGDIAN,tableinfo.roomName);\n        ddz.MsgFactory.getRoomLeave(tableinfo.roomId(), tableinfo.tableId(), this._tableScene._mySeatIndex, _mixID);\n    },\n    \n    show:function (result) {\n        ddz.LOGD(\"\",\"file = [ddz_]\");\n        // this.backButton.node.active = true;\n        var mySeatIndex = result.mySeatIndex;\n        var dizhuWin = result.dizhuwin == 1;\n        var isWin = false;\n\n        this.box_share = result[\"box_share\"];\n        this.windoubles = result[\"windoubles\"];\n\n        if (mySeatIndex == result.stat.dizhu){\n            isWin = dizhuWin;\n        }\n        else{\n            isWin = !dizhuWin;\n        }\n        ty.NotificationCenter.trigger(ddz.EventType.CLOSE_BETBOXABSTRACT);\n        var mySeatInfo = result['seat' + mySeatIndex];\n        var delta = mySeatInfo[0];\n        // this.scoreGoldSprite.node.active = true;\n        var anim;\n\n        if(isWin){\n            this.winNode.active = true;\n            this.failNode.active = false;\n            // this.winLabel.node.active = true;\n            // this.winLabel.string = delta;\n            // this.failLabel.node.active = false;\n            anim = this.winNode.getComponent(cc.Animation);\n            anim.play('winTitle');\n            this.betLabel_win.node.active = true;\n            this.betLabel_lose.node.active = false;\n            this.tipsRich.node.active = true;\n            this.tipsRich.string = \"<color=#ffffff><size=30>获得奖励 </color><img src = 'ddz_coin_white'/><color=#ffffff><size=48> \"+ result.winChip +\"</color>\" +\n                \"<color=#ffffff><size=24> (\"+ result.windoubles + \"倍*\"+result.roomMutil+\")</color>\";\n        }else {\n            this.winNode.active = false;\n            this.failNode.active = true;\n            // this.winLabel.node.active = false;\n            // this.failLabel.node.active = true;\n            // this.failLabel.string = delta;\n            this.tipsRich.node.active = false;\n            anim = this.failNode.getComponent(cc.Animation);\n            anim.play('loseTitle');\n            this.betLabel_win.node.active = false;\n            this.betLabel_lose.node.active = true;\n            // if(!result.winShare && !result.loseShare) {\n            //     var chip = hall.ME.getChip();\n            //     if (chip < 1000){\n            //         ddz.gameModel.checkShareReward(ddz.Share.SharePointType.alms);\n            //     }\n            // }\n        }\n\n        var call = result.stat.call;\n        var bc = result.stat.bomb;\n        bc = Math.pow(2, bc);\n        var chuntian = result.stat.chuntian;\n\n        this.betLabel_1.string = call + \"倍\";\n        this.betLabel_2.string = bc > 1 ? parseInt(bc) + \"倍\" : \"--\";\n        this.betLabel_3.string = chuntian > 1 ? chuntian + \"倍\" : \"--\";\n        this.betLabel_win.string = parseInt(call * bc * chuntian) + \"倍\";\n        this.betLabel_lose.string = parseInt(call * bc * chuntian) + \"倍\";\n        this.betLabel.string = parseInt(call * bc * chuntian) + \"倍\";\n        this.node.active = true;\n        this.bottomNode.active = true;\n\n        this.lizi01.getComponent('cc.ParticleSystem').resetSystem();\n        this.lizi02.getComponent('cc.ParticleSystem').resetSystem();\n        this.lizi03.getComponent('cc.ParticleSystem').resetSystem();\n        this.lizi04.getComponent('cc.ParticleSystem').resetSystem();\n\n        var bc = ddz.gameModel.getRoomListBannerConfigJson();\n        if (bc) {\n            this.playResurtBanner();\n        }\n        ddz.gameResultPanel = this;\n\n        // \"currWinDoubles\", {\"multi\" : 24, \"percent\":65 , \"isChunTian\": 1}\n        // if(result.currWinDoubles){\n        //     this.nextBtnLabel.string = \"<color=#ffffff>分享战绩</color>\";\n        //     this.shareButton.node.active = true;\n        //     if(result.currWinDoubles.isChunTian){\n        //         this.shareType = \"showy_spring\";\n        //     }else {\n        //         this.shareType = \"showy_highPower\";\n        //     }\n        //     this.shareData = result.currWinDoubles;\n        //     if (ddz.haveBanner) {\n        //         var bottomNode = this.node.getChildByName('bottomNode');\n        //         var bw = bottomNode.getComponent(cc.Widget);\n        //         bw.bottom = 100;\n        //     }\n        // }else {\n        //     this.nextBtnLabel.string = \"<color=#ffffff>点击屏幕任意位置继续  5</color>\";\n        //     this.shareButton.node.active = false;\n        //     this.shareType = \"\";\n        //     if (ddz.haveBanner) {\n        //         var bottomNode = this.node.getChildByName('bottomNode');\n        //         var bw = bottomNode.getComponent(cc.Widget);\n        //         bw.bottom = 50;\n        //     }\n        // }\n        this.nextBtnLabel.string = \"<color=#B3B3B3>点击屏幕任意位置继续  5</color>\";\n        this.updateNextBtnLabel();\n        this.shareButton.node.active = false;\n        this.shareType = \"\";\n        // if (ddz.haveBanner) {\n        //     var bottomNode = this.node.getChildByName('bottomNode');\n        //     var bw = bottomNode.getComponent(cc.Widget);\n        //     bw.bottom = 50;\n        // }\n    },\n\n    updateNextBtnLabel:function(){\n        var tiemr = 10;\n        this.node.stopAllActions();\n        var that = this;\n        var callFunc = function(){\n            tiemr--;\n            if (tiemr > 0){\n                that.nextBtnLabel.string = \"<color=#B3B3B3>点击屏幕任意位置继续  \"+ tiemr +\"</color>\";\n            }else {\n                that.nextBtnAction()\n            }\n\n            that.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(callFunc, this)));\n        };\n\n        callFunc();\n    },\n\n    callBackFun : function () {\n        \n    },\n\n    onDestroy :function () {\n        ty.NotificationCenter.ignoreScope(this);\n        this._tableScene = null;\n        ddz.gameResultPanel = null;\n        ddz.almsWindow = null;\n        hall.adManager.destroyWidthBannerAd();\n    }\n});\n"]}