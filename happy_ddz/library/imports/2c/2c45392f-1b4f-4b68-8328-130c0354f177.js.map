{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/window/assets/Script/ComponentScript/window/ddz_rank_list.js"],"names":["cc","Class","extends","Component","properties","rankButton","default","type","Button","startButton","detailPanel","Node","parentScene","btnRichtext","RichText","onLoad","node","on","onRankButton","onStartButton","ty","NotificationCenter","listen","ddz","EventType","UPDATE_RANK_LIST","updateRankList","matchModel","getMatchDes","UPDATE_MATCH_DES","changeButtonTitleString","hall","LOGW","active","showBackButton","changeButtonToRank","matchDes","getCurDes","savaInfo","saveInfo","matchId","record","stageIndex","_stageIndex","string","shareType","Share","onShareType","clickStatShareTypeRankList","shareWithType","LOGD","hideBackButton","startMatchProgress","onDestroy","ignoreScope"],"mappings":"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","file":"ddz_rank_list.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/window","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // tableView : {\n        //     default : null,\n        //     type : cc.Node\n        // },\n        rankButton : {\n            default : null,\n            type : cc.Button\n        },\n\n        startButton : {\n            default : null,\n            type : cc.Button\n        },\n        detailPanel : {\n            default : null,\n            type : cc.Node\n        },\n        parentScene :{\n            default : null\n        },\n\n        btnRichtext : {\n            default : null,\n            type : cc.RichText\n        }\n\n    },\n\n    onLoad :function() {\n        this.rankButton.node.on(\"click\",this.onRankButton,this);\n        this.startButton.node.on(\"click\",this.onStartButton,this);\n        ty.NotificationCenter.listen(ddz.EventType.UPDATE_RANK_LIST, this.updateRankList, this);\n        // ty.NotificationCenter.listen(ddz.EventType.SCROLLTOBOTTOM, this.scrollViewToBottom, this);\n        //替换button\n        // this.changeButtonToRank();\n        ddz.matchModel.getMatchDes();\n        ty.NotificationCenter.listen(ddz.EventType.UPDATE_MATCH_DES, this.changeButtonTitleString, this);\n\n        // ty.NotificationCenter.listen(ddz.EventType.UPDATE_WAIT_INFO, this.changeButtonTitleString, this);\n        // ty.NotificationCenter.listen(ddz.EventType.RECIVE_MATCH_RECORD, this.changeButtonTitleString, this);\n    },\n\n    updateRankList:function(){\n        hall.LOGW(\"==\",\" file = [ddz_rank_list] fun = [updateRankList] \");\n        this.detailPanel.active = true;\n        if(this.parentScene){\n            this.parentScene.showBackButton();\n        }\n    },\n\n    changeButtonToRank : function () {\n        this.changeButtonTitleString();\n        this.startButton.node.active = true;\n        this.rankButton.node.active = false;\n        \n    },\n    changeButtonTitleString : function () {\n        var matchDes = ddz.matchModel.getCurDes();\n        var savaInfo = matchDes.saveInfo;\n        if(matchDes.matchId == 6789 && savaInfo && savaInfo.record &&  savaInfo.record.stageIndex){\n            var  _stageIndex = savaInfo.record.stageIndex;\n            if (_stageIndex && _stageIndex > 1) {\n                this.btnRichtext.string = \"<img src='ddz_main_icon_begin'/><color=#ffffff> 继续第\"+_stageIndex+ \"关\" + \" </color>\";\n            }else {\n                this.btnRichtext.string = \"<img src='ddz_main_icon_begin'/><color=#ffffff>   开始闯关</color>\";\n            }\n        }\n    },\n    onRankButton : function () {\n        var shareType = ddz.Share.onShareType.clickStatShareTypeRankList;\n        ddz.Share.shareWithType(shareType);\n    },\n    onStartButton : function () {\n        ddz.LOGD(null, \"木有了\");\n        this.detailPanel.active = false;\n        if(this.parentScene){\n            this.parentScene.hideBackButton();\n        }\n\n        ddz.matchModel.startMatchProgress();\n        // var sceneName = 'Ddz';\n        // cc.director.loadScene(sceneName);\n    },\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    onDestroy : function () {\n        // this.button.node.off('click', this.callback, this);\n        ty.NotificationCenter.ignoreScope(this);\n\n    }\n    // update (dt) {},\n});\n"]}