{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/window/assets/Script/ComponentScript/window/ddz_window_history.js"],"names":["cc","Class","extends","Component","ctor","_TAG","properties","bgBtn","default","type","Button","closeBtn","tableView","Node","noRecordTips","Label","LoadTips","onLoad","ddz","LOGD","node","active","on","closeGameHistory","createHistory","historyDdata","historyModel","getHistoryData","length","resultArr","i","addMap","avatars","getAvatars","timeS","getTimer","titleS","getPlayMode","score","getScore","push","window","getComponent","setDataArray","destroy"],"mappings":";;;;;;AAAA;;;AAGAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,UAAO,gBAAY;AACf,aAAKC,IAAL,GAAY,oBAAZ;AAEH,KALI;;AAOLC,gBAAY;;AAERC,eAAO;AACHC,qBAAU,IADP;AAEHC,kBAAOT,GAAGU;AAFP,SAFC;;AAORC,kBAAW;AACPH,qBAAU,IADH;AAEPC,kBAAOT,GAAGU;AAFH,SAPH;;AAYRE,mBAAYZ,GAAGa,IAZP;AAaRC,sBAAad,GAAGe,KAbR;AAcRC,kBAAShB,GAAGa;AAdJ,KAPP;;AAwBLI,YAAQ,kBAAW;AACfC,YAAIC,IAAJ,CAAS,EAAT,EAAa,6CAAb;AACA,aAAKZ,KAAL,CAAWa,IAAX,CAAgBC,MAAhB,GAAyB,IAAzB;AACA,aAAKV,QAAL,CAAcS,IAAd,CAAmBE,EAAnB,CAAsB,OAAtB,EAA8B,KAAKC,gBAAnC,EAAoD,IAApD;AACA;AACH,KA7BI;;AA+BLC,mBAAc,yBAAU;AACpB,aAAKR,QAAL,CAAcK,MAAd,GAAuB,KAAvB;AACA,YAAII,eAAeP,IAAIQ,YAAJ,CAAiBC,cAAjB,EAAnB;AACA,YAAIF,aAAaG,MAAb,IAAuB,CAA3B,EAA6B;AACzB,iBAAKd,YAAL,CAAkBM,IAAlB,CAAuBC,MAAvB,GAAgC,IAAhC;AACA;AACH;AACD,aAAKP,YAAL,CAAkBM,IAAlB,CAAuBC,MAAvB,GAAgC,KAAhC;AACA,YAAIQ,YAAY,EAAhB;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIL,aAAaG,MAAjC,EAAyCE,GAAzC,EAA6C;AACzC,gBAAIC,SAAS,EAAb;AACAA,mBAAOC,OAAP,GAAiBd,IAAIQ,YAAJ,CAAiBO,UAAjB,CAA4BH,CAA5B,CAAjB;AACAC,mBAAOG,KAAP,GAAehB,IAAIQ,YAAJ,CAAiBS,QAAjB,CAA0BL,CAA1B,CAAf;AACAC,mBAAOK,MAAP,GAAgBlB,IAAIQ,YAAJ,CAAiBW,WAAjB,CAA6BP,CAA7B,CAAhB;AACAC,mBAAOO,KAAP,GAAepB,IAAIQ,YAAJ,CAAiBa,QAAjB,CAA0BT,CAA1B,IAA+B,GAA9C;AACAD,sBAAUW,IAAV,CAAeT,MAAf;AACH;AACD,YAAIU,SAAS,KAAK7B,SAAL,CAAe8B,YAAf,CAA4B,eAA5B,CAAb;AACAD,eAAOE,YAAP,CAAoBd,SAApB;AACH,KAlDI;;AAoDLN,sBAAiB,4BAAU;AACvBL,YAAIC,IAAJ,CAAS,EAAT,EAAa,sDAAb;AACA,aAAKZ,KAAL,CAAWa,IAAX,CAAgBC,MAAhB,GAAyB,KAAzB;AACA,aAAKD,IAAL,CAAUwB,OAAV;AACH;;AAxDI,CAAT","file":"ddz_window_history.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/window","sourcesContent":["/**\n * 战绩\n */\ncc.Class({\n    extends: cc.Component,\n    ctor : function () {\n        this._TAG = \"ddz_window_history\";\n\n    },\n\n    properties: {\n\n        bgBtn: {\n            default : null,\n            type : cc.Button\n        },\n\n        closeBtn : {\n            default : null,\n            type : cc.Button\n        },\n\n        tableView : cc.Node,\n        noRecordTips:cc.Label,\n        LoadTips:cc.Node,\n    },\n\n    onLoad :function() {\n        ddz.LOGD(\"\", \"file = [ddz_window_history] fun = [onLoad] \");\n        this.bgBtn.node.active = true;\n        this.closeBtn.node.on(\"click\",this.closeGameHistory,this);\n        // this.createHistory();\n    },\n\n    createHistory:function(){\n        this.LoadTips.active = false;\n        var historyDdata = ddz.historyModel.getHistoryData();\n        if (historyDdata.length <= 0){\n            this.noRecordTips.node.active = true;\n            return\n        }\n        this.noRecordTips.node.active = false;\n        var resultArr = [];\n        for (var i = 0; i < historyDdata.length; i++){\n            var addMap = {};\n            addMap.avatars = ddz.historyModel.getAvatars(i);\n            addMap.timeS = ddz.historyModel.getTimer(i);\n            addMap.titleS = ddz.historyModel.getPlayMode(i);\n            addMap.score = ddz.historyModel.getScore(i) + \"分\";\n            resultArr.push(addMap);\n        }\n        var window = this.tableView.getComponent('ddz_tableView');\n        window.setDataArray(resultArr);\n    },\n\n    closeGameHistory:function(){\n        ddz.LOGD(\"\", \"file = [ddz_window_history] fun = [closeGameDetail] \");\n        this.bgBtn.node.active = false;\n        this.node.destroy();\n    },\n\n\n});"]}