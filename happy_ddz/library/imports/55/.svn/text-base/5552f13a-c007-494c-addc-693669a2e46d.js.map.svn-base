{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/window/assets/Script/ComponentScript/window/ddz_useDiamond.js"],"names":["cc","Class","extends","Component","properties","startRichText","default","type","RichText","onLoad","ddz","matchModel","getMatchDes","ty","NotificationCenter","listen","EventType","UPDATE_MATCH_DES","updateMatchInfo","matchDes","getCurDes","savaInfo","saveInfo","matchId","record","stageIndex","_stageIndex","string","onDestroy","ignoreScope"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,uBAAgB;AACZC,qBAAU,IADE;AAEZC,kBAAOP,GAAGQ;AAFE;AADR,KAHP;AASLC,YAAS,kBAAY;AACjB;AACA;AACA;AACA;AACA;;AAEAC,YAAIC,UAAJ,CAAeC,WAAf;AACAC,WAAGC,kBAAH,CAAsBC,MAAtB,CAA6BL,IAAIM,SAAJ,CAAcC,gBAA3C,EAA6D,KAAKC,eAAlE,EAAmF,IAAnF;;AAEA;AACA;AACA;AACH,KAtBI;AAuBLA,qBAAkB,2BAAY;AAC1B,YAAIC,WAAWT,IAAIC,UAAJ,CAAeS,SAAf,EAAf;AACA,YAAIC,WAAWF,SAASG,QAAxB;AACA,YAAGH,SAASI,OAAT,IAAoB,IAApB,IAA4BF,QAA5B,IAAwCA,SAASG,MAAjD,IAA4DH,SAASG,MAAT,CAAgBC,UAA/E,EAA0F;AACtF,gBAAKC,cAAcL,SAASG,MAAT,CAAgBC,UAAnC;AACA,gBAAIC,eAAeA,cAAc,CAAjC,EAAoC;AAChC,qBAAKrB,aAAL,CAAmBsB,MAAnB,GAA4B,wDAAsDD,WAAtD,GAAmE,GAAnE,GAAyE,WAArG;AACH,aAFD,MAEM;AACF,qBAAKrB,aAAL,CAAmBsB,MAAnB,GAA4B,gEAA5B;AACH;AACJ;AACJ,KAlCI;AAmCL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAC,eAAY,qBAAY;AACpB;AACAf,WAAGC,kBAAH,CAAsBe,WAAtB,CAAkC,IAAlC;AACH;AA9CI,CAAT","file":"ddz_useDiamond.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/window","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        startRichText : {\n            default : null,\n            type : cc.RichText\n        }\n    },\n    onLoad : function () {\n        //屏幕适配\n        // var widthScaling = ddz.GlobalFuncs.getWindowWidthscaling();\n        // this.titleL.fontSize = this.titleL.fontSize*widthScaling;\n        // this.detailText.fontSize = this.detailText.fontSize*widthScaling;\n        // this.coutLabel.fontSize = this.coutLabel.fontSize*widthScaling;\n\n        ddz.matchModel.getMatchDes();\n        ty.NotificationCenter.listen(ddz.EventType.UPDATE_MATCH_DES, this.updateMatchInfo, this);\n\n        // ty.NotificationCenter.listen(ddz.EventType.UPDATE_WAIT_INFO, this.changeEnterBtnState, this);\n        // ty.NotificationCenter.listen(ddz.EventType.RECIVE_MATCH_RECORD, this.changeEnterBtnState, this);\n        // this.changeEnterBtnState(ddz.matchModel.getStageIndex());\n    },\n    updateMatchInfo : function () {\n        var matchDes = ddz.matchModel.getCurDes();\n        var savaInfo = matchDes.saveInfo;\n        if(matchDes.matchId == 6789 && savaInfo && savaInfo.record &&  savaInfo.record.stageIndex){\n            var  _stageIndex = savaInfo.record.stageIndex;\n            if (_stageIndex && _stageIndex > 1) {\n                this.startRichText.string = \"<img src='ddz_main_icon_begin'/><color=#ffffff> 继续第\"+_stageIndex+ \"关\" + \" </color>\";\n            }else {\n                this.startRichText.string = \"<img src='ddz_main_icon_begin'/><color=#ffffff>   开始闯关</color>\";\n            }\n        }\n    },\n    // changeEnterBtnState:function (_stageIndex) {\n    //     if (_stageIndex && _stageIndex > 1) {\n    //         this.startRichText.string = \"<img src='ddz_main_icon_begin'/><color=#ffffff> 继续第\"+_stageIndex+ \"关\" + \" </color>\";\n    //     }else {\n    //         this.startRichText.string = \"<img src='ddz_main_icon_begin'/><color=#ffffff>   开始闯关</color>\";\n    //     }\n    // },\n\n    onDestroy : function () {\n        // this.button.node.off('click', this.callback, this);\n        ty.NotificationCenter.ignoreScope(this);\n    }\n});\n"]}