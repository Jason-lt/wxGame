{"version":3,"sources":["ddz_icon_newer_gifts.js"],"names":["cc","Class","extends","Component","properties","timerLabel","default","type","Label","lastNumber","onLoad","setCountDownWithNumber","new_gift_reward","ddz","matchModel","Share","shareKeywordReplace","newerTreasureID","giftId","parseInt","cdTime","string","hall","GlobalFuncs","formatMinSeconds","isFirst","onCenterButton","ty","Timer","setTimer","countDown","node","removeFromParent","destroy","onDestroy","unscheduleAllCallbacks"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAa;AACTC,qBAAU,IADD;AAETC,kBAAOP,GAAGQ;AAFD,SADL;AAKRC,oBAAa;AALL,KAHP;;AAWLC,YAAQ,kBAAW;AACf,aAAKC,sBAAL;AACH,KAbI;AAcLA,4BAAyB,kCAAY;AACjC,YAAIC,kBAAkBC,IAAIC,UAAJ,CAAeF,eAArC;AACAC,YAAIE,KAAJ,CAAUC,mBAAV,CAA8BC,eAA9B,GAAgDL,gBAAgBM,MAAhE;;AAEA,aAAKT,UAAL,GAAkBU,SAASP,gBAAgBQ,MAAzB,IAAiC,EAAnD;AACA,aAAKf,UAAL,CAAgBgB,MAAhB,GAAyBC,KAAKC,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKf,UAAvC,CAAzB;AACA,YAAGG,gBAAgBa,OAAnB,EAA2B;AACvB,iBAAKC,cAAL;AACH;AACDC,WAAGC,KAAH,CAASC,QAAT,CAAkB,IAAlB,EAAuB,KAAKC,SAA5B,EAAsC,GAAtC,EAA0C,KAAKrB,UAA/C;AAEH,KAzBI;AA0BLqB,eAAY,qBAAY;AACpB,aAAKrB,UAAL;AACA,YAAG,KAAKA,UAAL,GAAkB,CAArB,EAAwB;AACpB,iBAAKJ,UAAL,CAAgBgB,MAAhB,GAAyBC,KAAKC,WAAL,CAAiBC,gBAAjB,CAAkC,KAAKf,UAAvC,CAAzB;AACH,SAFD,MAEM;AACF,iBAAKsB,IAAL,CAAUC,gBAAV;AACA,iBAAKD,IAAL,CAAUE,OAAV;AACH;AACJ,KAlCI;;AAoCLP,oBAAiB,0BAAY;AACzB;AACH,KAtCI;AAuCLQ,eAAY,qBAAY;AACpB,aAAKC,sBAAL;AACH;AACD;;;AAGA;AACA;AACA;;AAEA;AAjDK,CAAT","file":"ddz_icon_newer_gifts.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        timerLabel : {\n            default : null,\n            type : cc.Label\n        },\n        lastNumber : 0\n    },\n\n    onLoad :function() {\n        this.setCountDownWithNumber();\n    },\n    setCountDownWithNumber : function () {\n        var new_gift_reward = ddz.matchModel.new_gift_reward;\n        ddz.Share.shareKeywordReplace.newerTreasureID = new_gift_reward.giftId;\n\n        this.lastNumber = parseInt(new_gift_reward.cdTime)*10;\n        this.timerLabel.string = hall.GlobalFuncs.formatMinSeconds(this.lastNumber);\n        if(new_gift_reward.isFirst){\n            this.onCenterButton();\n        }\n        ty.Timer.setTimer(this,this.countDown,0.1,this.lastNumber);\n\n    },\n    countDown : function () {\n        this.lastNumber --;\n        if(this.lastNumber > 0 ){\n            this.timerLabel.string = hall.GlobalFuncs.formatMinSeconds(this.lastNumber);\n        }else {\n            this.node.removeFromParent();\n            this.node.destroy();\n        }\n    },\n\n    onCenterButton : function () {\n        // hall.GlobalFuncs.onNewUserGifts(this.lastNumber);\n    },\n    onDestroy : function () {\n        this.unscheduleAllCallbacks();\n    }\n    // LIFE-CYCLE CALLBACKS:\n\n\n    // start () {\n    //\n    // },\n\n    // update (dt) {},\n});\n"]}