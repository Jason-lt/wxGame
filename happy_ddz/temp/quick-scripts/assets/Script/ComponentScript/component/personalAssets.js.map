{"version":3,"sources":["personalAssets.js"],"names":["cc","Class","extends","Component","properties","coinLabel","default","type","Label","diamondLabel","jiPaiQiLabel","onLoad","string","hall","ME","udataInfo","diamondCount","ty","NotificationCenter","listen","ddz","EventType","UPDATE_DIAMOND_NUMBER","updateDiamond","updateCoin","UPDATE_COIN_NUMBER","updateInfo","num","number","getChip","GlobalFuncs","formatGold","updateJiPaiQi","onClickCoin","trigger","REMOVE_WINDOW_ANI","curScene","director","getScene","BiLog","clickStat","UserInfo","clickStatEventType","clickStatEventTypeButtonClick","name","gotoMallScene","onClickDiamond","gotoRechargeScene","onClickJiPaiQi","onDestroy","ignoreScope"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAY;AACRC,qBAAU,IADF;AAERC,kBAAOP,GAAGQ;AAFF,SADJ;AAKRC,sBAAe;AACXH,qBAAU,IADC;AAEXC,kBAAOP,GAAGQ;AAFC,SALP;AASRE,sBAAe;AACXJ,qBAAU,IADC;AAEXC,kBAAOP,GAAGQ;AAFC;AATP,KAHP;;AAkBLG,YAAO,kBAAY;AACf,aAAKF,YAAL,CAAkBG,MAAlB,GAA2BC,KAAKC,EAAL,CAAQC,SAAR,CAAkBC,YAAlB,GAA+B,EAA1D;AACA;AACAC,WAAGC,kBAAH,CAAsBC,MAAtB,CAA6BC,IAAIC,SAAJ,CAAcC,qBAA3C,EAAiE,KAAKC,aAAtE,EAAoF,IAApF;AACA,aAAKC,UAAL;AACAP,WAAGC,kBAAH,CAAsBC,MAAtB,CAA6BC,IAAIC,SAAJ,CAAcI,kBAA3C,EAA8D,KAAKD,UAAnE,EAA8E,IAA9E;AACA;AACH,KAzBI;;AA2BLE,gBAAW,sBAAY;AACnB,aAAKF,UAAL;AACA,YAAIG,MAAMd,KAAKC,EAAL,CAAQC,SAAR,CAAkBC,YAA5B;AACA,aAAKO,aAAL,CAAmBI,GAAnB;AACH,KA/BI;;AAiCLH,gBAAY,sBAAY;AACpB,YAAII,SAASf,KAAKC,EAAL,CAAQe,OAAR,EAAb;AACA;AACA,YAAID,MAAJ,EAAY;AACR,iBAAKvB,SAAL,CAAeO,MAAf,GAAwBC,KAAKiB,WAAL,CAAiBC,UAAjB,CAA4BH,MAA5B,CAAxB;AACH,SAFD,MAEM;AACF,iBAAKvB,SAAL,CAAeO,MAAf,GAAwB,CAAxB;AACH;AACJ,KAzCI;;AA2CLoB,mBAAc,yBAAU;AACpB;AACH,KA7CI;;AA+CLT,mBAAe,uBAAUI,GAAV,EAAe;AAC1B,YAAIA,GAAJ,EAAS;AACL,iBAAKlB,YAAL,CAAkBG,MAAlB,GAA2BC,KAAKiB,WAAL,CAAiBC,UAAjB,CAA4BJ,GAA5B,CAA3B;AACH,SAFD,MAEM;AACF,iBAAKlB,YAAL,CAAkBG,MAAlB,GAA2B,CAA3B;AACH;AACJ,KArDI;;AAuDL;AACAqB,iBAAa,uBAAY;AACrBhB,WAAGC,kBAAH,CAAsBgB,OAAtB,CAA8Bd,IAAIC,SAAJ,CAAcc,iBAA5C;AACA,YAAIC,WAAWpC,GAAGqC,QAAH,CAAYC,QAAZ,EAAf;AACArB,WAAGsB,KAAH,CAASC,SAAT,CAAmBvB,GAAGwB,QAAH,CAAYC,kBAAZ,CAA+BC,6BAAlD,EAAgF,CAAC,SAAD,EAAWP,SAASQ,IAApB,CAAhF;AACA/B,aAAKiB,WAAL,CAAiBe,aAAjB;AACH,KA7DI;;AA+DL;AACAC,oBAAgB,0BAAY;AACxB;AACA;AACA;AACA;AACA;AACA;AACA7B,WAAGC,kBAAH,CAAsBgB,OAAtB,CAA8Bd,IAAIC,SAAJ,CAAcc,iBAA5C;AACA,YAAIC,WAAWpC,GAAGqC,QAAH,CAAYC,QAAZ,EAAf;AACArB,WAAGsB,KAAH,CAASC,SAAT,CAAmBvB,GAAGwB,QAAH,CAAYC,kBAAZ,CAA+BC,6BAAlD,EAAgF,CAAC,qBAAD,EAAuBP,SAASQ,IAAhC,CAAhF;AACA/B,aAAKiB,WAAL,CAAiBiB,iBAAjB;AACH,KA3EI;;AA6EL;AACAC,oBAAgB,0BAAY,CAE3B,CAhFI;;AAkFLC,eAAY,qBAAY;AACpBhC,WAAGC,kBAAH,CAAsBgC,WAAtB,CAAkC,IAAlC;AACH;AApFI,CAAT","file":"personalAssets.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        coinLabel : {\n            default : null,\n            type : cc.Label\n        },\n        diamondLabel : {\n            default : null,\n            type : cc.Label\n        },\n        jiPaiQiLabel : {\n            default : null,\n            type : cc.Label\n        }\n    },\n\n    onLoad:function () {\n        this.diamondLabel.string = hall.ME.udataInfo.diamondCount+\"\";\n        // this.jiPaiQiLabel.string = hall.ME.udataInfo.jiPaiQiCount+\"\";\n        ty.NotificationCenter.listen(ddz.EventType.UPDATE_DIAMOND_NUMBER,this.updateDiamond,this);\n        this.updateCoin();\n        ty.NotificationCenter.listen(ddz.EventType.UPDATE_COIN_NUMBER,this.updateCoin,this);\n        // ty.NotificationCenter.listen(ddz.EventType.UPDATE_JIPAIQI,this.updateJiPaiQi,this);\n    },\n\n    updateInfo:function () {\n        this.updateCoin();\n        var num = hall.ME.udataInfo.diamondCount;\n        this.updateDiamond(num);\n    },\n\n    updateCoin: function () {\n        var number = hall.ME.getChip();\n        // hall.LOGD(\"\",\"file = [personalAssets] fun = [updateCoin] number = \" + number);\n        if (number) {\n            this.coinLabel.string = hall.GlobalFuncs.formatGold(number);\n        }else {\n            this.coinLabel.string = 0;\n        }\n    },\n\n    updateJiPaiQi:function(){\n        // this.jiPaiQiLabel.string = hall.ME.udataInfo.jiPaiQiCount+\"\";\n    },\n\n    updateDiamond: function (num) {\n        if (num) {\n            this.diamondLabel.string = hall.GlobalFuncs.formatGold(num);\n        }else {\n            this.diamondLabel.string = 0;\n        }\n    },\n\n    // 点击金币\n    onClickCoin: function () {\n        ty.NotificationCenter.trigger(ddz.EventType.REMOVE_WINDOW_ANI);\n        var curScene = cc.director.getScene();\n        ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,[\"chipAdd\",curScene.name]);\n        hall.GlobalFuncs.gotoMallScene();\n    },\n\n    // 点击钻石\n    onClickDiamond: function () {\n        // var curScene = cc.director.getScene();\n        // ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,[\"diamondAdd\",curScene.name]);\n        // // hall.GlobalFuncs.showDiamondWindowWithType('new');\n        // // ddz.gameModel.queryNewInviteInfo();\n        // ddz.isClickShareReward = true;\n        // ddz.gameModel.getDayInviteReward();\n        ty.NotificationCenter.trigger(ddz.EventType.REMOVE_WINDOW_ANI);\n        var curScene = cc.director.getScene();\n        ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,[\"assetsClickRecharge\",curScene.name]);\n        hall.GlobalFuncs.gotoRechargeScene();\n    },\n\n    // 点击记牌器\n    onClickJiPaiQi: function () {\n\n    },\n\n    onDestroy : function () {\n        ty.NotificationCenter.ignoreScope(this);\n    }\n});\n"]}