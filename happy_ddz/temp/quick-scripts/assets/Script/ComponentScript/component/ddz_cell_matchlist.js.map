{"version":3,"sources":["ddz_cell_matchlist.js"],"names":["cc","Class","extends","Component","properties","matchName","default","type","Label","beSavedSprite","Sprite","leftRichText","RichText","rightRichText","leftLabel","rightLabel","selectKuang","Node","clicked","onLoad","ty","NotificationCenter","listen","ddz","EventType","RESET_MATCH_CLICK_STATE","onResetClickState","addDataWithObject","objc","matchData","setDetailInformation","resultMap","setMatchName","setRightRichText","parsArr","taskDesc","split","roomID","roomId","node","active","isRecordExist","onLineNum","onlineCount","hall","LOGW","setLeftRichText","name","string","num","str","onClickCell","LOGD","trigger","CLICK_MATCHING_ITEM","matchId","ME","matchInfo","setCurrentMatchId","matchModel","getMatchDes","onDestroy","ignoreScope"],"mappings":"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","file":"ddz_cell_matchlist.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        matchName : {\n            default : null,\n            type : cc.Label\n        },\n        beSavedSprite : {\n            default : null,\n            type : cc.Sprite\n        },\n        leftRichText : {\n            default : null,\n            type : cc.RichText\n        },\n        rightRichText : {\n            default : null,\n            type : cc.RichText\n        },\n\n        leftLabel:cc.Label,\n\n        rightLabel:cc.Label,\n\n        selectKuang : {\n            default : null,\n            type : cc.Node\n        },\n        clicked : false,\n    },\n\n    onLoad:function () {\n        ty.NotificationCenter.listen(ddz.EventType.RESET_MATCH_CLICK_STATE, this.onResetClickState, this);\n    },\n\n    onResetClickState:function () {\n        this.clicked = false;\n    },\n\n    addDataWithObject : function (objc) {\n        this.matchData = objc;\n        this.setDetailInformation(this.matchData);\n    },\n\n    setDetailInformation:function (resultMap) {\n        /*\n         this.fees = null;\n         this.playMode = '0';\n         this.matchId = '0';\n         this.roomId = '0';\n         this.matchName = '0';\n         this.taskDesc = '0';\n         this.onlineCount = 0;\n         this.matchType = '0';\n         this.record = null;\n         */\n        //this.matchName.string = resultMap.matchName;\n        this.setMatchName(resultMap.matchName);\n\n        this.setRightRichText(\"前45名获奖\");\n        var parsArr = resultMap.taskDesc.split(\"||\");\n        if (parsArr[1]) {\n            this.setRightRichText(parsArr[1]);\n        }\n        this.roomID = resultMap.roomId;\n        this.beSavedSprite.node.active = resultMap.isRecordExist();\n        var onLineNum = resultMap.onlineCount;\n        hall.LOGW(\"\",\"file = [ddz_cell_roomlist] fun = [setDetailInformation] onLineNum = \" + onLineNum);\n        if (onLineNum != null) {\n            if (onLineNum < 0) {\n                this.leftLabel.node.active = false;\n            } else {\n                this.leftLabel.node.active = true;\n                this.setLeftRichText(onLineNum);\n            }\n        }\n    },\n\n    setMatchName: function(name) {\n        this.matchName.string = name;\n    },\n\n    setLeftRichText:function (num) {\n        // this.leftRichText.string = \"<img src='ddz_roomlist_smallPerson' /><color=#1A6951> \" + num + \"</c>\";\n        this.leftLabel.string = num;\n    },\n\n    setRightRichText:function(str) {\n        // this.rightRichText.string = \"<color=#1A6951> \" + str + \"</c>\";\n        this.rightLabel.string = str;\n    },\n\n    onClickCell:function () {\n        ddz.LOGD(null,\"file = [ddz_cell_roomlist] fun = [onclickCell]\");\n        if (this.clicked) return;\n        this.clicked = true;\n        ty.NotificationCenter.trigger(ddz.EventType.CLICK_MATCHING_ITEM, this.matchData.matchId);\n        hall.ME.matchInfo.setCurrentMatchId(this.matchData.matchId);\n        ddz.matchModel.getMatchDes(this.roomID, this.matchData.matchId);\n        //var preFabPath = \"prefabs/ddz_window_match_rewards\";\n        //var  comName = \"ddz_window_match_rewards\";\n        //hall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n        //    //var window = preFabNode.getComponent(comName);\n        //    //window.parentScene = that;\n        //    //var tips = desc;\n        //    //window.setTitleContentAndButtons(\"提示\",tips, testArray);\n        //});\n    },\n    onDestroy: function() {\n        ty.NotificationCenter.ignoreScope(this);\n    }\n\n});\n"]}