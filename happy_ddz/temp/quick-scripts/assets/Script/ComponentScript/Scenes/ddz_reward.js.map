{"version":3,"sources":["ddz_reward.js"],"names":["cc","Class","extends","Component","properties","rewardMain","default","type","Node","withDraw","detail","redPacket","debugNode","getRewardButton","Button","moreButton","drawButton","conversionButton","backButton","btnDebug","redBar","dataArray","nowType","backAction","ddz","LOGD","AudioHelper","playEffect","EffectPath_mp3","back_button_click_sound","window","sceneName","hall","GlobalFuncs","popScene","active","getComponent","setInformationWithTotalAndLoss","setLossMoneyNumber","ctor","onLoad","drawGameCanvas","backButtonH","getBackButtonPositionY","node","y","on","onRewardButton","onMoreButton","onDrawButton","onConversionButton","gameModel","checkShareReward","Share","SharePointType","firstWithDraw","MsgFactory","getUserRewardInfo","ty","NotificationCenter","listen","EventType","RECIVE_MESSAGE_LIST","onReciveMessageList","UPDATE_SHARE_STATE","playAnimationAfterShareWithType","CHANGE_DEBUG_MODE","changeDebugMode","refreshDebugBtn","debugMode","setsetOriginalDataArray","setDitailList","setDataArrayWithArray","addTipsWindow","tips","timer","tips_2","preFabPath","comName","that","showPopWinByPreFab","preFabNode","parentScene","testArray","title","bottomType","setTitleContentAndButtons","updatePos","onClickCenterButton","shareWithType","onShareType","clickStatShareCash","shareType","reultType","resultType","isBringVersion","MsgBoxManager","showToast","addTipsAssets","setTitleContentAndButtonsString","callFunc","BiLog","clickStat","UserInfo","clickStatEventType","clickStatEventTypeButtonClick","draw","lossMoneyString","Number","drawMoeyString","_drawMoeyString","firstWithDrawPoint","UPDATE_CASH_RESULT","onCashResult","getCashReward","parseInt","indexOf","arr","split","Math","floor","tipsString","getCashCoin","argument","JSON","stringify","result","lossM","chip","code","getUserInfo","GameId","value","toFixed","setRedPacketNumber","shareKeywordReplace","withDrawMoney","shareToGetreward","str","playShareZuanShi","info","start","update","dt","list","msgs","resultArr","addMap","startIndex","endIndex","i","length","resultMap","timeS","time","textS","text","numberString","substring","titleS","push","endIndex2","slice","wx","setEnableDebug","enableDebug","success","console","log","fail","complete","setInLocalStorage","DEBUG_MODE","testWithString","onDebug","onDestroy","ignoreScope"],"mappings":"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","file":"ddz_reward.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/Scenes","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        rewardMain : {\n            default : null,\n            type : cc.Node\n        },\n        withDraw : {\n            default: null,\n            type: cc.Node\n        },\n        detail : {\n            default : null,\n            type : cc.Node\n        },\n        redPacket : {\n            default : null,\n            type : cc.Node\n        },\n        debugNode : {\n            default : null,\n            type : cc.Node\n        },\n        getRewardButton : {\n            default : null,\n            type : cc.Button\n        },\n        moreButton : {\n            default : null,\n            type : cc.Button\n        },\n        drawButton : {\n            default : null,\n            type : cc.Button\n        },\n        conversionButton : {\n            default : null,\n            type : cc.Button\n        },\n        backButton : {\n            default : null,\n            type : cc.Button\n        },\n        btnDebug : {\n            default : null,\n            type : cc.Button\n        },\n        redBar : {\n            default : null,\n            type : cc.Node\n        },\n        dataArray :[],\n        nowType : 1//1、主界面,2、提现界面,3、奖励明细,4、领取红包成功,5、debug面板\n\n    },\n    backAction : function () {\n        ddz.LOGD(null, \"backAction\");\n        ddz.AudioHelper.playEffect(ddz.EffectPath_mp3.back_button_click_sound, false);\n        var window;\n        if (this.nowType == 1){\n            var sceneName = 'Ddz';\n            // cc.director.loadScene(sceneName);\n            hall.GlobalFuncs.popScene();\n        }else  if(this.nowType ==2){\n            this.withDraw.active = false;\n            this.rewardMain.active = true;\n            this.nowType = 1;\n            window = this.rewardMain.getComponent('ddz_getReward_main');\n            window.setInformationWithTotalAndLoss();\n            this.redBar.active = true;\n        }else  if(this.nowType == 3){\n            this.detail.active = false;\n            this.rewardMain.active = true;\n            this.nowType = 1;\n            window = this.rewardMain.getComponent('ddz_getReward_main');\n            window.setInformationWithTotalAndLoss();\n            this.redBar.active = true;\n        }else  if(this.nowType == 4){\n            this.redPacket.active = false;\n            this.withDraw.active = true;\n            this.nowType = 2;\n            window = this.withDraw.getComponent('ddz_getReward_Withdraw');\n            window.setLossMoneyNumber();\n            this.redBar.active = true;\n        }else  if(this.nowType == 5){\n            this.debugNode.active = false;\n            this.withDraw.active = true;\n            this.nowType = 2;\n            window = this.withDraw.getComponent('ddz_getReward_Withdraw');\n            window.setLossMoneyNumber();\n            this.redBar.active = true;\n        }\n    },\n    ctor : function () {\n        // ddz.GlobalFuncs.drawGameCanvas();\n    },\n    onLoad :function() {\n        ddz.GlobalFuncs.drawGameCanvas();\n        var backButtonH = ddz.GlobalFuncs.getBackButtonPositionY();\n        if (backButtonH){\n            this.backButton.node.y = backButtonH;\n        }\n\n        this.getRewardButton.node.on(\"click\",this.onRewardButton,this);\n        // this.getRewardButtonForRedIcon.node.on(\"click\",this.onRewardButtonForRedIcon,this);\n        this.moreButton.node.on(\"click\",this.onMoreButton,this);\n        this.drawButton.node.on(\"click\",this.onDrawButton,this);\n        this.conversionButton.node.on(\"click\",this.onConversionButton,this);\n        this.nowType = 1;\n\n        // this.setOriginalData();\n        ddz.gameModel.checkShareReward(ddz.Share.SharePointType.firstWithDraw);\n\n        hall.MsgFactory.getUserRewardInfo();\n        ty.NotificationCenter.listen(ddz.EventType.RECIVE_MESSAGE_LIST,this.onReciveMessageList,this);\n        ty.NotificationCenter.listen(ddz.EventType.UPDATE_SHARE_STATE, this.playAnimationAfterShareWithType, this);\n\n        ty.NotificationCenter.listen(ddz.EventType.CHANGE_DEBUG_MODE, this.changeDebugMode, this);\n        this.refreshDebugBtn();\n    },\n    refreshDebugBtn:function () {\n        this.btnDebug.node.active = debugMode;\n    },\n    // setOriginalData : function () {\n    //     ddz.LOGD(null, \"主界面初始信息设置\");\n    //     var couponCount = hall.ME.udataInfo.m_couponCount;\n    //     var exchangedCoupon = hall.ME.udataInfo.m_exchangedCoupon;\n    //     var window = this.rewardMain.getComponent(\"ddz_getReward_main\");\n    //     window.setInformationWithTotalAndLoss((couponCount+exchangedCoupon)/100+\"\",couponCount/100+\"\");\n    // },\n    setsetOriginalDataArray : function (dataArray) {\n        this.dataArray = dataArray;\n        var window = this.rewardMain.getComponent(\"ddz_getReward_main\");\n        window.setDitailList(this.dataArray);\n    },\n    onMoreButton : function () {\n        ddz.LOGD(null, \"onMoreButton进入奖励明细界面\");\n        var window = this.detail.getComponent('ddz_rewardDetail');\n        window.setDataArrayWithArray(this.dataArray);\n        this.rewardMain.active = false;\n        this.detail.active = true;\n        this.nowType = 3;\n    },\n    onRewardButton : function () {\n        ddz.LOGD(null, \"onRewardButton进入提现页面\");\n        var window = this.withDraw.getComponent('ddz_getReward_Withdraw');\n        window.setLossMoneyNumber();\n        this.rewardMain.active = false;\n        this.withDraw.active = true;\n        this.nowType = 2;\n    },\n\n    addTipsWindow : function (tips,timer,tips_2) {\n        var preFabPath = \"prefabs/ddz_window_tips\";\n        var  comName = \"ddz_tipsWindow\";\n        var that = this;\n        hall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n            var window = preFabNode.getComponent(comName);\n            window.parentScene = that;\n            var testArray = [\n                {\n                    title :\"分享\",\n                    bottomType : 0\n                }\n            ];\n            window.setTitleContentAndButtons(\"提示\",tips, testArray);\n            if (timer && timer > 0){\n                window.updatePos(timer,tips_2);\n            }\n        });\n    },\n\n    onClickCenterButton:function(){\n        ddz.Share.shareWithType(ddz.Share.onShareType.clickStatShareCash);\n    },\n\n    playAnimationAfterShareWithType : function (shareType) {\n        if (shareType && shareType != ddz.Share.onShareType.clickStatShareCash) {\n            return;\n        }\n        var reultType = ddz.Share.resultType;\n        switch (reultType) {\n            case 1:\n                if (!ddz.gameModel.isBringVersion) {\n                    hall.MsgBoxManager.showToast({title : '请分享到微信群哦~'});\n                }\n                break;\n            case 2:\n                if (!ddz.gameModel.isBringVersion) {\n                    hall.MsgBoxManager.showToast({title : '请不要频繁分享到一个群~'});\n                }\n                \n                break;\n            case 3:\n\n                break;\n            default:\n                break;\n        }\n\n        ddz.Share.resultType = 0;\n    },\n\n    // 提现兑换金币弹窗\n    addTipsAssets : function (tips) {\n        var preFabPath = \"prefabs/ddz_window_normal\";\n        var  comName = \"ddz_window_normal\";\n        hall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n            var window = preFabNode.getComponent(comName);\n            window.setTitleContentAndButtonsString(\"提示\",\"<color=#1A6951>\" + tips + \"</c>\",[{title:\"确定\",callFunc:function () {\n            }}]);\n        });\n    },\n    \n    onDrawButton:function () {\n        ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,\n            ['withDraw']);\n        var draw = this.withDraw.getComponent('ddz_getReward_Withdraw');\n        // if (!isNaN(Number(draw.drawMoeyString))) {\n        //     var tips = \"你还没有输入需兑换金额哦~\";\n        //     this.addTipsAssets(tips);\n        //     return;\n        // }\n        if(!draw.lossMoneyString || draw.lossMoneyString == 0){\n            // hall.MsgBoxManager.showToast({\"title\":\"余额不足\"});\n            var tips = \"余额不足，快去打牌赢奖吧\";\n            this.addTipsAssets(tips);\n            return;\n        }\n\n        if(Number(draw.drawMoeyString) > Number(draw.lossMoneyString)){\n            // hall.MsgBoxManager.showToast({\"title\":\"余额不足\"});\n            var tips = \"余额不足，快去打牌赢奖吧\";\n            this.addTipsAssets(tips);\n            return;\n        }\n\n        var _drawMoeyString = draw.drawMoeyString;\n        var that = this;\n        if (ddz.gameModel.firstWithDrawPoint > 0) {  // 首次提现\n            if(Number(draw.drawMoeyString) <= 0){\n                // hall.MsgBoxManager.showToast({\"title\":\"单笔提现金额最低5元\"});\n                var tips = \"你还没有输入需兑换金额哦~\";\n                this.addTipsAssets(tips);\n                return;\n            }else if (Number(draw.drawMoeyString) < 0.3){\n                var tips = \"提现不得低于0.3元\";\n                this.addTipsAssets(tips);\n                return;\n            }else {\n                ty.NotificationCenter.listen(ddz.EventType.UPDATE_CASH_RESULT,this.onCashResult,this);\n                ddz.gameModel.getCashReward(parseInt(_drawMoeyString*100));\n            }\n            return;\n        }\n        if(draw.drawMoeyString < 5){\n            // hall.MsgBoxManager.showToast({\"title\":\"单笔提现金额最低5元\"});\n            var tips = \"提现金额最低5元哦\\n零钱还可兑换金币打牌赢奖~\";\n            this.addTipsAssets(tips);\n            return;\n        }\n\n        if (draw.drawMoeyString.indexOf(\".\") > 0) {\n            var arr = draw.drawMoeyString.split(\".\");\n            _drawMoeyString = Math.floor(Number(_drawMoeyString));\n            if (arr[1] && arr[1] > 0) {\n                var tips = \"提现仅支持整数\\n先帮你提现\" + _drawMoeyString + \"元\";\n                var preFabPath = \"prefabs/ddz_window_normal\";\n                var  comName = \"ddz_window_normal\";\n                hall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n                    var window = preFabNode.getComponent(comName);\n                    window.setTitleContentAndButtonsString(\"提示\",\"<color=#1A6951>\" + tips + \"</c>\",[{title:\"取消\",callFunc:function () {\n                    }},{title:\"提现\",callFunc:function () {\n                        ty.NotificationCenter.listen(ddz.EventType.UPDATE_CASH_RESULT,that.onCashResult,that);\n                        ddz.gameModel.getCashReward(parseInt(_drawMoeyString*100));\n                    }}]);\n                });\n                return\n            }\n        }\n\n        ty.NotificationCenter.listen(ddz.EventType.UPDATE_CASH_RESULT,this.onCashResult,this);\n        ddz.gameModel.getCashReward(parseInt(_drawMoeyString*100));\n    },\n\n    onConversionButton:function(){\n        var draw = this.withDraw.getComponent('ddz_getReward_Withdraw');\n        if(!draw.drawMoeyString || draw.drawMoeyString <= 0){\n            // hall.MsgBoxManager.showToast({\"title\":\"余额不足\"});\n            var tips = \"你还没有输入需兑换金额哦~\";\n            this.addTipsAssets(tips);\n            return;\n        }\n        var that = this;\n        var preFabPath = \"prefabs/ddz_window_normal\";\n        var  comName = \"ddz_window_normal\";\n        hall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n            var window = preFabNode.getComponent(comName);\n            var tipsString = \"兑换金币\" + draw.drawMoeyString*10000;\n            window.setTitleContentAndButtonsString(\"提示\",\"<color=#1A6951>\" + tipsString + \"</c>\",[{title:\"取消\",callFunc:function () {\n            }},{title:\"兑换\",callFunc:function () {\n                ty.NotificationCenter.listen(ddz.EventType.UPDATE_CASH_RESULT,that.onCashResult,this);\n                ddz.gameModel.getCashCoin(parseInt(draw.drawMoeyString*100));\n            }}]);\n        });\n    },\n\n    onCashResult : function (argument) {\n        ddz.LOGD(null,\"cash_cash_cash\"+JSON.stringify(argument));\n        var result = argument.result;\n        var window,lossM;\n        if(debugMode && !result.chip && result.code != -1){\n        // if(debugMode && !result.chip ){\n            hall.MsgFactory.getUserInfo(ddz.GameId);\n            window = this.redPacket.getComponent('ddz_getRedPacket');\n            // var lossM = hall.GlobalFuncs.getMoneyStringWithCoupons(parseInt(result.value));\n            lossM = (parseInt(result.value)/100).toFixed(2) +\"\";\n            window.setRedPacketNumber(lossM);\n            ddz.Share.shareKeywordReplace.withDrawMoney = lossM;\n            this.withDraw.active = false;\n            this.redPacket.active = true;\n            this.redBar.active = false;\n            this.nowType = 4;\n            if (ddz.gameModel.firstWithDrawPoint > 0) {\n                ddz.gameModel.shareToGetreward(ddz.Share.SharePointType.firstWithDraw);\n            }\n            ddz.gameModel.checkShareReward(ddz.Share.SharePointType.firstWithDraw);\n            return;\n        }\n\n        if (result.chip) {\n            var tips = \"兑换成功\";\n            var str = \"<img src='ddz_coin_white'/><color=#FFFFFF> \" + result.chip + \"</c>\";\n            ddz.GlobalFuncs.playShareZuanShi(result.chip,tips,str);\n        }else if (!result.code || result.code != -1) {\n            hall.MsgFactory.getUserInfo(ddz.GameId);\n            window = this.redPacket.getComponent('ddz_getRedPacket');\n            // var lossM = hall.GlobalFuncs.getMoneyStringWithCoupons(parseInt(result.value));\n            lossM = (parseInt(result.value)/100).toFixed(2) + \"\";\n            window.setRedPacketNumber(lossM);\n            ddz.Share.shareKeywordReplace.withDrawMoney = lossM;\n            this.withDraw.active = false;\n            this.redPacket.active = true;\n            this.redBar.active = false;\n            this.nowType = 4;\n            if (ddz.gameModel.firstWithDrawPoint > 0) {\n                ddz.gameModel.shareToGetreward(ddz.Share.SharePointType.firstWithDraw);\n            }\n        }else {\n            hall.MsgBoxManager.showToast({\"title\":result.info});\n        }\n        ddz.gameModel.checkShareReward(ddz.Share.SharePointType.firstWithDraw);\n    },\n\n    start:function () {\n    },\n\n    update :function(dt) {\n    },\n\n    onReciveMessageList: function (result) {\n        var list = result.msgs;\n        if (typeof(list) != 'undefined'){\n            var resultArr = [];\n            var addMap;\n            var startIndex;\n            var endIndex;\n\n            for (var i = 0 ; i < list.length ; i ++){\n                var resultMap = list[i];\n                var timeS = resultMap.time;\n                var textS = resultMap.text;\n                if (textS && textS.indexOf(\"fuhao\") == -1) {\n                    if (textS.indexOf(\"提现\") > 0){\n                        // 恭喜您提现10元至微信现金成功！\n                        addMap= {};\n                        startIndex = textS.indexOf(\"提现\")+2;\n                        endIndex = textS.indexOf(\"元\");\n                        addMap.timeS = timeS;\n                        addMap.numberString = textS.substring(startIndex,endIndex);;\n                        addMap.titleS = \"提现\";\n                        resultArr.push(addMap);\n                    }else if (textS.indexOf(\"宝箱奖励红包券\") >= 0){\n                        // 恭喜来宾01e3NUsOJ获得20万元奖金彩池奖励红包券69，奖励已下发，继续参加后面的比赛赢取更多奖励吧\",\n                        addMap= {};\n                        startIndex = textS.indexOf(\"红包券\")+3;\n                        endIndex = textS.indexOf(\"红包券\");\n                        addMap.timeS = timeS;\n                        addMap.titleS = \"宝箱奖励\";\n                        // addMap.titleS = textS.substring(startIndex,endIndex);\n                        addMap.numberString = textS.substring(endIndex+3);\n                        if (Number(addMap.numberString) > 0) {\n                            resultArr.push(addMap);\n                        }\n                    }else if (textS.indexOf(\"红包券\") > 0){\n                        // 恭喜来宾01e3NUsOJ获得20万元奖金彩池奖励红包券69，奖励已下发，继续参加后面的比赛赢取更多奖励吧\",\n                        addMap= {};\n                        startIndex = textS.indexOf(\"获得\")+2;\n                        endIndex = textS.indexOf(\"红包券\");\n                        var endIndex2 = textS.indexOf(\"，\");\n                        addMap.timeS = timeS;\n                        addMap.titleS = \"通关奖励\";\n                        // addMap.titleS = textS.substring(startIndex,endIndex);\n                        addMap.numberString = textS.substring(endIndex+3,endIndex2);\n                        if (Number(addMap.numberString) > 0) {\n                            resultArr.push(addMap);\n                        }\n                    }else if (textS.indexOf(\"奖券\") > 0){\n                        // \"恭喜百万英雄闯关赛闯关成功，获得奖励复活赛门票1张+60万金币+5000奖券和平分20万元奖金的资格\",\n                        addMap= {};\n                        endIndex = textS.indexOf(\"奖券\");\n                        startIndex = textS.indexOf(\"+\",endIndex-8) +1;\n                        addMap.timeS = timeS;\n                        addMap.titleS = \"通关固定奖励\";\n                        addMap.numberString = textS.substring(startIndex,endIndex);\n                        resultArr.push(addMap);\n                    }else if (textS.indexOf(\"比赛\") >= 0){\n                        // \"比赛：1元红包赛\\n名次：第3名\\n奖励：4000金币+0.02元\\n奖励已发放，请您查收。\",\n                        addMap= {};\n                        endIndex = textS.indexOf(\"元\\n\");\n                        startIndex = textS.indexOf(\"奖励\") +3;\n                        var str = textS.slice(startIndex,endIndex);\n                        if (str.indexOf(\"+\") > 0){\n                            var arr = str.split(\"+\");\n                            str = arr[arr.length - 1];\n                            // startIndex = textS.indexOf(\"+\") + 1;\n                        }else {\n                            str = textS.substring(startIndex,endIndex);\n                        }\n                        addMap.timeS = timeS;\n                        addMap.titleS = \"比赛奖励\";\n                        addMap.numberString = str * 100;\n                        if (endIndex > 0) {\n                            resultArr.push(addMap);\n                        }\n                    }else if (textS.indexOf(\"牌桌局数\") >= 0){\n                        // \"牌桌局数奖励 0.03元\",\n                        addMap= {};\n                        endIndex = textS.indexOf(\"元\");\n                        startIndex = textS.indexOf(\" \") +1;\n                        addMap.timeS = timeS;\n                        addMap.titleS = \"牌桌局数奖励\";\n                        addMap.numberString = textS.substring(startIndex,endIndex) * 100;\n                        resultArr.push(addMap);\n                    }\n                }\n            }\n            this.setsetOriginalDataArray(resultArr);\n        }\n    },\n    changeDebugMode : function (value) {\n        debugMode = value;\n        this.refreshDebugBtn();\n        wx.setEnableDebug({\n            enableDebug : debugMode,\n            success:function () {\n                console.log('debugMode start!');\n            },\n            fail:function () {\n                console.log('debugMode fail!');\n            },\n            complete:function () {\n                \n            }\n        });\n        hall.GlobalFuncs.setInLocalStorage(ddz.gameModel.DEBUG_MODE,value);\n        this.withDraw.active = !debugMode;\n        this.debugNode.active = debugMode;\n        if(this.debugNode.active){\n            this.nowType = 5;\n            var window = this.debugNode.getComponent('ServerManager');\n            window.testWithString();\n        }else {\n            this.nowType = 2;\n            window = this.withDraw.getComponent('ddz_getReward_Withdraw');\n            window.setLossMoneyNumber();\n        }\n    },\n    onDebug:function () {\n        this.debugNode.active = !this.debugNode.active;\n        if (this.debugNode.active){\n            var window = this.debugNode.getComponent('ServerManager');\n            window.testWithString();\n        }\n    },\n    onDestroy : function () {\n        ty.NotificationCenter.ignoreScope(this);\n    }\n});\n"]}