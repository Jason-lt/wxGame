{"version":3,"sources":["ToDoTasks.js"],"names":["cc","Class","ctor","_TAG","hall","LOGD","_taskStatk","_currentTask","actionMap","runOldUserBindSns","runEverydayLogin","runFlipCardTask","runPopActivityWnd","runPopLotteryWnd","runPopPayOrder","runReplaceSceneToActivity","runSetExitWndInf","runPopInforWnd","runPopTips","runQuickStart","runPopBuy","runPopBindPhone","runQuickStartTip","runIssueStartChip","runPopVipExperienceWnd","runSimplePopOrder","_runPopFirstCharge","runGotoAttention","showerweima","tipsForShowReward","destroy","runTasks","gameWorld","model","m_todoTask","taskVec","runNextTask","length","nextTask","shift","runOneTask","oneTask","curActinFun","ToDoTask","params","subclick","task","_TodoTask","parseTask","push","data","Array","ME","loginInfo","parse","ty","NotificationCenter","trigger","EventType","UPDATE_EVERYDAYLOGIN","fuckstart","result","ddz","UPDATE_BIND_USER_SNS","JSON","stringify","desc","sub","arr","split","DIAMOND_INSUFFICIENT","GlobalFuncs","showDiamondInsufficient","testArray","title","that","subaction","onClickRightButton","BiLog","clickStat","UserInfo","clickStatEventType","clickStatEventTypeButtonClick","roomName","MsgFactory","getQuickStartParams","onClickLeftButton","curScene","director","getScene","name","tableScene","children","getComponent","tableinfo","tableInfo","_mixID","mixId","getRoomLeave","roomId","tableId","_mySeatIndex","str","clickStatEventTypeShowWindow","preFabPath","comName","showPopWinByPreFab","preFabNode","window","parentScene","tips","setTitleContentAndButtons","text","MsgBoxManager","showToast","roomid","gotoDdzTable","MSG_TODO_QUICK_START","conversionCoin","id","tip","_callFunc","tipsOnClose","_tip","_titile","price","left","layer","h5","GotoAttentionLayer","getRunningScene","addChild","action","firstChargeItem","document","getElementById","style","display","onClickCenterButton"],"mappings":"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","file":"ToDoTasks.js","sourceRoot":"../../../../../../assets/Script/hall/utils","sourcesContent":["\n\ncc.Class({\n\n\t//本阻塞功能是临时的,尽可能不要用,以后需要重构!!!\n\tctor: function() {\n\t\tthis._TAG = 'hall.ToDoTasks';\n\t\thall.LOGD(this._TAG, \" in ctor\");\n\n\t\tthis._taskStatk = null; //任务队列\n\t\tthis._currentTask = null; //当前正在执行的task,如弹窗\n\t\tthis.actionMap = {};\n\t\tthis._taskStatk = [];\n\t\tthis.actionMap['bind_snsid_360'] = this.runOldUserBindSns; //用户绑定账号\n\t\tthis.actionMap['nslogin_reward'] = this.runEverydayLogin; // 弹出每日登陆窗体\n\t\tthis.actionMap['flip_card'] = this.runFlipCardTask; //接受翻牌数据\n\t\tthis.actionMap['pop_active_wnd'] = this.runPopActivityWnd; //弹出活动窗体\n\t\tthis.actionMap['pop_lottery_wnd'] = this.runPopLotteryWnd; //弹出抽奖窗体\n\t\tthis.actionMap['pop_pay_order'] = this.runPopPayOrder; //发出购买请求\n\t\tthis.actionMap['rep_sence_activity'] = this.runReplaceSceneToActivity; //将场景切换到活动页面\n\t\tthis.actionMap['set_exit_wnd'] = this.runSetExitWndInf; //设置退出提示窗体内容\n\t\tthis.actionMap['pop_info_wnd'] = this.runPopInforWnd; //弹出提示框\n\t\tthis.actionMap['pop_tip'] = this.runPopTips; //弹出tips提示\n\t\tthis.actionMap['quick_start'] = this.runQuickStart; //执行qucik start目前仅仅普通房间里会监听该消息\n\t\tthis.actionMap['pop_order_info'] = this.runPopBuy; //金币不足，弹出购买请求\n\t\tthis.actionMap['bind_phone'] = this.runPopBindPhone; //弹出绑定提示\n\t\tthis.actionMap['quick_start_tip'] = this.runQuickStartTip; //快速开始提示\n\t\tthis.actionMap['issue_start_chip'] = this.runIssueStartChip; //启动资金提示\n\t\tthis.actionMap['pop_member_try'] = this.runPopVipExperienceWnd; //弹出会员体验\n\t\tthis.actionMap['pop_order'] = this.runSimplePopOrder; //\n\t\tthis.actionMap['pop_first_recharge'] = this._runPopFirstCharge; //\n\t\tthis.actionMap['pop_subscribe_wnd'] = this.runGotoAttention; //提示关注\n\t\tthis.actionMap['login_wx_subscribe'] = this.showerweima; //提示关注\n\t\tthis.actionMap['show_rewards'] = this.tipsForShowReward; //收到每日登录赠送钻石消息\n\t},\n\n\t// 默认的析构函数\n\tdestroy: function() {},\n\n\t//本阻塞功能是临时的,尽可能不要用,以后需要重构!!!\n\trunTasks: function() {\n\t\tif (!this._currentTask) {\n\t\t\tthis._taskStatk = hall.gameWorld.model.m_todoTask.taskVec;\n\t\t\tthis.runNextTask();\n\t\t}\n\t},\n\n\t//从堆栈弹出一个任务,并执行\n\t//用于收到task数组保存到堆栈后执行第一个,或执完任一task后执行\n\trunNextTask: function() {\n\t\tif (this._currentTask) {\n\t\t\tthis._currentTask = null;\n\t\t}\n\t\tif (this._taskStatk.length == 0) {\n\t\t\treturn;\n\t\t}\n\t\tvar nextTask = this._taskStatk.shift();\n\t\tthis._currentTask = nextTask;\n\t\tthis.runOneTask(nextTask);\n\t},\n\n\t//单个task的实际执行单元\n\trunOneTask: function(oneTask) {\n\t\thall.LOGD(this._TAG, \"runOneTask\");\n\t\tif (null != oneTask && typeof(oneTask) != 'undefined' && typeof(oneTask['action']) != 'undefined' && typeof(oneTask['params']) != 'undefined') {\n\t\t\thall.LOGD(this._TAG, \" run runOneTask-------------------------action:\" + oneTask['action'] + \"====\"+typeof(this.actionMap[oneTask['action']]));\n\n\t\t\tif (typeof(this.actionMap[oneTask['action']]) != 'undefined') {\n\t\t\t\t//以下这样写得目的是保持this为当前context否者this失效\n\t\t\t\tthis.curActinFun = this.actionMap[oneTask['action']];\n\t\t\t\tthis.curActinFun(oneTask['params']);\n\t\t\t\tthis.curActinFun = null;\n\t\t\t} else {\n\t\t\t\thall.LOGD(this._TAG, \"This action is undefined! action:\" + oneTask['action']);\n\t\t\t\thall.ToDoTask.runNextTask();\n\t\t\t}\n\t\t} else {\n\t\t\thall.LOGD(this._TAG, \"This action is undefined or cmd is error!\");\n\t\t\thall.ToDoTask.runNextTask();\n\t\t}\n\t},\n\n\trunPopVipExperienceWnd: function() {\n\t\t// var scene = h5.EntranceLayer.createScene();\n\t\t// cc.director.runScene(scene);\n\t\thall.ToDoTask.runNextTask();\n\t},\n\n\trunEverydayLogin: function(params) {\n\t\tvar subclick = params[\"sub_action_click\"];\n\t\tif(subclick && subclick[\"action\"] == \"pop_first_recharge\") {\t//首冲礼包的todotask可能包含在这里传过来，也可能独立传过来，这里处理被包含传过来的特殊情况。//TODO:对todotask的处理需要优化。。。\n\t\t\tvar task = new hall._TodoTask();\n            task.parseTask(subclick);\n            hall.gameWorld.model.m_todoTask.taskVec.push(task);\n\t\t}\n\t\tvar data = params['rewardstate'];\n\t\tif (data instanceof Array) {\n\t\t\thall.ME.loginInfo.parse(params);\n\t\t\tty.NotificationCenter.trigger(hall.EventType.UPDATE_EVERYDAYLOGIN);\n\t\t\treturn;\n\t\t}\n\t\thall.ToDoTask.runNextTask();\n\t},\n\n\trunFlipCardTask: function(params) {\n\t\t//执行翻牌活动\n\t\thall.LOGD(this._TAG, \" run runFlipCardTask-----------------------\");\n\t\t// if (typeof(params['nlogin']) != 'undefined')\n\t\t// \tddz.ME.loginInfo.m_nlogin = params['nlogin'];\n\t\t// if (typeof(params['remfliptimes']) != 'undefined')\n\t\t// \tddz.ME.loginInfo.m_remfliptimes = params['remfliptimes'];\n\t\t// if (typeof(params['rewards']) != 'undefined')\n\t\t// \tddz.ME.loginInfo.m_rewards = params['rewards'];\n\t\t// if (typeof(params['paddings']) != 'undefined')\n\t\t// \tddz.ME.loginInfo.m_paddings = params['paddings'];\n\n\n\t},\n\n\trunQuickStartTip: function(params) {\n\t\thall.LOGD(this._TAG, \" run runQuickStartTip-----------------------\");\n\t\t// hall.ME.setChip(params.totalchip);\n\t\thall.ToDoTask.runNextTask();\n\t},\n\n\trunIssueStartChip: function(params) {\n\t\tif (hall.fuckstart) {\n\t\t\treturn;\n\t\t}\n\t\thall.fuckstart = true;\n\n\t\t//暂时没有启动资金的需求\n\t\t//params[\"startchip\"]\n\t\t// var layer = new h5.NewPlayerRewardLayer(function() {\n\t\t\thall.ToDoTask.runNextTask();\n\t\t// });\n\t\t// cc.director.getRunningScene().addChild(layer);\n\t},\n\n\trunPopActivityWnd: function(params) {\n\t\thall.LOGD(this._TAG, \" run runPopActivityWnd-----------------------\");\n\t\thall.ToDoTask.runNextTask();\n\t},\n\n\trunPopLotteryWnd: function(params) {\n\t\thall.LOGD(this._TAG, \" run runPopLotteryWnd-----------------------\");\n\t},\n\n\trunPopPayOrder: function(result) {\n\t\t// var par = {\n\t\t// \t\t\"id\":\"TY9999C0006007\",\n\t\t// \t\t\"name\":\"200000\",\n\t\t// \t\t\"price\":\"200\",\n\t\t// \t\t\"desc\":\"获得200000金币\",\n\t\t// \t\t\"type\":1,\n\t\t// \t\t\"addchip\":200000,\n\t\t// \t\t\"buy_type\":\"exchange\",\n\t\t// \t\t\"picurl\":\"http://ddz.dl.tuyoo.com/cdn37/hall/pdt/imgs/goods_t50k_2.png\",\n\t\t// \t\t\"tip\":\"200000金币\",\n\t\t// };\n\n\t\tif (result['buy_type'] == \"exchange\"){\n\t\t\t// hall.MsgFactory.conversionCoin(result.id);\n\t\t}\n\n\t},\n\n\trunOldUserBindSns: function(params) {\n\t\thall.LOGD(this._TAG, \" run runReplaceSceneToActivity-----------------------\");\n\t\tty.NotificationCenter.trigger(ddz.EventType.UPDATE_BIND_USER_SNS, params);\n\t},\n\n\trunReplaceSceneToActivity: function(params) {\n\t\thall.LOGD(this._TAG, \" run runReplaceSceneToActivity-----------------------\");\n\t\thall.ToDoTask.runNextTask();\n\t},\n\n\trunSetExitWndInf: function(params) {\n\t},\n\n\trunPopInforWnd: function(params) {\n\t\thall.LOGD(\"\",\"file = [ToDoTasks] fun = [runPopInforWnd] params = \" + JSON.stringify(params));\n\t\tthis._currentTask = null;\n\t\tvar desc = params[\"des\"];\n\t\tvar sub = params[\"sub_action\"];\n\t\tvar arr = [];\n\t\tif (desc) {\n\t\t\tarr = desc.split(\"-\");\n\t\t\tif (arr[0] == \"fuhaoBuyFailed\") {\n\t\t\t\tty.NotificationCenter.trigger(ddz.EventType.DIAMOND_INSUFFICIENT);\n\t\t\t\tddz.GlobalFuncs.showDiamondInsufficient(arr[1]);\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t\tvar testArray = [{title :\"确定\"}];\n\t\tvar that = this;\n\t\tif (sub){\n\t\t\tvar subaction = sub[\"action\"];\n\t\t\tif (subaction == \"quick_start\"){\t// 报名\n\t\t\t\tthis.onClickRightButton = function(){\n\t\t\t\t\tty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,\n\t\t\t\t\t\t[\"gotoRecommendRoom\",sub[\"params\"].roomName]);\n\t\t\t\t\thall.MsgFactory.getQuickStartParams(sub[\"params\"]);\n\t\t\t\t};\n\t\t\t\tthis.onClickLeftButton = function(){\n\t\t\t\t\tvar curScene = cc.director.getScene();\n\t\t\t\t\tif (curScene.name ==  \"TableScene\") {\n\t\t\t\t\t\tvar tableScene = curScene.children[0].getComponent('DdzTableScene');\n\t\t\t\t\t\tvar tableinfo = tableScene.tableInfo();\n\t\t\t\t\t\tvar _mixID = tableinfo.mixId;\n\t\t\t\t\t\tddz.MsgFactory.getRoomLeave(tableinfo.roomId(), tableinfo.tableId(), tableScene._mySeatIndex, _mixID);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tvar str = \"确定\";\n\t\t\t\tif(sub[\"params\"].roomName && sub[\"params\"].roomName != \"\") {\n\t\t\t\t\tstr = \"去\" + sub[\"params\"].roomName;\n\t\t\t\t\tty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeShowWindow,\n\t\t\t\t\t\t[\"recommendRoom\",sub[\"params\"].roomName]);\n\t\t\t\t}\n\t\t\t\ttestArray = [\n\t\t\t\t\t{title :\"取消\"}, {title :str}\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\t\tvar preFabPath = \"prefabs/ddz_window_tips\";\n\t\tvar  comName = \"ddz_tipsWindow\";\n\t\thall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n\t\t\tvar window = preFabNode.getComponent(comName);\n\t\t\twindow.parentScene = that;\n\t\t\tvar tips = desc;\n\t\t\twindow.setTitleContentAndButtons(\"提示\",tips, testArray);\n\t\t});\n\n\t},\n\n\trunPopTips:function(params){\n\t\tthis._currentTask = null;\n\t\tif (params && params.text && params.text != \"\"){\n\t\t\thall.MsgBoxManager.showToast({title:params.text});\n\t\t}\n\n\t},\n\n\trunQuickStart: function(params) {\n\t\thall.LOGD(this._TAG, \"run runQuickStart-----------------------\");\n\t\tvar roomid = params[\"roomid\"];\n\t\thall.GlobalFuncs.gotoDdzTable();\n\n\t\t// 通知结算界面隐藏自己\n\t\tty.NotificationCenter.trigger(hall.EventType.MSG_TODO_QUICK_START, params);\n\t\thall.ToDoTask.runNextTask();\n\t},\n\n\trunPopBindPhone: function(params) {\n\t\thall.LOGD(this._TAG, \"run runPopBindPhone-----------------------\");\n\t},\n\n\trunPopBuy: function(params) {\n\t\t\n\t\tthis._currentTask = null;\n\t\t// var desc = params[\"desc\"];\n\t\tvar sub = params[\"sub_action\"];\n\t\tif (sub) {\n\t\t\tvar that = this;\n\t\t\tvar subaction = sub[\"action\"];\n\t\t\tif (subaction == \"pop_pay_order\") { //如果是充值\n\t\t\t\tthis.onClickRightButton = function(){\n\t\t\t\t\thall.MsgFactory.conversionCoin(sub[\"params\"].id);\n\t\t\t\t\tty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,\n\t\t\t\t\t\t[\"roomListGoldExchange\",sub[\"params\"].tip]);\n\t\t\t\t};\n\n\t\t\t\tvar _callFunc = function(){\n\t\t\t\t\tvar curScene = cc.director.getScene();\n\t\t\t\t\tif (curScene.name ==  \"TableScene\") {\n\t\t\t\t\t\tvar tableScene = curScene.children[0].getComponent('DdzTableScene');\n\t\t\t\t\t\tvar tableinfo = tableScene.tableInfo();\n\t\t\t\t\t\tvar _mixID = tableinfo.mixId;\n\t\t\t\t\t\tddz.MsgFactory.getRoomLeave(tableinfo.roomId(), tableinfo.tableId(), tableScene._mySeatIndex, _mixID);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.onClickLeftButton = function(){\n\t\t\t\t\t_callFunc();\n\t\t\t\t};\n\t\t\t\tthis.tipsOnClose = function(){\n\t\t\t\t\t_callFunc();\n\t\t\t\t};\n\t\t\t\tvar preFabPath = \"prefabs/ddz_window_tips\";\n\t\t\t\tvar comName = \"ddz_tipsWindow\";\n\t\t\t\thall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n\t\t\t\t\tvar window = preFabNode.getComponent(comName);\n\t\t\t\t\twindow.parentScene = that;\n\t\t\t\t\t// var tips = \"你的金币不足进入房间,请充值后再尝试,谢谢!\";\n\t\t\t\t\tvar _tip = sub[\"params\"].tip;\n\t\t\t\t\tvar tips = \"<color=#1A6951>兑换</c><img src='ddz_coin_green' height=40 width=40/><color=#1A6951> \" + _tip + \"</c>\";\n\t\t\t\t\tvar _titile = sub[\"params\"].price + \"兑换\";\n\t\t\t\t\tvar testArray = [\n\t\t\t\t\t\t{title :\"取消\"}, {title :_titile,left :\"dda_button_diamond\"}\n\t\t\t\t\t];\n\t\t\t\t\twindow.setTitleContentAndButtons(\"金币不足\",tips, testArray);\n\t\t\t\t\tty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeShowWindow,\n\t\t\t\t\t\t[\"roomListDiamondInsufficient\",sub[\"params\"].tip]);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\thall.ToDoTask.runNextTask();\n\t},\n\n\trunGotoAttention: function(params) {\n\t\thall.LOGD(this._TAG, \"run runGotoAttention----------------------- params = \" + JSON.stringify(params));\n\t\tvar desc = params[\"desc\"] || params[\"des\"];\n\t\tvar tip = params[\"tip\"];\n\t\tvar layer = new h5.GotoAttentionLayer(desc, tip);\n\t\tvar curScene = cc.director.getRunningScene();\n\t    curScene.addChild(layer, 99);\n\t\thall.ToDoTask.runNextTask();\n\t},\n\trunSimplePopOrder: function(params) {\n\t\tthis._currentTask = null;\n\t\tvar desc = params[\"desc\"];\n\t\tvar sub = params[\"sub_action\"];\n\t\tif (sub) {\n\t\t\tvar that = this;\n\t\t\tvar subaction = sub[\"action\"];\n\t\t\tif (subaction == \"pop_pay_order\") { //如果是充值\n\t\t\t\tthis.onClickRightButton = function(){\n\t\t\t\t\thall.MsgFactory.conversionCoin(sub[\"params\"].id);\n\t\t\t\t\tty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,\n\t\t\t\t\t\t[\"roomListGoldExchange\",sub[\"params\"].tip]);\n\t\t\t\t};\n\t\t\t\tvar _callFunc = function(){\n\t\t\t\t\tvar curScene = cc.director.getScene();\n\t\t\t\t\tif (curScene.name ==  \"TableScene\") {\n\t\t\t\t\t\tvar tableScene = curScene.children[0].getComponent('DdzTableScene');\n\t\t\t\t\t\tvar tableinfo = tableScene.tableInfo();\n\t\t\t\t\t\tvar _mixID = tableinfo.mixId;\n\t\t\t\t\t\tddz.MsgFactory.getRoomLeave(tableinfo.roomId(), tableinfo.tableId(), tableScene._mySeatIndex, _mixID);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.onClickLeftButton = function(){\n\t\t\t\t\t_callFunc();\n\t\t\t\t};\n\t\t\t\tthis.tipsOnClose = function(){\n\t\t\t\t\t_callFunc();\n\t\t\t\t};\n\t\t\t\tvar preFabPath = \"prefabs/ddz_window_tips\";\n\t\t\t\tvar comName = \"ddz_tipsWindow\";\n\t\t\t\thall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n\t\t\t\t\tvar window = preFabNode.getComponent(comName);\n\t\t\t\t\twindow.parentScene = that;\n\t\t\t\t\t// var tips = \"你的金币不足进入房间,请充值后再尝试,谢谢!\";\n\t\t\t\t\tvar _tip = sub[\"params\"].tip;\n\t\t\t\t\tvar tips = \"<color=#1A6951>兑换</c><img src='ddz_coin_green' height=40 width=40/><color=#1A6951> \" + _tip + \"</c>\";\n\t\t\t\t\tvar _titile = sub[\"params\"].price + \"兑换\";\n\t\t\t\t\tvar testArray = [\n\t\t\t\t\t\t{title :\"取消\"}, {title :_titile,left :\"dda_button_diamond\"}\n\t\t\t\t\t];\n\t\t\t\t\twindow.setTitleContentAndButtons(\"金币不足\",tips, testArray);\n\t\t\t\t\tty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeShowWindow,\n\t\t\t\t\t\t[\"roomListDiamondInsufficient\",sub[\"params\"].tip]);\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeShowWindow,\n\t\t\t\t[\"roomListDiamondInsufficient\"]);\n\n\t\t\tvar preFabPath = \"prefabs/ddz_window_tips\";\n\t\t\tvar  comName = \"ddz_tipsWindow\";\n\t\t\thall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n\t\t\t\tvar window = preFabNode.getComponent(comName);\n\t\t\t\twindow.parentScene = that;\n\t\t\t\tvar tips = \"你的金币不足进入房间,请充值后再尝试,谢谢!\";\n\t\t\t\tvar testArray = [\n\t\t\t\t\t{title :\"取消\"}, {title :\"确定\"}\n\t\t\t\t];\n\t\t\t\twindow.setTitleContentAndButtons(\"金币不足\",tips, testArray);\n\t\t\t});\n\t\t}\n\t},\n\n\t_runPopFirstCharge:function(params) {\t//暂时拿来做快速购买商品数据\n\t\tvar sub = params[\"sub_action\"];\n\t\tvar action = null;\n\t\twhile(sub) {\n\t\t\tif(sub[\"action\"] == \"pop_pay_order\") {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar params = sub[\"params\"];\n\t\t\tsub = params ? params[\"sub_action\"] : null;\n\t\t}\n\t\tif(sub) {\n\t\t\thall.gameWorld.firstChargeItem = sub[\"params\"];\n\t\t\t// h5.globalFunc.popupChargeLayer();\n\t\t}\n\t\thall.ToDoTask.runNextTask();\n\t\t/*\n\t\t\t\t\"sub_action\": {\n\t\t\t\t\t\t\t\"action\": \"pop_pay_order\",\n\t\t\t\t\t\t\t\"params\": {\n\t\t\t\t\t\t\t\t\"name\": \"6.6\\u4e07\\u91d1\\u5e01\",\n\t\t\t\t\t\t\t\t\"price\": \"6\",\n\t\t\t\t\t\t\t\t\"tip\": \"6.6\\u4e07\\u91d1\\u5e01\",\n\t\t\t\t\t\t\t\t\"buy_type\": \"direct\",\n\t\t\t\t\t\t\t\t\"addchip\": 66000,\n\t\t\t\t\t\t\t\t\"picurl\": \"http://ddz.dl.tuyoo.com/cdn37/hall/pdt/imgs/goods_t50k.png\",\n\t\t\t\t\t\t\t\t\"price_diamond\": \"60\",\n\t\t\t\t\t\t\t\t\"type\": 1,\n\t\t\t\t\t\t\t\t\"id\": \"TY9999D0006001\",\n\t\t\t\t\t\t\t\t\"desc\": \"1\\u5143=11000\\u91d1\\u5e01\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t*/\n\t},\n\n\tshowerweima: function () {\n\t\tdocument.getElementById(\"coverContainer\").style.display = \"block\";\n\t\thall.ToDoTask.runNextTask();\n\t},\n\ttipsForShowReward : function (params) {\n\t\thall.LOGD(this._TAG, \"run tipsForShowReward----------------------- params = \" + JSON.stringify(params));\n\t\t// {\n\t\t// \t\"action\":\"show_rewards\",\n\t\t// \t\"params\":{\n\t\t// \t\"rewards\":[\n\t\t// \t\t{\n\t\t// \t\t\t\"itemId\":\"item:1311\",\n\t\t// \t\t\t\"count\":1,\n\t\t// \t\t\t\"pic\":\"http://ddz.dl.tuyoo.com/cdn37/hall/item/imgs/item_1311.png\",\n\t\t// \t\t\t\"name\":\"\\u94bb\\u77f3\"\n\t\t// \t\t}\n\t\t// \t]\n\t\t// }\n\t\t//TODO:每日登录的奖励推送\n\t\t// var rewardList = params.rewards;\n\t\t// if(rewardList && rewardList.length > 0){\n\t\t// \tvar tips =   hall.GlobalFuncs.ReadValueFromLocalStorage(ddz.matchModel.SHOW_LOGIN_REWARD, []);\n\t\t// \tvar countS = rewardList[0].count +\"\";\n\t\t// \ttips.push(countS);\n\t\t// \thall.GlobalFuncs.setInLocalStorage(ddz.matchModel.SHOW_LOGIN_REWARD,tips);\n\t\t// }\n\t},\n\n\tonClickLeftButton:function(){\n\n\t},\n\n\tonClickCenterButton:function(){\n\n\t},\n\n});"]}