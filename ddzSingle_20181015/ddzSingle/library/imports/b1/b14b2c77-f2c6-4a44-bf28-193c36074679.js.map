{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/component/assets/Script/ComponentScript/component/ddzsingle_robot_type_finder.js"],"names":["ddz","typeByNum","cc","Class","_TAG","ctor","num","_num","find","cardsPoint","result","LOGD","i","length","count","_filter","push","cards","JSON","stringify","index","singleFinder","extends","_super","point","existTester","_exist","reset","isExist","total","arguments","j","key","typeFinder","_cardsByPoint","_lzCardsPoint","_singleFinder","_doubleFinder","_threeFinder","_bombFinder","_existTester","init","cardsByPoint","lzCardsPoint","log","destroy","_canWork","singleRes","_findSingle","concat","doubleCards","_findDouble","doubleCardsWithLz","_findResByInitWithLz","threeCards","_findThreeCards","thrreCardsWithLz","threeWithOne","_findThreeWithOne","threeWithDouble","_findThreeWithDouble","plane","_findPlane","planeWithSingle","_findPlaneWithSingle","planeWithDouble","_findPlaneWithDouble","shunzi","_findShunZi","continueDouble","_findContinueDouble","bomb","_findBomb","bombWithLz","rocket","_findRocket","doubleLzCards","dstCnt","tmp","slice","t","_isOutOfAK","splice","needLzCnt","threeLzCards","bombLzCards","tmpResult","tmpArr","prevCard","threeRes","_isLz","_isHave","res","doubleRes","k","l","next","tmp2","m","planeRes","temp","pop","lzUsedYet","curPutPoint","src","_isKing"],"mappings":"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","file":"ddzsingle_robot_type_finder.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["/*\n\tFile : 牌型查找器，从一组手牌中查找出所有的牌型\n\t\n\t单张、对子、三张、炸弹都是判断同一个点数的牌的张数，这个可以抽象，这类的判断不加癞子牌\n*/\n\nddz.typeByNum = cc.Class({\n\n\t_TAG : 'ddz.typeByNum',\n\n\tctor: function(num) {\n\t\tthis._num = num;\n\t},\n\n\t/* \n\t\tfunction : 查找数量为_num的手牌\n\t\tcardsPoint : 手牌的权重数组\n\t*/\n\tfind: function(cardsPoint) {\n\t\tvar result = [];\n\t\tif (this._num <= 0) {\n\t\t\tddz.LOGD(this._TAG, 'You have not set _num vale');\n\t\t\treturn result;\n\t\t}\n\n\t\tif (!cardsPoint) {\n\t\t\treturn result;\n\t\t}\n\n\t\tfor (var i=0; i<cardsPoint.length; i++) {\n\t\t\tif(cardsPoint[i].count == this._num) {\n\t\t\t\tif (!this._filter(cardsPoint, i)) {\n\t\t\t\t\tresult.push(cardsPoint[i].cards);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tddz.LOGD('typeByNum', ' result = ' + JSON.stringify(result));\n\t\treturn result;\n\t},\n\n\t//过滤\n\t_filter: function(cardsPoint, index) {\n\t\treturn false;\n\t},\n});\n\nddz.singleFinder = ddz.typeByNum.extends({\n\n\tctor: function() {\n\t\tthis._super(1);\n\t},\n\n\t_filter: function(cardsPoint, index) {\n\t\tif (cardsPoint[index].point==13) {\n\t\t\tif (index+1<cardsPoint.length) {\n\t\t\t\tif (cardsPoint[index+1].point == 14) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (cardsPoint[index].point==14) {\n\t\t\tif (cardsPoint[index-1].point == 13) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n});\n\n//去重：三带一在有大于癞子牌时会有相同的结果项，三带二在有1张癞子、两个不同的对组合成的结果集中有重复的\nddz.existTester = cc.Class({\n\t_exist : {},\n\n\treset: function() {\n\t\tthis._exist = {};\n\t},\n\n\t// 动态参数，传入num数组\n\tisExist: function() {\n\t\tvar total = 0;\n\t\tfor (var i=0; i<arguments.length; i++) {\n\t\t\tfor (var j=0; j<arguments[i].length; j++) {\n\t\t\t\ttotal += arguments[i][j];\n\t\t\t}\n\t\t}\n\t\tvar key = '' + total;\n\t\tif (this._exist[key]) {\n\t\t\treturn true;\n\t\t}\n\t\tthis._exist[key] = 1;\n\t\treturn false;\n\t},\n});\n\nddz.typeFinder = cc.Class({\n\n\tctor: function() {\n\t\tthis._cardsByPoint = null; //手牌的权重数组\n\n\t\t//癞子数据样式\n\t\t//{\"count\":2,\"point\":15,\"cards\":[65,65]}\n\t\t//{\"count\":0,\"point\":-1,\"cards\":[]}\n\t\tthis._lzCardsPoint = null; //癞子手牌信息\n\n\t\tthis._singleFinder = new ddz.singleFinder();\n\t\tthis._doubleFinder = new ddz.typeByNum(2);\n\t\tthis._threeFinder = new ddz.typeByNum(3);\n\t\tthis._bombFinder = new ddz.typeByNum(4);\n\n\t\tthis._existTester = new ddz.existTester();\n\t},\n\n\tinit: function(cardsByPoint, lzCardsPoint) {\n\t\tthis._cardsByPoint = cardsByPoint;\n\t\tthis._lzCardsPoint = lzCardsPoint;\n\t\tcc.log('this._lzCardsPoint = ' + JSON.stringify(this._lzCardsPoint));\n\t},\n\n\tdestroy: function() {\n\t\tthis._cardsByPoint = null;\n\t\tthis._lzCardsPoint = null;\n\t\tthis._existTester = null;\n\t},\n\n\t// 查找所有的牌型组合\n\tfind: function() {\n\t\tvar result = [];\n\t\tif (!this._canWork()) {\n\t\t\treturn result;\n\t\t}\n\n\t\t// 找单牌\n\t\tvar singleRes = this._findSingle();\n\t\tresult = result.concat(singleRes);\n\t\tif (result.length > 0) {\n\t\t\treturn result;\n\t\t}\n\n\t\t//找对子\n\t\tvar doubleCards = this._findDouble();\n\t\tvar doubleCardsWithLz = this._findResByInitWithLz(2, singleRes);\n\t\tresult = result.concat(doubleCards, doubleCardsWithLz);\n\t\tif (result.length > 0) {\n\t\t\treturn result;\n\t\t}\n\n\t\t//找三张\n\t\tvar threeCards = this._findThreeCards();\n\t\tvar thrreCardsWithLz = this._findResByInitWithLz(3, singleRes, doubleCards);\n\t\t// result = result.concat(thrreCardsWithLz);\n\t\t// if (result.length > 0) {\n\t\t// \treturn result;\n\t\t// }\n\n\t\t// 找三带一\n\t\tvar threeWithOne = this._findThreeWithOne(singleRes, threeCards.concat(thrreCardsWithLz));\n\t\tresult = result.concat(threeWithOne);\n\t\tif (result.length > 0) {\n\t\t\treturn result;\n\t\t}\n\n\t\t// 找三带一对\n\t\tvar threeWithDouble = this._findThreeWithDouble(doubleCards, threeCards.concat(thrreCardsWithLz));\n\t\tresult = result.concat(threeWithDouble);\n\t\tif (result.length > 0) {\n\t\t\treturn result;\n\t\t}\n\n\t\t//找飞机\n\t\tvar plane = this._findPlane();\n\t\t// result = result.concat(plane);\n\n\t\t// 飞机带单张翅膀\n\t\tvar planeWithSingle = this._findPlaneWithSingle(plane, singleRes);\n\t\tif (planeWithSingle.length > 1) {\n\t\t\tresult = result.concat(planeWithSingle);\n\t\t\treturn result;\n\t\t}\n\n\t\t//飞机带对子\n\t\tvar planeWithDouble = this._findPlaneWithDouble(plane, doubleCards);\n\t\tresult = result.concat(planeWithDouble);\n\t\tif (planeWithDouble.length > 0) {\n\t\t\tresult = result.concat(planeWithDouble);\n\t\t\treturn result;\n\t\t}\n\n\t\tif (plane.length > 0) {\n\t\t\tresult = result.concat(plane);\n\t\t\treturn result;\n\t\t}\n\n\t\t//找顺子\n\t\tvar shunzi = this._findShunZi();\n\t\tresult = result.concat(shunzi);\n\t\tif (result.length > 0) {\n\t\t\treturn result;\n\t\t}\n\n\t\t// 找连对\n\t\tvar continueDouble = this._findContinueDouble();\n\t\tresult = result.concat(continueDouble);\n\t\tif (result.length > 0) {\n\t\t\treturn result;\n\t\t}\n\n\t\t//找炸弹\n\t\tvar bomb = this._findBomb();\n\t\tvar bombWithLz = this._findResByInitWithLz(4, singleRes, doubleCards, threeCards);\n\t\tresult = result.concat(bomb, bombWithLz);\n\t\tif (result.length > 0) {\n\t\t\treturn result;\n\t\t}\n\n\t\t//找火箭\n\t\tvar rocket = this._findRocket();\n\t\tresult = result.concat(rocket);\n\t\tif (result.length > 0) {\n\t\t\treturn result;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t// 找单牌\n\t_findSingle: function() {\n\t\t// var result = [];\n\t\t// var single = this._singleFinder.find(this._cardsByPoint);\n\t\t// var singleLz = this._singleFinder.find([this._lzCardsPoint]);\n\t\t// result = result.concat(single, singleLz);\n\t\t// return single;\n\t\treturn this._singleFinder.find(this._cardsByPoint);\n\t},\n\n\t//找对子：从原始牌型中查找、从癞子中找、从单牌和癞子中的结合找\n\t_findDouble: function() {\n\t\tvar result = [];\n\t\tvar doubleCards = this._doubleFinder.find(this._cardsByPoint);\n\t\tvar doubleLzCards = this._doubleFinder.find([this._lzCardsPoint]);\n\t\tresult = result.concat(doubleCards, doubleLzCards);\n\t\treturn result;\n\t},\n\n\t/*\n\t\t用于单牌和癞子凑对子、单牌和对子凑三张 ...\n\t\t根据原始结果拼凑结果数据，使用的是动态参数\n\t\t第一个参数是期望的牌的长度，第二、三个参数是初始结果集\n\t\t弟一个参数是整数、弟二、三...是数组\n\t*/\n\t_findResByInitWithLz: function() {\n\t\tvar result = [];\n\n\t\tif (this._lzCardsPoint.count <= 0) {\n\t\t\treturn result;\n\t\t}\n\t\tif (arguments.length < 2) {\n\t\t\treturn result;\n\t\t}\n\n\t\tvar dstCnt = arguments[0];\n\t\tvar i = 0;\n\n\t\t// 拼接初始结果数据\n\t\tfor (i=1; i<arguments.length; i++) {\n\t\t\tvar tmp = [];\n\t\t\tfor (var j=0; j<arguments[i].length; j++) {\n\t\t\t\ttmp.push(arguments[i][j].slice(0));\n\t\t\t}\n\t\t\tresult = result.concat(tmp);\n\t\t}\n\n\t\tfor (i=0; i<result.length; i++) {\n\n\t\t\tvar t = result[i];\n\t\t\tif (this._isOutOfAK(t)) {\n\t\t\t\t// 不去拼接包涵癞子、大小王的数\n\t\t\t\tresult.splice(i, 1);\n\n\t\t\t\ti -= 1;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar needLzCnt = dstCnt - result[i].length;\n\t\t\tif (needLzCnt > this._lzCardsPoint.count) {\n\t\t\t\t//癞子不够\n\t\t\t\tresult.splice(i, 1);\n\n\t\t\t\ti -= 1;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (var j=0; j<needLzCnt; j++) {\n\t\t\t\tresult[i].push(this._lzCardsPoint.cards[j]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t},\n\n\n\t//找三张\n\t_findThreeCards: function() {\n\t\tvar result = [];\n\t\tvar threeCards = this._threeFinder.find(this._cardsByPoint);\n\t\tvar threeLzCards = this._threeFinder.find([this._lzCardsPoint]);\n\t\tresult = result.concat(threeCards, threeLzCards);\n\t\treturn result;\n\t},\n\n\t//找炸弹\n\t_findBomb: function() {\n\t\tvar result = [];\n\t\tvar bomb = this._bombFinder.find(this._cardsByPoint);\n\t\tvar bombLzCards = this._bombFinder.find([this._lzCardsPoint]);\n\t\tresult = result.concat(bomb, bombLzCards);\n\t\treturn result;\n\t},\n\n\t//找火箭\n\t_findRocket: function() {\n\t\tvar result = [];\n\t\tif (this._cardsByPoint.length < 2) {\n\t\t\treturn result;\n\t\t}\n\n\t\tfor (var i=0; i<this._cardsByPoint.length; i++) {\n\t\t\tif (this._cardsByPoint[i].point==13 || this._cardsByPoint[i].point==14) {\n\t\t\t\tresult.push(this._cardsByPoint[i].cards[0]);\n\t\t\t}\n\t\t}\n\n\t\tif (result.length < 2) {\n\t\t\tresult = [];\n\t\t}\n\n\t\treturn [result];\n\t},\n\n\t//找连队\n\t_findContinueDouble: function() {\n\t\t// 找连对\n\t\tvar continueDouble = [];\n\t\tvar tmpResult = [];\n\t\tvar tmpArr = this._cardsByPoint;\n\n\t\tfor (var i=0; i<tmpArr.length; i++) {\n\t\t\tvar t = tmpArr[i];\n\t\t\tif (t.point>=12) {\n\t\t\t\t//2、小王、大王\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (t.count < 2) {\n\t\t\t\tif (tmpResult.length >= 6){\n\t\t\t\t\tcontinueDouble.push(tmpResult);\n\t\t\t\t}\n\t\t\t\ttmpResult = [];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (tmpResult.length == 0) {\n\t\t\t\ttmpResult.push(t.cards[0]);\n\t\t\t\ttmpResult.push(t.cards[1]);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 比i-1组的point大于1，才可添加到数组中\n\t\t\tvar prevCard = tmpArr[i-1];\n\t\t\tif ((t.point-prevCard.point) != 1) {\n\t\t\t\t// 断了\n\t\t\t\tif (tmpResult.length >= 6){\n\t\t\t\t\tcontinueDouble.push(tmpResult);\n\t\t\t\t}\n\t\t\t\ttmpResult = [];\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ttmpResult.push(t.cards[0]);\n\t\t\ttmpResult.push(t.cards[1]);\n\n\t\t\t// if (tmpResult.length >= 6) {\n\t\t\t// \tvar oneResult = tmpResult.slice(0);\n\t\t\t// \tcontinueDouble.push(oneResult);\n\t\t\t// }\n\t\t}\n\n\t\tif (tmpResult.length >= 6){\n\t\t\tcontinueDouble.push(tmpResult);\n\t\t}\n\t\treturn continueDouble;\n\t},\n\n\t//找仨带一个:从已有的单牌和三张结果中拼凑，单张中除去癞子牌，除去已包涵在三张中的\n\t_findThreeWithOne: function(singleRes, threeRes) {\n\t\tvar result = [];\n\t\tthis._existTester.reset();\n\t\tfor (var i=0; i<threeRes.length; i++) {\n\t\t\tfor (var j=0; j<singleRes.length; j++) {\n\t\t\t\tif (this._isLz(singleRes[j][0]) || this._isHave(threeRes[i], singleRes[j][0])) {\n\t\t\t\t\t// 排除单张癞子\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (this._existTester.isExist(threeRes[i], singleRes[j])) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar res = [];\n\t\t\t\tres.push(threeRes[i][0]);\n\t\t\t\tres.push(threeRes[i][1]);\n\t\t\t\tres.push(threeRes[i][2]);\n\t\t\t\tres.push(singleRes[j][0]);\n\t\t\t\tresult.push(res);\n\t\t\t}\n\t\t}\n\n\t\tcc.log('threeWithOne result = ' + JSON.stringify(result));\n\t\treturn result;\n\t},\n\n\t//找仨带一个对子，排除对子中包换癞子的牌，和三个中包涵对子牌的对子\n\t_findThreeWithDouble: function(doubleRes, threeRes) {\n\t\tvar result = [];\n\t\tthis._existTester.reset();\n\t\tfor (var i=0; i<threeRes.length; i++) {\n\t\t\tfor (var j=0; j<doubleRes.length; j++) {\n\t\t\t\tif (this._isLz(doubleRes[j][0]) || this._isLz(doubleRes[j][1])) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (this._isHave(threeRes[i], doubleRes[j][0]) || this._isHave(threeRes[i], doubleRes[j][1])) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (this._existTester.isExist(threeRes[i], doubleRes[j])) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar res = [];\n\t\t\t\tfor (var k=0; k<3; k++) {\n\t\t\t\t\tres.push(threeRes[i][k]);\n\t\t\t\t}\n\t\t\t\tfor (var l=0; l<2; l++) {\n\t\t\t\t\tres.push(doubleRes[j][l]);\n\t\t\t\t}\n\t\t\t\tresult.push(res);\n\t\t\t}\n\t\t}\n\n\t\tcc.log('threeWithDouble result = ' + JSON.stringify(result));\n\t\treturn result;\n\t},\n\n\t//找飞机：遍历数组point<12，且两个连续位置的牌数大于等于3\n\t_findPlane: function() {\n\t\tvar result = [];\n\n\t\tfor (var i=0; i<this._cardsByPoint.length-1; i++) {\n\t\t\tvar t = this._cardsByPoint[i];\n\t\t\tif (t.point >= 11) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar next = this._cardsByPoint[i+1];\n\t\t\tif (next.point - t.point != 1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (t.count>=3 && next.count>=3) {\n\t\t\t\tvar tmp = [];\n\t\t\t\tfor (var j=0; j<3; j++) {\n\t\t\t\t\ttmp.push(t.cards[j]);\n\t\t\t\t\ttmp.push(next.cards[j]);\n\t\t\t\t}\n\t\t\t\tresult.push(tmp);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t//加癞子的解\n\t\t\tvar needLzCnt = 6-((t.count>3?3:t.count)+(next.count>3?3:next.count));\n\t\t\tif (needLzCnt > this._lzCardsPoint.count) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar tmp2 = [];\n\t\t\tfor(var k=0; k<(t.count>3?3:t.count); k++) {\n\t\t\t\ttmp2.push(t.cards[k]);\n\t\t\t}\n\t\t\tfor(var l=0; l<(next.count>3?3:next.count); l++) {\n\t\t\t\ttmp2.push(next.cards[l]);\n\t\t\t}\n\t\t\tfor (var m=0; m<needLzCnt; m++) {\n\t\t\t\ttmp2.push(this._lzCardsPoint.cards[m]);\n\t\t\t}\n\t\t\tresult.push(tmp2);\n\t\t}\n\n\t\tddz.LOGD(this._TAG, 'plane result = ' + JSON.stringify(result));\n\t\treturn result;\n\t},\n\n\t// 查找飞机带翅膀：飞机中含有癞子牌，需要排除包含在飞机中的单牌\n\t_findPlaneWithSingle: function(planeRes, singleRes) {\n\t\tvar result = [];\n\t\tfor (var i=0; i<planeRes.length; i++) {\n\t\t\tvar temp = planeRes[i].slice(0);\n\t\t\tfor (var j=0; j<singleRes.length-1; j++) {\n\t\t\t\tif (this._isHave(planeRes[i], singleRes[j][0])) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttemp.push(singleRes[j][0]);\n\t\t\t\tfor (var k=j+1; k<singleRes.length; k++) {\n\t\t\t\t\tif (this._isHave(planeRes[i], singleRes[k][0])) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\ttemp.push(singleRes[k][0]);\n\t\t\t\t\tresult.push(temp.slice(0));\n\t\t\t\t\t// 将单牌扔出去\n\t\t\t\t\ttemp.pop();\n\t\t\t\t}\n\t\t\t\t// 将单牌扔出去\n\t\t\t\ttemp.pop();\n\t\t\t}\n\t\t}\n\n\t\tddz.LOGD(this._TAG, 'plane with single = ' + JSON.stringify(result));\n\t\treturn result;\n\t},\n\n\t// 查找飞机带俩对\n\t_findPlaneWithDouble: function(planeRes, doubleRes) {\n\t\tvar result = [];\n\t\tfor (var i=0; i<planeRes.length; i++) {\n\t\t\tvar temp = planeRes[i].slice(0);\n\t\t\tfor (var j=0; j<doubleRes.length-1; j++) {\n\t\t\t\tif (this._isHave(planeRes[i], doubleRes[j][0]), this._isHave(planeRes[i], doubleRes[j][1])) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttemp.push(doubleRes[j][0]);\n\t\t\t\ttemp.push(doubleRes[j][1]);\n\n\t\t\t\tfor (var k=j+1; k<doubleRes.length; k++) {\n\t\t\t\t\tif (this._isHave(planeRes[i], doubleRes[k][0]) ||this._isHave(planeRes[i], doubleRes[k][1])) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\ttemp.push(doubleRes[k][0]);\n\t\t\t\t\ttemp.push(doubleRes[k][1]);\n\t\t\t\t\tresult.push(temp.slice(0));\n\t\t\t\t\t// 将对子扔出去\n\t\t\t\t\ttemp.pop();\n\t\t\t\t\ttemp.pop();\n\t\t\t\t}\n\t\t\t\t// 将对子扔出去\n\t\t\t\ttemp.pop();\n\t\t\t\ttemp.pop();\n\t\t\t}\n\t\t}\n\t\tddz.LOGD(this._TAG, 'plane with double = ' + JSON.stringify(result));\n\t\treturn result;\n\t},\n\n\t//查找顺子\n\t_findShunZi: function() {\n\t\tvar result = [];\n\t\tvar lzUsedYet = 0;\n\t\tif (this._cardsByPoint.length < 5) {\n\t\t\treturn result;\n\t\t}\n\t\tvar tmp = [];\n\t\tvar curPutPoint = -2;\n\t\tfor(var i=0; i<this._cardsByPoint.length; i++) {\n\t\t\tvar t = this._cardsByPoint[i];\n\t\t\tif (t.point >= 12) {\n\t\t\t\tif (tmp.length >= 5) {\n\t\t\t\t\tresult.push(tmp.slice(0));\n\t\t\t\t}\n\t\t\t\ttmp = [];\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (tmp.length <= 0) {\n\t\t\t\t//放入一个数\n\t\t\t\tlzUsedYet = 0;\n\t\t\t\ttmp.push(t.cards[0]);\n\t\t\t\tcurPutPoint = t.point;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t//判读当前的value是否和tmp中的最后一个数的value是否是连续的\n\t\t\tif (t.point-curPutPoint == 1) {\n\t\t\t\ttmp.push(t.cards[0]);\n\t\t\t\tcurPutPoint = t.point;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t//放癞子牌\n\t\t\tif (this._lzCardsPoint.count-lzUsedYet<=0) {\n\t\t\t\tif (tmp.length >= 5) {\n\t\t\t\t\tresult.push(tmp.slice(0));\n\t\t\t\t}\n\t\t\t\ttmp = [];\n\t\t\t\ti--;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlzUsedYet += 1;\n\t\t\tcurPutPoint += 1;\n\t\t\ttmp.push(this._lzCardsPoint.cards[0]);\n\t\t\t//放入癞子后重新检测\n\t\t\ti--;\n\t\t}\n\n\t\tif (tmp.length>5) {\n\t\t\tresult.push(tmp.slice(0));\n\t\t}\n\n\t\tddz.LOGD(this._TAG, 'shunzi result = ' + JSON.stringify(result));\n\n\t\treturn result;\n\t},\n\n\t// 一个数组中是否有癞子、王\n\t_isOutOfAK: function(src) {\n\t\tfor (var i=0; i<src.length; i++) {\n\t\t\tif (this._isLz(src[i]) || this._isKing(src[i])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t//找对子和癞子凑三张\n\t_isLz: function(num) {\n\t\treturn num > 53;\n\t},\n\n\t_isKing: function(num) {\n\t\treturn num==52 || num==53;\n\t},\n\n\t_isHave: function(src, num) {\n\t\tfor (var i=0; i<src.length; i++) {\n\t\t\tif (src[i] == num) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_canWork: function() {\n\t\tif (!this._cardsByPoint || !this._lzCardsPoint) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\n});"]}