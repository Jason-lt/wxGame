{"version":3,"sources":["HallNetWorkCenter.js"],"names":["hall","hallNetWorkCenter","_TAG","boot","LOGD","cmdMap","ddz","EventType","MSG_USER_INFO","onReceiveUserInfo","MSG_BAG_INFO","onReceiveBagInfo","MSG_GAME_DATA","onReceiveGameData","MSG_TODO_TASKS","onTodoTask","MSG_DATA_CHANGED","onUpdateChangedData","MSG_USER","onUserName","MSG_PROD_DELIVERY","onProdDelivery","MSG_LOGIN_REWARD","onLoginReward","MSG_LED","onLed","ty","UPDATE_UER_INFO","onUPDATE_UER_INFO","MSG_LOG_OUT","onLogout","MSG_ROOM","onRoomAction","MSG_MODULE_TIP","onModuleTip","MSG_MESSAGE","onMessage","MSG_CUSTOM_RANK","onRankList","MSG_COMPLAIN","onComplain","MSG_STORE_INFO","onStoreInfo","MSG_TABLE_POPWND","onClassicPopwnd","MSG_STORE","onStore","MSG_CUSTOMTABLE","onCustomTable","MSG_ROOM_ONLINE_INFO","onRoomOnlineInfo","MSG_CASH","onCash","MSG_CHARGE_NOTIFY","onChargeNotify","NotificationCenter","listen","TCP_OPENED","onTCP_Open","TCP_RECEIVE","onReceiveTCP_Msg","MSG_ON_LOC","_onLocInfo","GET_USER_FEATURE_SUCCESS","_userFeature","shut","ignoreScope","MsgFactory","bindUser","value","msgCmd","cmd","result","gameId","SystemInfo","hallId","func","call","CMD_STORE_INFO","errMsg","error","info","MsgBoxManager","showToast","title","larr","gameid","parseInt","roomid","tableid","seatId","sceneInfo","UserInfo","onShowParam","wx","getLaunchOptionsSync","LOGW","JSON","stringify","scene","scene_id","query","shareTicket","queryS","GlobalFuncs","replaceToStringWithDic","qrCodeOption","withQrCode","par","hasOwnProperty","path","runOption","from","topage","gameModel","getDayInviteReward","isClickShareReward","shareToGetreward","Share","SharePointType","gongZhongHaoCard","param1","param2","getBoxReward","gongZhongHaoMenu","addApplet","sourceCode","BiLog","clickStat","clickStatEventType","clickStatEventTypeUserFrom","inviteCode","clickStatShareType","imageType","bindInviteCode_ID","onShareType","clickStatShareTypeSeekHelpFriend","getHelpBoxReward","clickStatShareTypeInviteFriend","ftID","clickStatEventTypeInviteFriendCardSuccess","clickStatShareTypeGiveProp","treasureID","clickStatEventTypeGivePropSuccess","clickStatShareTypeNewUserGifts","giftID","getNewGiftReward","curDay","GlobalTimer","getCurDay","lastDay","ReadStringFromLocalStorage","LAST_LOGIN_TIME","inviteName","userId","setInLocalStorage","string","appid","isOnShare","playAnimationAfterShareWithType","getMatchRecords","_boxUserId","getOpenGid","friendModel","enterFriendTable","waitGetRevial","type","needCount","matchType","curCount","i","sharePoint","firstFail","clickStatEventTypeTCP_Success","onUserInfo","bindGame","funList","getTimeStamp","runOneFun","length","shift","requestAnimationFrame","val","data","loc","featureInfo","isInBSGS","checkBSGS","ip","isBringVersion","ME","parseBagInfo","onGameData","getHallInfo","argument","curValue","getGameData","getBagInfo","getUserInfo","action","code","trigger","MSG_NAME_BACK","ACTION_SYNC_TIMESTAMP","GET_TIMESTAMP","params","UPDATE_PAY_SUCCESS","success","loginRewardinfo","parse","MSG_REWARD_SUCCESS","_bBindGame","parseUserInfo","UPDATE_COIN_NUMBER","SET_LOSS_MONEY_NUMBER","checkShareReward","firstUseJiPaiQi","curScene","cc","director","getScene","name","getDayFirstLogin","getStoreInfo","queryWatchVideoReward","parseGameData","hallGData","m_winchipstats","MSG_GDATA_BACK","checkMsgWithGameId","GameId","gdataInfo","m_loginsum","getEveryTaskInfo","getPersonalMsg","getGlobalMsg","scope","gameWorld","parseLed","text","model","m_ledBeWork","CMD_LED_RECEIVE","parseGameLed","userInfo","interval","objectInfo","m_heart","heartbeat","isOtherLogin","err","UPDATE_CASH_RESULT","msgInfo","praseModultTip","list","parseSysInfo","MSG_SYS_MESSAGE_BACK","parseReceiveInfo","MSG_REC_MESSAGE_BACK","parseSendInfo","MSG_SEND_MESSAGE_BACK","msgTitle","unReadCount","sysUnread","HAS_MAIL_KEY","RECIVE_MESSAGE_LIST","notifyMailMessage","messageCount","msgs","indexOf","_info","index_2","versions","slice","timer","time","content","sign","msgid","id","get","attachment","UPDATE_COMMON_CONFIG","itemlist","countNum","coinNum","diamondNum","jipaiqinum","itemId","count","str","parseMatchStore","STORE_INFO_UPDATE","UPDATE_POP_WINDOW","MSG_CUSTOMTABLE_GAMEDATA","MSG_CUSTOMTABLE_FIGHTDATA"],"mappings":"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","file":"HallNetWorkCenter.js","sourceRoot":"../../../../../assets/Script/hall","sourcesContent":["/**\n * 大厅消息中心\n */\nhall.hallNetWorkCenter = {\n    _TAG : 'hall.hallNetWorkCenter',\n    boot : function (){\n        hall.LOGD(this._TAG, \"boot!\");\n\n        this.cmdMap = {};\n        //注册消息监听\n\n        this.cmdMap[ddz.EventType.MSG_USER_INFO] = this.onReceiveUserInfo;\n        this.cmdMap[ddz.EventType.MSG_BAG_INFO] = this.onReceiveBagInfo;\n        this.cmdMap[ddz.EventType.MSG_GAME_DATA] = this.onReceiveGameData;\n        this.cmdMap[ddz.EventType.MSG_TODO_TASKS] = this.onTodoTask;\n        this.cmdMap[ddz.EventType.MSG_DATA_CHANGED] = this.onUpdateChangedData;\n        this.cmdMap[ddz.EventType.MSG_USER] = this.onUserName;\n\n        this.cmdMap[ddz.EventType.MSG_PROD_DELIVERY] = this.onProdDelivery;\n\n        this.cmdMap[ddz.EventType.MSG_LOGIN_REWARD] = this.onLoginReward;\n\n        this.cmdMap[ddz.EventType.MSG_LED] = this.onLed;\n        this.cmdMap[ty.EventType.UPDATE_UER_INFO] = this.onUPDATE_UER_INFO;\n        this.cmdMap[ty.EventType.MSG_LOG_OUT] = this.onLogout;\n\n        this.cmdMap[ddz.EventType.MSG_ROOM] = this.onRoomAction;\n        this.cmdMap[ddz.EventType.MSG_MODULE_TIP] = this.onModuleTip;\n        this.cmdMap[ddz.EventType.MSG_MESSAGE] = this.onMessage;\n        this.cmdMap[ddz.EventType.MSG_CUSTOM_RANK] = this.onRankList;\n        this.cmdMap[ddz.EventType.MSG_COMPLAIN] = this.onComplain;\n        this.cmdMap[ddz.EventType.MSG_STORE_INFO] = this.onStoreInfo;\n\n        this.cmdMap[ddz.EventType.MSG_TABLE_POPWND] = this.onClassicPopwnd;\n        this.cmdMap[ddz.EventType.MSG_STORE] = this.onStore;\n        this.cmdMap[ddz.EventType.MSG_CUSTOMTABLE] = this.onCustomTable;\n\n        this.cmdMap[ddz.EventType.MSG_ROOM_ONLINE_INFO] = this.onRoomOnlineInfo;\n\n        this.cmdMap[ddz.EventType.MSG_CASH] = this.onCash;\n\n        // 商城购买;\n        this.cmdMap[ddz.EventType.MSG_CHARGE_NOTIFY] = this.onChargeNotify;\n        \n        //注册监听\n        ty.NotificationCenter.listen(ty.EventType.TCP_OPENED, this.onTCP_Open, this);\n        ty.NotificationCenter.listen(ty.EventType.TCP_RECEIVE, this.onReceiveTCP_Msg, this);\n        ty.NotificationCenter.listen(ddz.EventType.MSG_ON_LOC, this._onLocInfo, this);\n\n        ty.NotificationCenter.listen(ty.EventType.GET_USER_FEATURE_SUCCESS, this._userFeature, this);\n    },\n    \n    shut : function(){\n        this.cmdMap = {};\n        ty.NotificationCenter.ignoreScope(this);\n    },\n\n    //\n    onTCP_Open : function(){\n        //发送BindUser\n        hall.MsgFactory.bindUser();\n    },\n    /**\n     * 收到TCP消息\n     */\n    onReceiveTCP_Msg : function(value){\n        var msgCmd = value.cmd;\n        var result = value.result;\n        if (result){\n            var gameId = result.gameId;\n            if (gameId === ty.SystemInfo.hallId){\n                //大厅消息在这里处理，其它游戏，在自己的插件里监听消息，并用gameId进行过滤\n                var func = this.cmdMap[msgCmd];\n                if (func){\n                    // func(value);\n                    func.call(this, value);\n                }\n                else{\n                    // ty.NotificationCenter.trigger(msgCmd, value);\n                    hall.LOGD(this._TAG, \"未注册关于消息 ： \" + msgCmd + \" 的监听！\");\n                }\n            }else if (value.cmd == ddz.EventType.CMD_STORE_INFO) {  // store_config 特殊处理下,大厅共用,此消息没有传gameId\n                var func = this.cmdMap[msgCmd];\n                if (func){\n                    func.call(this, value);\n                }\n                else{\n                    hall.LOGD(this._TAG, \"未注册关于消息 ： \" + msgCmd + \" 的监听！\");\n                }\n            }else if (value.cmd == ddz.EventType.MSG_LED){      // 'led' 消息,\n                var func = this.cmdMap[msgCmd];\n                if (func){\n                    func.call(this, value);\n                }\n                else{\n                    hall.LOGD(this._TAG, \"未注册关于消息 ： \" + msgCmd + \" 的监听！\");\n                }\n            }\n        }\n\n        else{\n            if (msgCmd == ty.EventType.MSG_LOG_OUT){\n                var errMsg = value.error ? value.error.info : null;\n                if (errMsg){\n                    hall.MsgBoxManager.showToast({title : errMsg});\n                }\n            }\n        }\n    },\n\n    _onLocInfo: function (larr) {\n        // hall.MsgBoxManager.showToast({title:'' + larr.toString()});\n        ddz.LOGD(\"\",\"file = [HallNetWorkCenter] fun =[_onLocInfo] \");\n\n        var gameid = parseInt(larr[0]);\n        var roomid = parseInt(larr[1]);\n        var tableid = parseInt(larr[2]);\n        var seatId = parseInt(larr[3]);\n\n        // var sceneInfo = wx.getLaunchOptionsSync();\n        var sceneInfo = ty.UserInfo.onShowParam || wx.getLaunchOptionsSync();\n        // hall.LOGW(null, \"+++++++++sceneInfo++++++++\"+JSON.stringify(sceneInfo));\n        // var scene = sceneInfo.scene;\n        // var query = sceneInfo.query;\n        hall.LOGW(null, \"file = [HallNetWorkCenter] fun = [_onLocInfo] sceneInfo = \"+JSON.stringify(sceneInfo));\n        // var shareTicket;\n        var scene = ty.UserInfo.scene_id || sceneInfo.scene;\n        var query = sceneInfo.query;\n        var shareTicket = sceneInfo.shareTicket;\n        var queryS = hall.GlobalFuncs.replaceToStringWithDic(query);\n\n        if (ddz.qrCodeOption.withQrCode(scene)){\n            //是否为从小程序码进入\n            var par = \"\";\n            if (query.hasOwnProperty('scene')){\n                //个人小程序码\n                par = query.scene;\n            }\n            else if (sceneInfo.hasOwnProperty('path')){\n                par = sceneInfo.path;\n            }\n            ddz.qrCodeOption.runOption(par, scene);\n        }\n\n        if (scene == 1074 && query && query.from == \"fuhao_guanfang\") { // 公众号会话下发的小程序消息卡片\n            if (query.topage&&query.topage == \"fuli\") {\n                // hall.GlobalFuncs.showDiamondWindowWithType('invite');\n                hall.LOGW(\"\",\"file = [HallNetWorkCenter] fun = [_onLocInfo] fuli\");\n                ddz.gameModel.getDayInviteReward();\n                ddz.isClickShareReward = true;\n            }else {\n                ddz.gameModel.shareToGetreward(ddz.Share.SharePointType.gongZhongHaoCard);\n            }\n            if (query.param1 && query.param2){\n                ddz.gameModel.getBoxReward(parseInt(query.param1), query.param2);\n            }\n        }else if(scene == 1035 && query && query.from == \"fuhao_guanfang\") { // 公众号自定义菜单\n            ddz.gameModel.shareToGetreward(ddz.Share.SharePointType.gongZhongHaoMenu);\n        }else if(scene == 1104) { // 小程序进入\n            hall.LOGW(\"\",\"file = [HallNetWorkCenter] fun = [_onLocInfo] 小程序进入\");\n            ddz.gameModel.shareToGetreward(ddz.Share.SharePointType.addApplet);\n        }\n\n        if(query && query.sourceCode){\n            ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeUserFrom,[scene,query.inviteCode,ddz.Share.clickStatShareType[query.sourceCode],\n                query.imageType,\"GameStart\"]);\n            //邀请得钻石\n            if (query.inviteCode) {\n                ddz.gameModel.bindInviteCode_ID(parseInt(query.inviteCode));\n                // ddz.gameModel.bindNewInviteCode(parseInt(query.inviteCode));\n\n                if(query.sourceCode == ddz.Share.onShareType.clickStatShareTypeSeekHelpFriend){\n                    ddz.gameModel.getHelpBoxReward(parseInt(query.inviteCode));\n                }\n            }\n\n            //好友房打点\n            if(query.sourceCode == ddz.Share.onShareType.clickStatShareTypeInviteFriend){\n                var ftID = query.ftID ? query.ftID : \"0000\";\n                ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeInviteFriendCardSuccess,\n                    [ftID,query.inviteCode]);\n            }\n\n            //宝箱\n            if(query.sourceCode == ddz.Share.onShareType.clickStatShareTypeGiveProp){\n                var treasureID = query.treasureID ? query.treasureID : \"\";\n                ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeGivePropSuccess,\n                    [treasureID,query.inviteCode]);\n            }\n\n            //新人限时宝箱\n            if(query.sourceCode == ddz.Share.onShareType.clickStatShareTypeNewUserGifts){\n                var giftID = query.giftID ? query.giftID : \"\";\n                ddz.gameModel.getNewGiftReward(query.inviteCode,giftID);\n            }\n\n            //第一次登录展示帮助某某获得一颗钻石\n            var curDay = hall.GlobalTimer.getCurDay();\n            var lastDay=hall.GlobalFuncs.ReadStringFromLocalStorage(ddz.Share.LAST_LOGIN_TIME,\"\");\n            if (curDay != lastDay && query.inviteName\n                && query.sourceCode != ddz.Share.onShareType.clickStatShareTypeInviteFriend\n                && query.sourceCode != ddz.Share.onShareType.clickStatShareTypeGiveProp\n                && query.inviteCode != ty.UserInfo.userId) {\n                hall.GlobalFuncs.setInLocalStorage(ddz.Share.LAST_LOGIN_TIME,curDay);\n                var string =\n                    \"<color=#1A6951>成功帮助 \"+query.inviteName+\n                    \" 获得</color><img src='dda_button_diamond_black' height=34 width=42/><color=#1A6951> +1<c/><br/><color=#1A6951>每期仅能帮助一位好友哦</c>\";\n            }\n        }else {\n            ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeUserFrom,[scene,query.from,query.appid,\n                \"GameStart\"]);\n        }\n\n        hall.GlobalFuncs.setInLocalStorage(ddz.Share.LAST_LOGIN_TIME,hall.GlobalTimer.getCurDay());\n\n        //存储本次登录时间最为最后登录时间\n        if(ddz.Share.isOnShare){\n            ddz.Share.playAnimationAfterShareWithType();\n        }\n        ddz.MsgFactory.getMatchRecords();\n        ddz.Share.isOnShare = false;\n\n        if (ty.SystemInfo.treasureID != \"\" && query.inviteCode) {\n            var _boxUserId = query.inviteCode;\n            ddz.Share.getOpenGid(shareTicket,_boxUserId);\n            // ddz.gameModel.getBoxReward(parseInt(_boxUserId),ty.SystemInfo.treasureID,_openGid);\n            ty.SystemInfo.shareTicket = \"\";\n        }\n        if (ty.SystemInfo.ftID != \"\") {\n            ddz.friendModel.enterFriendTable(ty.SystemInfo.ftID);\n            ty.SystemInfo.shareTicket = \"\";\n        }\n\n        // if (ddz.waitGetRevial && ddz.waitGetRevial.type == 'showWindow'){\n        //     //分享到了好友,再次拉起面板,让玩家分享到群\n        //     ddz.LOGD(\"ddz.waitGetRevial.type\", \"分享到了个人!\" + ddz.waitGetRevial.type);\n        //     ddz.GlobalFuncs.showRevialWindow(true,1);\n        //     ddz.waitGetRevial = null;\n        // }\n\n        if (ddz.waitGetRevial && ddz.waitGetRevial.type == 'send'){\n            var needCount = ddz.waitGetRevial.needCount;\n            if(ddz.waitGetRevial.matchType == 'arena') {\n                ddz.waitGetRevial.type = 'waitRecive';\n                ddz.waitGetRevial.curCount = 0;\n            } else {\n                ddz.waitGetRevial = {\n                    type : 'waitRecive',\n                    curCount : 0,\n                    needCount : needCount\n                };\n            }\n            //发送得钻石的消息\n            for (var i = 0; i < needCount; i++){\n                ddz.gameModel.shareToGetreward(ddz.waitGetRevial.sharePoint || ddz.Share.SharePointType.firstFail);\n            }\n        }\n\n        // }\n        ty.SystemInfo.shareTicket = \"\";\n    },\n\n    //==================消息回调方法开始=========================\n\n    onReceiveUserInfo : function(value){\n        //发送bindGame信息\n        ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeTCP_Success, []);\n        this.onUserInfo(value);\n        hall.MsgFactory.bindGame(ty.SystemInfo.gameId);\n        var funList = [\n            \n        ];\n\n        hall.MsgFactory.getTimeStamp();\n        var runOneFun = function () {\n            if (funList.length > 0){\n                var func = funList.shift();\n                func();\n                requestAnimationFrame(runOneFun);\n            }\n        };\n\n        runOneFun();\n    },\n\n    _userFeature:function (val) {\n        // if (!val.retmsg) {\n        //     return\n        // }\n        // hall.LOGW(\"\",\"file = [HallNetWorkCenter] fun = [_userFeature] val = \" + JSON.stringify(val));\n        // ty.UserInfo.featureInfo = val.retmsg;\n        // ty.UserInfo.isInBSGS = hall.GlobalFuncs.checkBSGS(ty.UserInfo.featureInfo.last_login_city); //是否在北上广深\n        // ty.UserInfo.ip = ty.UserInfo.featureInfo.last_login_ip; //上一次登录的IP\n        // if (ddz.gameModel.isBringVersion) {\n        //     ty.UserInfo.isInBSGS = true;\n        // }\n       \n        if (val.data && val.data.loc) {\n            hall.LOGW(\"\",\"file = [HallNetWorkCenter] fun = [_userFeature] val = \" + JSON.stringify(val));\n            ty.UserInfo.featureInfo = val.data;\n            ty.UserInfo.isInBSGS = hall.GlobalFuncs.checkBSGS(ty.UserInfo.featureInfo.loc[2]); //是否在北上广深\n            ty.UserInfo.ip = ty.UserInfo.featureInfo.ip; //\n            if (ddz.gameModel.isBringVersion) {\n                ty.UserInfo.isInBSGS = true;\n            }\n        }\n        hall.LOGW(\"\",\"file = [HallNetWorkCenter] fun = [_userFeature] ty.UserInfo.isInBSGS = \" + ty.UserInfo.isInBSGS);\n\n    },\n\n    onReceiveBagInfo : function (value) {\n        if (typeof(value) == 'undefined') {\n            return;\n        }\n        hall.ME.parseBagInfo(value);\n    },\n\n    onReceiveGameData : function(value){\n        hall.LOGW(null, \"file = [HallNetWorkCenter] fun = [onReceiveGameData] \");\n        this.onGameData(value);\n        hall.MsgFactory.getHallInfo(ty.SystemInfo.gameId);\n    },\n\n    onTodoTask: function(value) {\n        if (value && value[\"result\"]) {\n            \n        }\n    },\n\n    onUpdateChangedData: function(argument) {\n        hall.LOGD(this._TAG, \"onUpdateGold -------------------------\");\n        //解析数据\n        if (typeof(argument) != 'undefined') {\n            //hall.ME.parseUserInfo(argument[0]);\n            var result = argument[\"result\"];\n            if (typeof(result) != 'undefined' && typeof(result['changes']) != 'undefined') {\n                var gameId = result.gameId;\n                hall.LOGD(this._TAG, 'gameid = ' + gameId);\n                for (var i = 0; i < result['changes'].length; i++) {\n                    var curValue = result[\"changes\"][i];\n                    if (typeof(curValue) == 'undefined') {\n                        continue;\n                    }\n\n                    if (curValue == 'gdata') {\n                        hall.LOGD(this._TAG, \"update_notify,更新gdata\");\n                        hall.MsgFactory.getGameData(gameId);\n                    } else if (curValue == 'item') {\n                        hall.LOGD(this._TAG, \"update_notify,更新道具\");\n                        hall.MsgFactory.getBagInfo();\n                    }\n                    //金币，钻石\n                    else if (curValue == \"udata\") {\n                        hall.LOGD(this._TAG, \"update_notify,更新钻石金币\");\n                        hall.MsgFactory.getUserInfo(gameId);\n                    }\n                }\n            }\n        }\n    },\n    onUserName: function(argument) {\n        var data = argument[\"result\"];\n        if (typeof(data) != 'undefined') {\n            var action = data[\"action\"];\n            if (action == \"get_name\") {\n                var code = data[\"code\"];\n                if (code == 0 || !code) {\n                    ty.NotificationCenter.trigger(ddz.EventType.MSG_NAME_BACK, data);\n                } else {\n                    hall.MsgBoxManager.showToast({title : \"你输入的ID不正确，请输入有效ID.\"});\n                }\n            }else if (action == ddz.EventType.ACTION_SYNC_TIMESTAMP) {\n                //获取当前时间戳\n                ty.NotificationCenter.trigger(ddz.EventType.GET_TIMESTAMP, data);\n            }\n        }\n    },\n    onProdDelivery: function(params) {\n        hall.LOGW(\"\",\"file = [HallNetWorkCenter] fun = [onProdDelivery] params = \" + JSON.stringify(params));\n        ty.NotificationCenter.trigger(ddz.EventType.UPDATE_PAY_SUCCESS, params);\n    },\n\n\n    onLoginReward: function(argument) {\n        var result = argument[0][\"result\"];\n        if (typeof(result) != 'undefined') {\n            var success = result[\"success\"];\n            if (success) {\n                hall.ME.loginRewardinfo.parse(result);\n                ty.NotificationCenter.trigger(ddz.EventType.MSG_REWARD_SUCCESS);\n            }\n        }\n    },\n\n    // 获取登录信息,登录成功，会返回五个比赛场里面第一个界面的信息，比如进入经典场，的第一个界面\n    onUserInfo: function(argument) {\n        if (typeof(argument) == 'undefined') {\n            return;\n        }\n        if (this._bBindGame) {\n            // 获取大厅的game_data\n            // hall.MsgFactory.getGameData(ty.SystemInfo.hallId);\n            // hall.MsgFactory.bindGame(ddz.GameId);\n        }\n\n        ddz.LOGD(\"\",\"file = [HallNetWorkCenter] fun = [onUserInfo] \");\n\n        ty.UserInfo.userId = argument[\"result\"][\"userId\"];\n        ddz.LOGD(null, \"onUserInfo argument = \" + JSON.stringify(argument));\n        hall.ME.parseUserInfo(argument);\n\n        // 更新UserInfo\n        ty.NotificationCenter.trigger(ty.EventType.UPDATE_UER_INFO, hall.ME);\n\n        // 刷新金币\n        ty.NotificationCenter.trigger(ddz.EventType.UPDATE_COIN_NUMBER);\n\n        // 刷新剩余奖金\n        ty.NotificationCenter.trigger(ddz.EventType.SET_LOSS_MONEY_NUMBER);\n\n        ddz.gameModel.checkShareReward(ddz.Share.SharePointType.gongZhongHaoCard);\n        ddz.gameModel.checkShareReward(ddz.Share.SharePointType.gongZhongHaoMenu);\n        ddz.gameModel.checkShareReward(ddz.Share.SharePointType.firstUseJiPaiQi);\n        ddz.gameModel.checkShareReward(ddz.Share.SharePointType.addApplet);\n\n        var curScene = cc.director.getScene();\n        if (curScene.name == \"Ddz\") {\n            ddz.gameModel.checkShareReward(ddz.Share.SharePointType.getDayFirstLogin);\n        }\n        hall.MsgFactory.getBagInfo();\n        hall.MsgFactory.getStoreInfo(\"update\");\n\n        ddz.gameModel.queryWatchVideoReward();\n    },\n\n    // 返回gameData\n    onGameData: function(argument) {\n        hall.LOGD(this._TAG, 'onGameData');\n        if (typeof(argument) != \"undefined\") {\n            hall.ME.parseGameData(argument);\n\n            if (hall.ME.hallGData.m_winchipstats && hall.ME.hallGData.m_winchipstats.length > 0) {\n                ty.NotificationCenter.trigger(ddz.EventType.MSG_GDATA_BACK);\n            }\n\n            if (!hall.GlobalFuncs.checkMsgWithGameId(argument, ddz.GameId)) {\n                // 大厅的game_data，返回，暂时没内容\n                // return;\n            }\n\n            // 更新GameData，暂时跟更新UserInfo一起用\n            // ty.NotificationCenter.trigger(hall.EventType.UPDATE_UER_INFO, hall.ME);\n            // if (this._bBindGame) {\n            //     this._bBindGame = false;\n                if (hall.ME.gdataInfo.m_loginsum == 1) {\n                    // 新手获取新手奖励，新手奖励实在bind_game之后在地主的游戏服发放的\n                    hall.MsgFactory.getUserInfo(ddz.GameId);\n                }\n\n                // 获取任务\n                hall.MsgFactory.getEveryTaskInfo(ddz.GameId, 'update');\n                //获取个人消息和系统消息\n                hall.MsgFactory.getPersonalMsg();\n                hall.MsgFactory.getGlobalMsg();\n            // }\n        }\n    },\n\n    onLed: function(params) {\n        // hall.LOGD(null, params);\n        var result = params['result'];\n        if (result && result.scope == \"hall6\") {\n            hall.gameWorld.parseLed(result.text);\n            var model = hall.gameWorld.model;\n            //若是之前消息已经播放完\n            if (!model.m_ledBeWork) {\n                ty.NotificationCenter.trigger(ddz.EventType.CMD_LED_RECEIVE, result);\n            }\n        }else if (result && result.scope == \"6\") {\n            hall.gameWorld.parseGameLed(result.text);\n            var model = hall.gameWorld.model;\n            //若是之前消息已经播放完\n            if (!model.m_ledBeWork) {\n                ty.NotificationCenter.trigger(ddz.EventType.CMD_LED_RECEIVE, result);\n            }\n        }\n    },\n\n    // 用户数据加载完之后，开始启动心跳\n    onUPDATE_UER_INFO: function(userInfo) {\n        var interval = userInfo.objectInfo.m_heart.heartbeat;\n        // 开始心跳逻辑\n        // ty.HeartBeat.startHeartBeat(interval, 10);\n    },\n\n    onLogout: function(argument) {\n        hall.ME.isOtherLogin = true;\n        var err = argument[\"error\"];\n        if (err) {\n            hall.MsgBoxManager.showToast({title : err[\"info\"]});\n\n            // h5.CommonWindow.createSimple(err[\"info\"], function() {\n            //     var scene = h5.EntranceLayer.createScene();\n            //     cc.director.runScene(scene);\n            // });\n        }\n    },\n    // 组局 /////////////\n    onRoomAction: function(params) {\n        hall.LOGD(null, this._TAG, \"onRoomAction -------------------- \");\n    },\n    onCash : function (argument) {\n        ty.NotificationCenter.trigger(ddz.EventType.UPDATE_CASH_RESULT,argument);\n    },\n\n    onChargeNotify:function(params) {\n\n    },\n\n    onModuleTip: function(argument) {\n        var data = argument[\"result\"];\n        if (typeof(data) != 'undefined') {\n            var action = data[\"action\"];\n            if (action == \"update\") {\n                hall.ME.msgInfo.praseModultTip(data[\"modules\"]);\n            }\n        }\n    },\n\n    onRankList : function (argument) {\n        ty.NotificationCenter.trigger(ddz.EventType.MSG_CUSTOM_RANK,argument);\n    },\n\n    onMessage: function(argument) {\n        var data = argument[\"result\"];\n        if (typeof(data) != 'undefined') {\n            var action = data[\"action\"];\n            var list = data[\"list\"];\n            if (action == \"sys_msg_list\") {\n                hall.ME.msgInfo.parseSysInfo(list);\n                ty.NotificationCenter.trigger(ddz.EventType.MSG_SYS_MESSAGE_BACK);\n            } else if (action == \"msg_receive_list\") {\n                hall.ME.msgInfo.parseReceiveInfo(list);\n                ty.NotificationCenter.trigger(ddz.EventType.MSG_REC_MESSAGE_BACK);\n            } else if (action == \"msg_send_list\") {\n                hall.ME.msgInfo.parseSendInfo(list);\n                ty.NotificationCenter.trigger(ddz.EventType.MSG_SEND_MESSAGE_BACK);\n            } else if (action == \"msg_send\") {\n\n                var code = data[\"code\"];\n                var msgTitle = code == 0 ? \"发送成功\" : \"发送失败\";\n                hall.MsgBoxManager.showToast({title : msgTitle});\n\n            } else if (action == \"unread_count\") {\n                var unReadCount = data[\"chat_unread\"];\n                var sysUnread = data[\"sys_unread\"];\n                if (unReadCount /*+ sysUnread*/) {\n                    hall.GlobalFuncs.setInLocalStorage(hall.HAS_MAIL_KEY, true);\n                } else {\n                    hall.GlobalFuncs.setInLocalStorage(hall.HAS_MAIL_KEY, false);\n                }\n            } else if (action == \"list\") {\n                ty.NotificationCenter.trigger(ddz.EventType.RECIVE_MESSAGE_LIST,data);\n\n            }else if (action == \"m_list\") {\n                ddz.gameModel.notifyMailMessage = [];\n                ddz.gameModel.messageCount = 0;\n                var list = data.msgs;\n                if (list.length > 0) {\n                    for (var i = 0; i < list.length; i++){\n                        //      \"index\": 13,\n                        //     \"versions\": \"新版本更新公告\",\n                        //     \"timer\": \"2018.6.6\",\n                        //     \"title\": \"新版本更新公告\",\n                        //     \"content\": \"亲爱的玩家：\\n\\n1、免费领奖励（观看视频）奖励限时翻倍，玩家可领取更多免费福利。\\n2、邀请好友上线钻石奖励3倍活动开启。\\n上述活动持续至6月8日23:59。\",\n                        //     \"sign\": \"富豪斗地主运营团队\",\n                        if (list[i].text.indexOf(\"fuhao\") >= 0) {\n                            var _info = {};\n                            var index_2 = list[i].text.indexOf(\"#\");\n                            if (index_2 > 0) {\n                                _info.versions = list[i].text.slice(list[i].text.indexOf(\"fuhao\") + 5,index_2);\n                                _info.title = list[i].text.slice(list[i].text.indexOf(\"fuhao\") + 5,index_2);\n                            }\n\n                            _info.timer = list[i].time;\n\n                            _info.content = list[i].text;\n                            _info.sign = \"富豪斗地主运营团队\";\n                            _info.msgid = list[i].id;\n                            _info.get = list[i].get;\n                            _info.attachment = list[i].attachment;\n                            if (list[i].get == 0) {\n                                ddz.gameModel.messageCount ++;\n                            }\n                            ddz.gameModel.notifyMailMessage[i] = _info;\n                        }\n                    }\n                    ty.NotificationCenter.trigger(ddz.EventType.UPDATE_COMMON_CONFIG);\n                }\n            }else if (action == \"m_receive\") {\n                // hall.MsgFactory.getSystemMessageInfo();\n                var itemlist = data[\"itemlist\"];\n                var countNum = itemlist.length;\n                var coinNum;\n                var diamondNum;\n                var jipaiqinum;\n                if (countNum > 0) {\n                    for (var i = 0; i < countNum; i++){\n                        if (itemlist[i].itemId == \"user:chip\") {\n                            coinNum = itemlist[i].count;\n                        }else if (itemlist[i].itemId == \"item:1311\") {\n                            diamondNum = itemlist[i].count;\n                        }else if (itemlist[i].itemId == \"item:1363\") {\n                            jipaiqinum = itemlist[i].count;\n                        }\n                    }\n                }\n            }\n        }\n    },\n\n    onComplain: function(argument) {\n        var result = argument;\n        var error = result[\"error\"];\n        var str;\n        if (error) {\n            str = error[\"info\"];\n        } else {\n            var data = result[\"result\"][\"success\"];\n            str = data[\"info\"];\n        }\n        hall.MsgBoxManager.showToast({title : str});\n    },\n\n\n    //返回商店信息\n    onStoreInfo: function(argument) {\n        if (typeof(argument) != 'undefined' && typeof(argument[\"result\"]) != 'undefined') {\n            hall.gameWorld.parseMatchStore(argument[\"result\"]);\n            ty.NotificationCenter.trigger(ddz.EventType.STORE_INFO_UPDATE);\n        }\n    },\n\n\n    //发送quickstart成功后，返回的信息\n    onClassicPopwnd: function(argument) {\n        hall.LOGD(this._TAG, \"onClassicPopwnd receivemsg-------------------------\");\n        ty.NotificationCenter.trigger(ddz.EventType.UPDATE_POP_WINDOW, argument);\n    },\n\n    onStore: function(argument) {\n        var data = argument[0][\"result\"];\n        if (typeof(data) != 'undefined') {\n            var action = data[\"action\"];\n            var code = data[\"code\"];\n            if (action == \"jewel_give\") {\n                if (code == 0) {\n                    // h5.ToastLayer.create(\"已发出赠送请求\");\n                } else {\n                    var info = data[\"info\"];\n                    // h5.CommonWindow.createSimple(info);\n                }\n            }\n        }\n    },\n\n    onCustomTable: function(params) {\n        var data = params['result'];\n        if (data) {\n            var action = data[\"action\"];\n            if (action == \"game_data\") {\n                // hall.CustomRoomManager.parsePersonalData(data);\n                ty.NotificationCenter.trigger(ddz.EventType.MSG_CUSTOMTABLE_GAMEDATA, data);\n            } else if (action == \"fight_data\") {\n                // hall.CustomRoomManager.parseFightData(data);\n                ty.NotificationCenter.trigger(ddz.EventType.MSG_CUSTOMTABLE_FIGHTDATA, data);\n            }\n        }\n    },\n\n    onRoomOnlineInfo : function (value) {\n        //这里没有应用\n    }\n\n};\n\n//模块启动\nhall.hallNetWorkCenter.boot();"]}