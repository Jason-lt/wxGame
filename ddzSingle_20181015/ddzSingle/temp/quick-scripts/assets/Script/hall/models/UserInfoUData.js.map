{"version":3,"sources":["UserInfoUData.js"],"names":["hall","UserInfoUData","cc","Class","ctor","_TAG","m_snsId","m_name","m_idcardno","m_truename","m_snsinfo","m_payCount","m_detect_phonenumber","m_vip","m_vipInfo","m_sex","m_source","m_state","m_isbind","m_phonenumber","m_purl","m_isBeauty","m_address","m_pdevid","m_chip","m_coin","m_diamond","m_jewel","m_couponCount","m_exchangedCoupon","diamondInfo","diamondCount","jiPaiQiCount","m_dayang","m_email","m_mdevid","m_set_name_sum","m_youkuvip","m_verified","m_bindMobil","m_wxSubscribe","LOGD","parse","json","JSON","stringify","snsinfo","snsobj","sys","os","OS_ANDROID","jsb","reflection","callStaticMethod","error","bindMobile","phonenumber","ty","NotificationCenter","trigger","EventType","UPDATE_UER_INFO","ME","ddz","GlobalFuncs","upDateRankDataChip"],"mappings":";;;;;;AAAA;AACA;AACAA,KAAKC,aAAL,GAAqBC,GAAGC,KAAH,CAAS;;AAE1BC,UAAM,gBAAW;;AAEb,aAAKC,IAAL,GAAY,oBAAZ;;AAEA,aAAKC,OAAL,GAAe,EAAf,CAJa,CAIM;AACnB,aAAKC,MAAL,GAAc,EAAd,CALa,CAKK;AAClB,aAAKC,UAAL,GAAkB,EAAlB,CANa,CAMS;AACtB,aAAKC,UAAL,GAAkB,EAAlB,CAPa,CAOS;AACtB,aAAKC,SAAL,GAAiB,EAAjB;AACA,aAAKC,UAAL,GAAkB,CAAlB;AACA,aAAKC,oBAAL,GAA4B,EAA5B;AACA,aAAKC,KAAL,GAAa,CAAb,CAXa,CAWG;AAChB,aAAKC,SAAL,GAAiB,EAAC,SAAQ,CAAT,EAAjB;AACA,aAAKC,KAAL,GAAa,CAAb,CAba,CAaG;AAChB,aAAKC,QAAL,GAAgB,EAAhB;AACA,aAAKC,OAAL,GAAe,CAAf;AACA,aAAKC,QAAL,GAAgB,CAAhB;AACA,aAAKC,aAAL,GAAqB,EAArB,CAjBa,CAiBY;AACzB,aAAKC,MAAL,GAAc,EAAd,CAlBa,CAkBK;AAClB,aAAKC,UAAL,GAAkB,KAAlB;AACA,aAAKC,SAAL,GAAiB,EAAjB,CApBa,CAoBQ;AACrB,aAAKC,QAAL,GAAgB,EAAhB;AACA,aAAKC,MAAL,GAAc,CAAd,CAtBa,CAsBI;AACjB,aAAKC,MAAL,GAAc,CAAd,CAvBa,CAuBI;AACjB,aAAKC,SAAL,GAAiB,CAAjB,CAxBa,CAwBO;AACpB,aAAKC,OAAL,GAAe,CAAf,CAzBa,CAyBK;AAClB,aAAKC,aAAL,GAAqB,CAArB;AACA,aAAKC,iBAAL,GAAyB,CAAzB;AACA,aAAKC,WAAL,GAAmB,EAAnB;AACA,aAAKC,YAAL,GAAoB,CAApB;AACA,aAAKC,YAAL,GAAoB,CAApB;AACA,aAAKC,QAAL,GAAgB,CAAhB,CA/Ba,CA+BM;AACnB,aAAKC,OAAL,GAAe,EAAf,CAhCa,CAgCM;AACnB,aAAKC,QAAL,GAAgB,EAAhB;AACA,aAAKC,cAAL,GAAsB,CAAC,CAAvB,CAlCa,CAkCa;AAC1B,aAAKC,UAAL,GAAkB,KAAlB;AACA,aAAKC,UAAL,GAAkB,KAAlB;AACA,aAAKC,WAAL,GAAmB,EAAnB;AACA,aAAKC,aAAL,GAAqB,CAArB,CAtCa,CAsCW;;AAExBxC,aAAKyC,IAAL,CAAU,KAAKpC,IAAf,EAAqB,SAArB;AACH,KA3CyB;;AA6C1BqC,WAAO,eAASC,IAAT,EAAe;AAClB3C,aAAKyC,IAAL,CAAU,KAAKpC,IAAf,EAAqB,+BAA+BuC,KAAKC,SAAL,CAAeF,IAAf,CAApD;;AAEA,aAAKrC,OAAL,GAAeqC,KAAK,OAAL,CAAf;AACA,aAAKpC,MAAL,GAAcoC,KAAK,MAAL,CAAd;AACA,aAAKnC,UAAL,GAAkBmC,KAAK,UAAL,CAAlB;AACA,aAAKlC,UAAL,GAAkBkC,KAAK,UAAL,CAAlB;AACA,aAAKhC,UAAL,GAAkBgC,KAAK,UAAL,CAAlB;AACA,aAAK/B,oBAAL,GAA4B+B,KAAK,oBAAL,CAA5B;AACA,aAAK9B,KAAL,GAAa8B,KAAK,KAAL,CAAb;AACA,aAAK5B,KAAL,GAAa4B,KAAK,KAAL,CAAb;AACA,aAAK3B,QAAL,GAAgB2B,KAAK,QAAL,CAAhB;AACA,aAAK1B,OAAL,GAAe0B,KAAK,OAAL,CAAf;AACA,aAAKzB,QAAL,GAAgByB,KAAK,QAAL,CAAhB;AACA,aAAKhB,OAAL,GAAegB,KAAK,OAAL,CAAf;;AAEA,YAAGA,KAAK,SAAL,EAAgB,OAAhB,IAA2B,CAA9B,EAAgC;AAC5BA,iBAAK,SAAL,EAAgB,OAAhB,IAAyB,CAAzB;AACH;AACD,YAAGA,KAAK,SAAL,EAAgB,OAAhB,IAA2B,CAA9B,EAAgC;AAC5BA,iBAAK,SAAL,EAAgB,OAAhB,IAAyB,CAAzB;AACH;AACD,aAAK7B,SAAL,GAAiB6B,KAAK,SAAL,CAAjB;;AAEA,YAAIG,UAAUH,KAAK,SAAL,CAAd;AACA,aAAKjC,SAAL,GAAiBoC,OAAjB;AACA,YAAIA,OAAJ,EAAa;AACT,gBAAG;AACC9C,qBAAKyC,IAAL,CAAU,MAAV,EAAkBK,OAAlB;AACA,oBAAIC,SAASH,KAAKF,KAAL,CAAWI,OAAX,CAAb;AACA,qBAAKT,UAAL,GAAkB,CAAC,CAACU,OAAO,KAAP,CAApB;AACA,oBAAI7C,GAAG8C,GAAH,CAAOC,EAAP,IAAa/C,GAAG8C,GAAH,CAAOE,UAAxB,EAAmC;AAC/BC,wBAAIC,UAAJ,CAAeC,gBAAf,CAAgC,qCAAhC,EAAuE,mBAAvE,EAA4F,uBAA5F,EAAqHP,OAArH;AACH;AACJ,aAPD,CAOC,OAAMQ,KAAN,EAAY;AACTpD,mBAAGoD,KAAH,CAASA,KAAT;AACH;AACJ;;AAED,YAAIC,aAAaZ,KAAK,YAAL,CAAjB;AACA,YAAIY,cAAc,IAAd,IAAsB,OAAOA,UAAP,IAAsB,WAAhD,EAA6D;AACzD,iBAAKhB,WAAL,GAAmBgB,UAAnB;AACH;;AAED,YAAIC,cAAcb,KAAK,aAAL,CAAlB;AACA,YAAIa,eAAe,IAAf,IAAuB,OAAOA,WAAP,IAAuB,WAAlD,EAA+D;AAC3D,iBAAKrC,aAAL,GAAqBqC,WAArB;AACH;;AAED,aAAKpC,MAAL,GAAcuB,KAAK,MAAL,CAAd;AACA,aAAKtB,UAAL,GAAkBsB,KAAK,UAAL,CAAlB;AACA,YAAI,KAAKvB,MAAL,IAAe,EAAnB,EAAuB;AACnB,iBAAKA,MAAL,GAAc,mDAAd;AACH;AACDpB,aAAKyC,IAAL,CAAU,KAAKpC,IAAf,EAAqB,mBAAmB,KAAKe,MAA7C;;AAEA,aAAKE,SAAL,GAAiBqB,KAAK,SAAL,CAAjB;AACA,aAAKpB,QAAL,GAAgBoB,KAAK,QAAL,CAAhB;AACA,aAAKlB,MAAL,GAAckB,KAAK,MAAL,CAAd;AACA,aAAKnB,MAAL,GAAcmB,KAAK,MAAL,CAAd,CA3DkB,CA2DU;AAC5B,aAAKjB,SAAL,GAAiBiB,KAAK,SAAL,CAAjB;AACA,aAAKf,aAAL,GAAqBe,KAAK,QAAL,CAArB;AACA,aAAKd,iBAAL,GAAyBc,KAAK,iBAAL,CAAzB;AACA,aAAKV,QAAL,GAAgBU,KAAK,QAAL,CAAhB;AACA,aAAKT,OAAL,GAAeS,KAAK,OAAL,CAAf;AACA,aAAKR,QAAL,GAAgBQ,KAAK,QAAL,CAAhB;AACA,aAAKP,cAAL,GAAsBO,KAAK,cAAL,CAAtB;AACA,aAAKH,aAAL,GAAqBG,KAAK,aAAL,CAArB;AACAc,WAAGC,kBAAH,CAAsBC,OAAtB,CAA8BF,GAAGG,SAAH,CAAaC,eAA3C,EAA4D7D,KAAK8D,EAAjE;AACA9D,aAAKyC,IAAL,CAAU,KAAKpC,IAAf,EAAqB,8BAArB;AACA;AACA0D,YAAIC,WAAJ,CAAgBC,kBAAhB,CAAmC,KAAKzC,MAAL,GAAY,EAA/C;AACH;AArHyB,CAAT,CAArB","file":"UserInfoUData.js","sourceRoot":"../../../../../../assets/Script/hall/models","sourcesContent":["//  Create by Eava.wu\n//  玩家信息\nhall.UserInfoUData = cc.Class({\n\n    ctor: function() {\n\n        this._TAG = \"hall.UserInfoUData\";\n\n        this.m_snsId = \"\"; // SNS账户的id\n        this.m_name = \"\"; // 昵称\n        this.m_idcardno = \"\"; // 身份证\n        this.m_truename = \"\"; // 真实姓名\n        this.m_snsinfo = \"\";\n        this.m_payCount = 0;\n        this.m_detect_phonenumber = \"\";\n        this.m_vip = 0; // vip(等级)0-5，0为非vip.\n        this.m_vipInfo = {\"level\":0};\n        this.m_sex = 0; // 性别 male=0,female=1\n        this.m_source = \"\";\n        this.m_state = 0;\n        this.m_isbind = 0;\n        this.m_phonenumber = \"\"; // 电话号码\n        this.m_purl = \"\"; // 头像链接(服务器定义为途游账号的头像url，所以客户端暂不用)\n        this.m_isBeauty = false;\n        this.m_address = \"\"; // 地址\n        this.m_pdevid = {};\n        this.m_chip = 0; // 统一后的金币\n        this.m_coin = 0; // 用户金币数量(这里暂时没有用，用得时gdada里的m_chip)\n        this.m_diamond = 0; //用户钻石数量\n        this.m_jewel = 0; // 用户宝石\n        this.m_couponCount = 0;\n        this.m_exchangedCoupon = 0;\n        this.diamondInfo = {};\n        this.diamondCount = 0;\n        this.jiPaiQiCount = 0;\n        this.m_dayang = 0; // 大洋(add by zj)\n        this.m_email = \"\"; // 邮箱\n        this.m_mdevid = \"\";\n        this.m_set_name_sum = -1; // 用户更改昵称的次数,没有更改过是0，大于0则说明更改过\n        this.m_youkuvip = false;\n        this.m_verified = false;\n        this.m_bindMobil = \"\";\n        this.m_wxSubscribe = 0; //-1或不存在 非微信登录 0 未关注 1 已关注 2 已关注并领取奖励\n\n        hall.LOGD(this._TAG, \"in ctor\");\n    },\n\n    parse: function(json) {\n        hall.LOGD(this._TAG, '=======udata begin========' + JSON.stringify(json));\n\n        this.m_snsId = json['snsId'];\n        this.m_name = json['name'];\n        this.m_idcardno = json['idcardno'];\n        this.m_truename = json['truename'];\n        this.m_payCount = json['payCount'];\n        this.m_detect_phonenumber = json['detect_phonenumber'];\n        this.m_vip = json['vip'];\n        this.m_sex = json['sex'];\n        this.m_source = json['source'];\n        this.m_state = json['state'];\n        this.m_isbind = json['isbind'];\n        this.m_jewel = json['jewel'];\n\n        if(json['vipInfo']['level'] < 0){\n            json['vipInfo']['level']=0;\n        }\n        if(json['vipInfo']['level'] > 9){\n            json['vipInfo']['level']=9;\n        }\n        this.m_vipInfo = json['vipInfo'];\n\n        var snsinfo = json['snsinfo'];\n        this.m_snsinfo = snsinfo;\n        if (snsinfo) {\n            try{\n                hall.LOGD(\"@@@@\", snsinfo);\n                var snsobj = JSON.parse(snsinfo);\n                this.m_youkuvip = !!snsobj[\"vip\"];\n                if (cc.sys.os == cc.sys.OS_ANDROID){\n                    jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"javaOnGotUserInfo\", \"(Ljava/lang/String;)V\", snsinfo);\n                }\n            }catch(error){\n                cc.error(error);\n            }\n        }\n\n        var bindMobile = json['bindMobile'];\n        if (bindMobile != null && typeof(bindMobile) != 'undefined') {\n            this.m_bindMobil = bindMobile;\n        }\n\n        var phonenumber = json['phonenumber'];\n        if (phonenumber != null && typeof(phonenumber) != 'undefined') {\n            this.m_phonenumber = phonenumber;\n        }\n\n        this.m_purl = json['purl'];\n        this.m_isBeauty = json['isBeauty'];\n        if (this.m_purl == \"\") {\n            this.m_purl = \"http://ddz.image.tuyoo.com/avatar/head_360_08.png\";\n        }\n        hall.LOGD(this._TAG, 'UDATA purl is ' + this.m_purl);\n\n        this.m_address = json['address'];\n        this.m_pdevid = json['pdevid'];\n        this.m_coin = json['coin'];\n        this.m_chip = json['chip']; // 合并后的金币\n        this.m_diamond = json['diamond'];\n        this.m_couponCount = json['coupon'];\n        this.m_exchangedCoupon = json['exchangedCoupon'];\n        this.m_dayang = json['dayang'];\n        this.m_email = json['email'];\n        this.m_mdevid = json['mdevid'];\n        this.m_set_name_sum = json[\"set_name_sum\"];\n        this.m_wxSubscribe = json[\"wxSubscribe\"];\n        ty.NotificationCenter.trigger(ty.EventType.UPDATE_UER_INFO, hall.ME);\n        hall.LOGD(this._TAG, '=======udata success========');\n        //this.m_diamond = 1;\n        ddz.GlobalFuncs.upDateRankDataChip(this.m_chip+\"\");\n    }\n});"]}