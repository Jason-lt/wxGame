{"version":3,"sources":["PlayerPanel.js"],"names":["cc","Class","extends","Component","ctor","_TAG","initWithPar","bLeft","bTop","playContrl","index","_bLeft","_bTop","_playController","_userInfo","_playedCards","_leftTime","_index","reset","properties","avatar","Node","lblMsg","Label","lblNum","lblNumBg","Sprite","aniJingDeng","lblTimer","cardNode","waitTimer","chatButton","default","type","Button","onLoad","ty","NotificationCenter","listen","ddz","EventType","SHOW_GAME_WIN_ANI","onShoGameWinAni","REMOVE_TABLE_ANI","onRemoveAni","GAME_HIDE","onGameHide","node","on","onChatButton","_cardBaseScale","removeFromParent","LOGD","clickChatButton","getAvatarCom","getComponent","getIsFriend","getIsGold","dizhuWin","dizhuIndex","_tableState","normalInfo","m_dizhu","myIndex","getMyIndex","widx","aniName","hideAll","active","setChatButtonActive","setLblMsg","stopJingDengAni","isAvtive","start","force","setLblNum","setVisible","clearCards","resetAvatar","setPlayerName","setPrepareVisible","bVisible","scale","cardCom","length","pop","returnCard","GlobalFuncs","getTopIndex","_mySeatIndex","getPreIndex","GetNextIndex","refreshAvatarForeFriend","origin","initData","that","nextCallBack","isDiZhu","to_pos","getEmoPos","showDizhuHatOrigin","showDizhuHat","requestAnimationFrame","refreshCardsNum","refreshAvatarForeFriendOrigin","_topSeatinfo","model","user_info","_leftSeatinfo","_rightSeatinfo","refreshWithUserInfo","slice_name","hall","SliceStringToLength","udataInfo","m_name","url","m_purl","setAvatarUrl","getUserInfo","data","showJiaodz","call","name","audioName","getIsMale","grab","_tableInfo","config","m_grab","_mDizhuCalled","AudioHelper","playEffect","EffectPath_mp3","showJiaodzOnlyNumber","showCards","cardNums","bDizhu","_addCardsIntoContainer","widthOutAudioEffect","seat_info","leftNum","m_card","changeShowLeftNum","playJingDengAni","path","sexStr","animationCom","Animation","ani","getAnimationState","play","bSort","withAni","len","breakline","PLAYED_CARDS_MAXINLINE","card","i","createNewCard","showMask","push","sort","SortCardFunc","container","cardSize","CARD_BIG_SIZE","splitWidth","px","py","startPosX","width","canShowTag","Math","floor","setPosition","parent","zIndex","showTag","setDiZhuTag","showDropEffect","val","isValid","string","e","LOGE","setClockVisible","time","showTimer","hideTimer","valTime","unscheduleAllCallbacks","schedule","m_sex","Enums","PlayerSexEnum","SEX_MALE","playCards","MSG_TEXT_BUCHU","filename","card_types","RobotGlobal","judgeType","playAnimationSoundByCardType","playTopCards","onDestroy","ignoreScope"],"mappings":"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","file":"PlayerPanel.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["/**\n * 玩家面板\n */\ncc.Class({\n    extends: cc.Component,\n\n    ctor:function () {\n        this._TAG = \"h5.playPlayerNode\";\n    },\n\n    initWithPar:function (bLeft, bTop, playContrl, index) {\n        this._bLeft = bLeft;\n        this._bTop = bTop;\n        this._playController = playContrl;\n        this._userInfo = null;\n        this._playedCards = [];\n        this._leftTime = -1;\n        this._index = index;\n        this.reset();\n    },\n\n    properties: {\n        avatar : cc.Node,\n        lblMsg : cc.Label,\n        lblNum : cc.Label,\n        lblNumBg : cc.Sprite,\n        aniJingDeng : cc.Node,\n        lblTimer : cc.Label,\n        cardNode : cc.Node,\n        waitTimer : cc.Node,\n        chatButton : {      // 互动表情按钮\n            default : null,\n            type : cc.Button\n        }\n\n    },\n\n    onLoad: function() {\n        ty.NotificationCenter.listen(ddz.EventType.SHOW_GAME_WIN_ANI, this.onShoGameWinAni, this);\n        ty.NotificationCenter.listen(ddz.EventType.REMOVE_TABLE_ANI, this.onRemoveAni, this);\n        ty.NotificationCenter.listen(ddz.EventType.GAME_HIDE, this.onGameHide, this);\n\n        this.chatButton.node.on(\"click\" , this.onChatButton, this);\n        this._cardBaseScale = 0.52;\n        // this.hideAll();\n    },\n\n    onRemoveAni:function () {\n        this.aniJingDeng.removeFromParent();\n    },\n\n    onGameHide:function () {\n        // this.setClockVisible(false);\n        // this.stopJingDengAni();\n        // this.clearCards();\n    },\n    onChatButton: function() {\n        ddz.LOGD(null, \"onChatButton index = \" + this._index);\n        if (this._userInfo) {\n            this._playController.clickChatButton(this._index);\n        }\n    },\n    getAvatarCom : function () {\n        return this.avatar.getComponent('Avatar');\n    },\n\n    getIsFriend:function () {\n        return false;\n    },\n    getIsGold:function () {\n        return true;\n    },\n\n    onShoGameWinAni:function (dizhuWin) {\n        var dizhuIndex = this._playController._tableState.normalInfo.m_dizhu;\n        var myIndex = this.getMyIndex();\n\n        var widx = 0;\n\n        var aniName;\n        if (dizhuWin){\n            if (myIndex == dizhuIndex){\n                aniName = \"shengli\";\n            }\n            else{\n                aniName = \"shibai\";\n                widx = 1;\n            }\n        }\n        else{\n            if (myIndex == dizhuIndex){\n                aniName = \"shibai\";\n                widx = 1;\n            }\n            else{\n                aniName = \"shengli\";\n            }\n        }\n\n    },\n\n    hideAll: function () {\n        this.avatar.active = false;\n        this.setChatButtonActive(false);\n        this.waitTimer.active = false;\n\n        this.setLblMsg(\" \");\n        this.stopJingDengAni();\n\n    },\n\n    setChatButtonActive: function(isAvtive) {\n        this.chatButton.node.active = isAvtive;\n    },\n\n    start: function() {\n\n    },\n\n    // update (dt) {},\n\n    //恢复到没有玩家的状态\n    reset: function(force) {\n\n        this.hideAll();\n\n        if (force || !this.getIsFriend()){\n            this._userInfo = null;  //好友场,不清此数据\n        }\n\n        this._leftTime = -1;\n        this.setLblNum(\"\");\n        this.lblNumBg.setVisible(false);\n        this.stopJingDengAni();\n        this.clearCards();\n        if (force){\n            if (this.getIsFriend()){\n                //好友桌,需要把原来头像显示回来\n                this.avatar.active = true;\n                // var myAvatarM = this.avatar.getComponent(\"Avatar\");\n                // myAvatarM.hideDizhuHat();\n                // this.setChatButtonActive(true);\n            }\n            this.getAvatarCom().resetAvatar();\n            this.getAvatarCom().setPlayerName(\"\");\n        }\n        else{\n            if (this.getIsFriend()){\n                //好友桌,需要把原来头像显示回来\n                this.avatar.active = true;\n                // var myAvatarM = this.avatar.getComponent(\"Avatar\");\n                // myAvatarM.hideDizhuHat();\n                // this.setChatButtonActive(true);\n            }\n            else{\n                this.getAvatarCom().resetAvatar();\n                this.getAvatarCom().setPlayerName(\"\");\n            }\n        }\n    },\n\n    //设置“准备”是否显示，和图片\n    setPrepareVisible: function(bVisible) {\n        this.setLblMsg(bVisible ? \"已准备\" : \" \");\n    },\n\n    /**\n     * 清空所有手牌\n     */\n    clearCards: function() {\n        this.cardNode.scale = 0.52;\n        //手牌回池\n        var cardCom;\n        while (this._playedCards.length > 0){\n            cardCom = this._playedCards.pop();\n            this._playController.returnCard(cardCom.node);\n        }\n    },\n\n    getMyIndex:function () {\n        var myIndex;\n        if (this._bTop) {\n            myIndex = ddz.GlobalFuncs.getTopIndex(this._playController._mySeatIndex);\n        } else {\n            if (this._bLeft){\n                myIndex = ddz.GlobalFuncs.getPreIndex(this._playController._mySeatIndex);\n            }\n            else{\n                myIndex = ddz.GlobalFuncs.GetNextIndex(this._playController._mySeatIndex);\n            }\n        }\n        return myIndex;\n    },\n    \n    /**\n     * 转换动画形像\n     * @param origin 好友桌\n     */\n    refreshAvatarForeFriend : function (origin) {\n        this.initData();\n\n        this.avatar.active = true;\n\n        var dizhuIndex = this._playController._tableState.normalInfo.m_dizhu;\n        var myIndex = this.getMyIndex();\n\n        var that = this;\n        var nextCallBack = function () {\n            var isDiZhu = myIndex == dizhuIndex;\n            if(isDiZhu){\n                var to_pos =  that._playController.getEmoPos(myIndex);\n                if(origin){\n                    that._playController.showDizhuHatOrigin(to_pos);\n                }else {\n                    that._playController.showDizhuHat(to_pos);\n                }\n            }\n        };\n        requestAnimationFrame(nextCallBack);\n        this.refreshCardsNum();\n\n        // var isMale = this.getIsMale();\n        // var myAvatarM = this.avatar.getComponent(\"Avatar\");\n\n        // else {\n        //     myAvatarM.hideDizhuHat();\n        // }\n\n        //确定角色后,牌的数量也就确定了,这个时候,要刷新手牌数量\n\n    },\n    /**\n     * 转换动画形像\n     */\n    refreshAvatarForeFriendOrigin : function () {\n        this.avatar.active = true;\n        var dizhuIndex = this._playController._tableState.normalInfo.m_dizhu;\n        var that = this;\n        var nextCallBack = function () {\n            var myIndex = that.getMyIndex();\n            var isDiZhu = myIndex == dizhuIndex;\n            if(isDiZhu){\n                var to_pos =  that._playController.getEmoPos(myIndex);\n                that._playController.showDizhuHatOrigin(to_pos);\n            }\n        };\n        requestAnimationFrame(nextCallBack);\n    },\n\n    initData:function () {\n        if (this._userInfo){\n            return;\n        }\n        if (this._bTop) {\n            this._userInfo = this._playController._topSeatinfo.model.user_info;\n        } else {\n            this._userInfo = this._bLeft ? this._playController._leftSeatinfo.model.user_info : this._playController._rightSeatinfo.model.user_info;\n        }\n    },\n\n    refreshWithUserInfo: function() {\n        //调用此方法时可能刷新了user_info，需要去取出最新的\n\n        this.hideAll();\n        this.initData();\n\n        if (!this._userInfo){\n            //没有用户信息,就不再执行,因为有可能还没开桌,玩家就走了\n            return;\n        }\n\n        this.avatar.active = true; //显示头像\n\n        if (this.getIsFriend()){\n            //好友桌,进来后,互动表情就可以点击\n            // this.setChatButtonActive(true);\n        }\n        var slice_name = hall.GlobalFuncs.SliceStringToLength(this._userInfo.udataInfo.m_name, 10); //最多显示10个字符\n        this.getAvatarCom().setPlayerName(slice_name);\n\n        var url = this._userInfo.udataInfo.m_purl;\n        if (url.length > 0) {\n            this.getAvatarCom().setAvatarUrl(url);\n        }\n    },\n    \n    getUserInfo:function(){\n        var data = {};\n        data.url = this._userInfo.udataInfo.m_purl;\n        \n    },\n\n    showJiaodz: function(call) {\n        var name;\n        var audioName = this.getIsMale() ? \"man_\" : \"female_\";\n        var grab = this._playController._tableInfo.config.m_grab;\n        if (grab == 1) {\n            if (this._playController._mDizhuCalled) { //抢地主\n                name = call > 0 ? \"抢地主\" : \"不抢\";\n                audioName += call > 0 ? \"rob_dizhu\" : \"not_rob\";\n            } else { //叫地主\n                name = call > 0 ? \"叫地主\" : \"不叫\";\n                audioName += call > 0 ? \"call_dizhu\" : \"not_call\";\n            }\n        } else {\n            name = call > 0 ? call + \"分\" : \"不叫\";\n            audioName += call > 0 ? call + \"_point\" : \"not_call\";\n        }\n        this.setLblMsg(name);\n        ddz.LOGD(this._TAG, 'audioName=' + audioName);\n\n        ddz.AudioHelper.playEffect(ddz.EffectPath_mp3[audioName], false);\n    },\n    showJiaodzOnlyNumber: function(call) {\n        var name;\n        var grab = this._playController._tableInfo.config.m_grab;\n        if (grab == 1) {\n            //抢地主~~~\n            // if (this._playController._mDizhuCalled) { //抢地主\n            //     name = call > 0 ? \"抢地主\" : \"不抢\";\n            // } else { //叫地主\n            //     name = call > 0 ? \"叫地主\" : \"不叫\";\n            // }\n        } else {\n            if(call == -1){\n                return;\n            }\n            name = call > 0 ? call + \"分\" : \"不叫\";\n        }\n        this.setLblMsg(name);\n    },\n\n    showCards: function(cardNums, bDizhu) {\n        if (cardNums.length > 0){\n            //当手里还有牌时,明牌\n            this._addCardsIntoContainer(cardNums, true, bDizhu);\n        }\n    },\n\n    /**\n     * 刷新剩余牌数\n     * @param widthOutAudioEffect 是否在刷新剩余牌数的时候,不播放音效\n     */\n    refreshCardsNum: function(widthOutAudioEffect) {\n        var seat_info;\n        if (this._bTop) {\n            seat_info = this._playController._topSeatinfo;\n        } else {\n            seat_info = this._bLeft ? this._playController._leftSeatinfo : this._playController._rightSeatinfo;\n        }\n        var leftNum = seat_info.model.m_card.length;\n        this.changeShowLeftNum(leftNum);\n\n        if (leftNum < 3 && !this.aniJingDeng.active){\n            //显示警灯动画\n            this.playJingDengAni();\n        }\n\n        if (!widthOutAudioEffect){\n            var path;\n            var sexStr = this.getIsMale() ? \"man_\" : \"female_\";\n            if (leftNum == 2) {\n                path = sexStr + \"I_got_left_two_cards\";\n            } else if (leftNum == 1) {\n                path = sexStr + \"I_got_left_one_cards\";\n            }\n\n            if (path){\n                ddz.LOGD(null, 'playEffect=' + path);\n                ddz.AudioHelper.playEffect(ddz.EffectPath_mp3[path], false);\n            }\n        }\n    },\n\n    changeShowLeftNum:function (leftNum) {\n        this.setLblNum(\"\" + leftNum);\n        this.lblNumBg.setVisible(true);\n    },\n\n    playJingDengAni:function () {\n        //显示警灯动画\n        this.aniJingDeng.active = true;\n        var animationCom = this.aniJingDeng.getComponent(cc.Animation);\n        var ani = animationCom.getAnimationState('jingdeng_anim');\n        ani.play();\n    },\n\n    stopJingDengAni:function () {\n        this.aniJingDeng.active = false;\n    },\n\n    _addCardsIntoContainer: function(cardNums, bSort, bDizhu, withAni) { //bSort表明牌是否需要排序，出牌时不需要，展示牌时需要\n\n        this.clearCards();\n\n        var len = cardNums.length;\n        var breakline = ddz.PLAYED_CARDS_MAXINLINE;\n        // var cards = [];\n        var card, cardCom;\n        for (var i = 0; i < len; i++) {\n            card = this._playController.createNewCard(cardNums[i]);\n            cardCom = card.getComponent('Card');\n            cardCom.showMask(false);\n            this._playedCards.push(cardCom);\n        }\n\n        if (bSort) {\n            this._playedCards.sort(ddz.GlobalFuncs.SortCardFunc);\n        }\n\n        var container = this.cardNode;\n\n\n        var cardSize = ddz.CARD_BIG_SIZE;\n        var splitWidth = 60;\n\n        var px, py;\n        //这两个变量是为了计算右边玩家的手牌坐标用的\n        var startPosX = 0;\n        if (!this._bLeft){\n            //右侧玩家,上家,这个值是负值,需要计算\n            startPosX = ((len < breakline ? len : breakline) - 1) * splitWidth + cardSize.width;\n            startPosX += 20;\n        }\n\n        var canShowTag;\n        for (var index = 0; index < len; index++) {\n            cardCom = this._playedCards[index];\n            card = cardCom.node;\n\n            px = (index % breakline) * splitWidth - startPosX;\n            py = -Math.floor(index/breakline) * 56;\n\n            card.setPosition(px, py);\n            card.parent = container;\n            card.zIndex = index;\n\n            canShowTag = ddz.GlobalFuncs.canShowTag(breakline, len, index);\n\n            cardCom.showTag(canShowTag);\n            cardCom.setDiZhuTag(bDizhu && canShowTag);\n        }\n\n        if (withAni){\n            ddz.GlobalFuncs.showDropEffect(this._cardBaseScale, container);\n        }\n    },\n\n    setLblMsg:function (val) {\n        if (!cc.isValid(this.lblMsg)) return;\n        if (val){\n            this.lblMsg.node.active = true;\n            this.lblMsg.string = val;\n        }\n        else{\n            this.lblMsg.node.active = false;\n        }\n    },\n\n\n    setLblNum:function (val) {\n        if (!cc.isValid(this.lblNum)) return;\n        if (val){\n            this.lblNum.node.active = true;\n            try{\n                this.lblNum.string = val;\n            }\n            catch (e){\n                hall.LOGE(\"setLblNum error:\", val);\n            }\n        }\n        else{\n            this.lblNum.node.active = false;\n        }\n    },\n\n    //设置clock的显示状态和时间\n    setClockVisible: function(bVisible, time) {\n\n        this.clearCards();\n        this.setLblMsg(\" \");\n        if (bVisible){\n            this.showTimer(time);\n        }\n        else{\n            this.hideTimer();\n        }\n    },\n\n    /**\n     * 显示时钟\n     * @param valTime 秒\n     */\n    showTimer:function (valTime) {\n        if (!cc.isValid(this.lblTimer)) return;\n        this._leftTime = valTime;\n\n        this.waitTimer.active = true;\n        this.lblTimer.string = this._leftTime ? this._leftTime +\"\" : \" \";\n        this.unscheduleAllCallbacks();\n\n        this.schedule(function () {\n            this._leftTime--;\n            if (this._leftTime < 0){\n                this.hideTimer();\n                return;\n            }else if (this._leftTime == 0){\n                //好友桌倒计时到0,不隐藏\n                if (this.getIsFriend()){\n                    this.lblTimer.string = \"0\";\n                    this.unscheduleAllCallbacks();\n                    return;\n                }\n            }\n            this.lblTimer.string = this._leftTime ? this._leftTime +\"\" : \" \";\n        }, 1, this);\n    },\n\n    /**\n     * 隐藏时钟\n     */\n    hideTimer:function () {\n        this.unscheduleAllCallbacks();\n        this.waitTimer.active = false;\n    },\n\n    getIsMale:function () {\n        //有问题,容错\n        if(this._userInfo && this._userInfo.udataInfo ){\n            return this._userInfo.udataInfo.m_sex == ddz.Enums.PlayerSexEnum.SEX_MALE;\n        }\n        return true;\n    },\n\n    /**\n     * 出牌\n     * @param cardNums 牌数组\n     * @param bDizhu 是否为地主\n     */\n    playCards: function(cardNums, bDizhu) {\n        ddz.LOGD(this._TAG, \"playCards\");\n        var len = cardNums.length;\n        if (len <= 0) {\n            this.setLblMsg(ddz.MSG_TEXT_BUCHU);\n            var filename = this.getIsMale() ? \"man_no\" : \"female_no\";\n            ddz.LOGD(this._TAG, 'playEffect=' + filename);\n            ddz.AudioHelper.playEffect(ddz.EffectPath_mp3[filename], false);\n            return;\n        }\n\n        var card_types = ddz.RobotGlobal.judgeType(cardNums, false);\n\n        this._playController.playAnimationSoundByCardType(card_types[0], this.getIsMale());\n        this.setLblMsg(\" \");\n\n        this._addCardsIntoContainer(cardNums, false, bDizhu, true);\n\n        this.refreshCardsNum();\n    },\n\n    /**\n     * 恢复上手牌,用于断线重连的情况\n     * @param cardNums 要发的上手牌\n     * @param bDizhu 是否为地主\n     */\n    playTopCards:function (cardNums, bDizhu) {\n        ddz.LOGD(this._TAG, \"playTopCards\");\n        this.setLblMsg(\" \");\n        this._addCardsIntoContainer(cardNums, false, bDizhu);\n        this.refreshCardsNum(true);\n    },\n\n    onDestroy:function () {\n        this._playController = null;\n        this._userInfo = null;\n        this._playedCards = null;\n        ty.NotificationCenter.ignoreScope(this);\n\n        this.hideTimer();\n    }\n});"]}