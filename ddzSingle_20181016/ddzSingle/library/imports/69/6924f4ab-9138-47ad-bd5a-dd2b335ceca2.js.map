{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/component/assets/Script/ComponentScript/component/SingleReward.js"],"names":["cc","Class","extends","Component","ctor","_TAG","properties","rewardSpr","Sprite","rewardDes","RichText","onLoad","setRewardInfo","rewardInfo","rewardType","icon","setRewardDes","count","ddz","Share","shareKeywordReplace","arenaWinRewardChip","arenaWinRewardMoney","setRewardSpr","iconPath","type","num","string","url","spritePic","self","loader","loadRes","SpriteAtlas","err","atlas","frame","getSpriteFrame","spriteFrame","ty","SystemInfo","getImageWithURL"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,UAAO,gBAAY;AACf,aAAKC,IAAL,GAAY,cAAZ;AACH,KAJI;;AAMLC,gBAAY;AACRC,mBAAYP,GAAGQ,MADP;AAERC,mBAAYT,GAAGU;AAFP,KANP;;AAYLC,YAAQ,kBAAW;AACf;AACA;AACA;AACH,KAhBI;;AAkBL;;;;;;;;AAQAC,mBAAe,uBAASC,UAAT,EAAqB;AAChC,aAAKC,UAAL,GAAkB,MAAlB;AACA,YAAGD,WAAWE,IAAX,IAAmB,WAAtB,EAAmC;AAC/B,iBAAKD,UAAL,GAAkB,MAAlB;AACA,iBAAKE,YAAL,CAAkB,MAAlB,EAA0BH,WAAWI,KAArC;AACAC,gBAAIC,KAAJ,CAAUC,mBAAV,CAA8BC,kBAA9B,GAAmDR,WAAWI,KAA9D;AACH,SAJD,MAIO,IAAGJ,WAAWE,IAAX,GAAkB,aAArB,EAAmC;AACtC,iBAAKD,UAAL,GAAkB,QAAlB;AACA,iBAAKE,YAAL,CAAkB,QAAlB,EAA6BH,WAAWI,KAAX,GAAiB,GAAlB,GAAyB,GAArD;AACAC,gBAAIC,KAAJ,CAAUC,mBAAV,CAA8BE,mBAA9B,GAAoDT,WAAWI,KAAX,GAAiB,GAArE;AACH;AACD,aAAKM,YAAL,CAAkB,KAAKT,UAAvB,EAAmCD,WAAWW,QAA9C;AACH,KAtCI;;AAwCL;;;;AAIAR,kBAAe,sBAAUS,IAAV,EAAgBC,GAAhB,EAAqB;AAChC,YAAGD,QAAQ,MAAX,EAAmB;AACf,iBAAKhB,SAAL,CAAekB,MAAf,GAAwB,mEAAmED,GAAnE,GAAyE,UAAjG;AACH,SAFD,MAEO;AACH,iBAAKjB,SAAL,CAAekB,MAAf,GAAwB,oBAAoBD,GAApB,GAA0B,UAAlD;AACH;AACJ,KAlDI;;AAoDLH,kBAAe,sBAASE,IAAT,EAAeG,GAAf,EAAoB;AAC/B,YAAIC,YAAY,EAAhB;AACA,YAAIC,OAAO,IAAX;AACA,YAAGL,QAAQ,MAAX,EAAmB;AACfI,wBAAY,yBAAZ;AACA7B,eAAG+B,MAAH,CAAUC,OAAV,CAAkB,gBAAlB,EAAoChC,GAAGiC,WAAvC,EAAoD,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AACtE,oBAAIC,QAAQD,MAAME,cAAN,CAAqBR,SAArB,CAAZ;AACAC,qBAAKvB,SAAL,CAAe+B,WAAf,GAA6BF,KAA7B;AACH,aAHD;AAIH,SAND,MAMO,IAAGX,QAAQ,QAAX,EAAqB;AACxBI,wBAAY,+BAAZ;AACA7B,eAAG+B,MAAH,CAAUC,OAAV,CAAkB,gBAAlB,EAAoChC,GAAGiC,WAAvC,EAAoD,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AACtE,oBAAIC,QAAQD,MAAME,cAAN,CAAqBR,SAArB,CAAZ;AACAC,qBAAKvB,SAAL,CAAe+B,WAAf,GAA6BF,KAA7B;AACH,aAHD;AAIH,SANM,MAMA,IAAGR,GAAH,EAAQ;AACXW,eAAGC,UAAH,CAAcC,eAAd,CAA8Bb,GAA9B,EAAkC,KAAKrB,SAAvC;AACH;AACJ;AAtEI,CAAT","file":"SingleReward.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n    ctor : function () {\n        this._TAG = \"singleReward\";\n    },\n\n    properties: {\n        rewardSpr : cc.Sprite,\n        rewardDes : cc.RichText,\n    },\n\n\n    onLoad :function() {\n        // this.setAvatarUrl(\"http://ddz.image.tuyoo.com/avatar/head_female_2.png\");\n        // this.setPlayerName(\"我是一只小小鸟\");\n        // this.hideNameDisplay();\n    },\n\n    /**\n     {\n         \"icon\": \"user:chip\",\n         \"name\": \"\\金\\币\",\n         \"count\": 2000,\n         \"iconPath\": \"http://ddz.dl.tuyoo.com/cdn37/hall/pdt/imgs/goods_t300k_2.png\"\n     }\n     */\n    setRewardInfo: function(rewardInfo) {\n        this.rewardType = 'coin';\n        if(rewardInfo.icon == 'user:chip') {\n            this.rewardType = 'coin';\n            this.setRewardDes('coin', rewardInfo.count);\n            ddz.Share.shareKeywordReplace.arenaWinRewardChip = rewardInfo.count;\n        } else if(rewardInfo.icon = 'user:coupon'){\n            this.rewardType = 'coupon';\n            this.setRewardDes('coupon', (rewardInfo.count/100) + '元');\n            ddz.Share.shareKeywordReplace.arenaWinRewardMoney = rewardInfo.count/100;\n        }\n        this.setRewardSpr(this.rewardType, rewardInfo.iconPath);\n    },\n\n    /**\n     * 设置玩家名称\n     * @param val\n     */\n    setRewardDes : function (type, num) {\n        if(type == 'coin') {\n            this.rewardDes.string = \"<img src='ddz_coin_white' height=30 width=30/><color=#ffffff> \" + num + \"</color>\";\n        } else {\n            this.rewardDes.string = \"<color=#ffffff>\" + num + \"</color>\";\n        }\n    },\n\n    setRewardSpr : function(type, url) {\n        var spritePic = '';\n        var self = this;\n        if(type == 'coin') {\n            spritePic = 'ddz_mall_coin_icon_mall';\n            cc.loader.loadRes(\"table/ddz_mall\", cc.SpriteAtlas, function (err, atlas) {\n                var frame = atlas.getSpriteFrame(spritePic);\n                self.rewardSpr.spriteFrame = frame;\n            });\n        } else if(type == 'coupon') {\n            spritePic = 'ddz_mall_redpackage_icon_mall';\n            cc.loader.loadRes(\"table/ddz_mall\", cc.SpriteAtlas, function (err, atlas) {\n                var frame = atlas.getSpriteFrame(spritePic);\n                self.rewardSpr.spriteFrame = frame;\n            });\n        } else if(url) {\n            ty.SystemInfo.getImageWithURL(url,this.rewardSpr);\n        }\n    }\n});\n"]}