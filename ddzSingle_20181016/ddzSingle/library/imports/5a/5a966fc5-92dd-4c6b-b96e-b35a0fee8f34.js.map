{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/component/assets/Script/ComponentScript/component/PlayerPanel.js"],"names":["cc","Class","extends","Component","ctor","_TAG","initWithPar","bLeft","bTop","playContrl","index","_bLeft","_bTop","_playController","_userInfo","_playedCards","_leftTime","_index","reset","properties","head","Node","boor","landlord","lblMsg","Label","lblNum","tipsSpr","Sprite","lblNumBg","aniJingDeng","lblTimer","cardNode","waitTimer","chatButton","default","type","Button","lordSpriteFrame","SpriteFrame","onLoad","ty","NotificationCenter","listen","ddz","EventType","SHOW_GAME_WIN_ANI","onShoGameWinAni","REMOVE_TABLE_ANI","onRemoveAni","GAME_HIDE","onGameHide","node","on","onChatButton","_cardBaseScale","removeFromParent","LOGD","getIsFriend","getIsGold","dizhuWin","dizhuIndex","m_dizhu","myIndex","getMyIndex","widx","aniName","hideAll","setChatButtonActive","active","setTipsSpr","stopJingDengAni","isAvtive","start","force","setLblNum","setVisible","clearCards","setPrepareVisible","bVisible","setDizhuHead","scale","cardCom","length","pop","returnCard","GlobalFuncs","getTopIndex","_mySeatIndex","getPreIndex","GetNextIndex","refreshAvatarForeFriend","origin","initData","AIRobots","dizhuPos","that","nextCallBack","isDiZhu","requestAnimationFrame","refreshCardsNum","refreshAvatarForeFriendOrigin","_topSeatinfo","model","user_info","_leftSeatinfo","_rightSeatinfo","refreshWithUserInfo","getUserInfo","data","url","udataInfo","m_purl","showJiaodz","call","name","audioName","getIsMale","grab","_tableInfo","config","m_grab","_mDizhuCalled","AudioHelper","playEffect","EffectPath_mp3","showJiaodzOnlyNumber","setLblMsg","showCards","cardNums","bDizhu","_addCardsIntoContainer","widthOutAudioEffect","seat_info","leftNum","m_card","changeShowLeftNum","playJingDengAni","path","sexStr","animationCom","getComponent","Animation","ani","getAnimationState","play","bSort","withAni","len","breakline","PLAYED_CARDS_MAXINLINE","card","i","createNewCard","showMask","push","sort","SortCardFunc","container","cardSize","CARD_BIG_SIZE","splitWidth","px","py","startPosX","width","canShowTag","Math","floor","setPosition","parent","zIndex","showTag","setDiZhuTag","showDropEffect","val","isValid","string","state","spriteFrame","e","hall","LOGE","setClockVisible","time","showTimer","hideTimer","valTime","unscheduleAllCallbacks","schedule","m_sex","Enums","PlayerSexEnum","SEX_MALE","playCards","filename","card_types","RobotGlobal","judgeType","playAnimationSoundByCardType","playTopCards","onDestroy","ignoreScope"],"mappings":"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","file":"PlayerPanel.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["/**\n * 玩家面板\n */\ncc.Class({\n    extends: cc.Component,\n\n    ctor:function () {\n        this._TAG = \"h5.playPlayerNode\";\n    },\n\n    initWithPar:function (bLeft, bTop, playContrl, index) {\n        this._bLeft = bLeft;\n        this._bTop = bTop;\n        this._playController = playContrl;\n        this._userInfo = null;\n        this._playedCards = [];\n        this._leftTime = -1;\n        this._index = index;\n        this.reset();\n    },\n\n    properties: {\n        head:cc.Node,\n        boor:cc.Node,\n        landlord:cc.Node,\n        lblMsg : cc.Label,\n        lblNum : cc.Label,\n        tipsSpr:cc.Sprite,\n        lblNumBg : cc.Sprite,\n        aniJingDeng : cc.Node,\n        lblTimer : cc.Label,\n        cardNode : cc.Node,\n        waitTimer : cc.Node,\n        chatButton : {      // 互动表情按钮\n            default : null,\n            type : cc.Button\n        },\n        lordSpriteFrame:[cc.SpriteFrame],\n    },\n\n    onLoad: function() {\n        ty.NotificationCenter.listen(ddz.EventType.SHOW_GAME_WIN_ANI, this.onShoGameWinAni, this);\n        ty.NotificationCenter.listen(ddz.EventType.REMOVE_TABLE_ANI, this.onRemoveAni, this);\n        ty.NotificationCenter.listen(ddz.EventType.GAME_HIDE, this.onGameHide, this);\n\n        this.chatButton.node.on(\"click\" , this.onChatButton, this);\n        this._cardBaseScale = 0.52;\n        // this.hideAll();\n    },\n\n    onRemoveAni:function () {\n        this.aniJingDeng.removeFromParent();\n    },\n\n    onGameHide:function () {\n        // this.setClockVisible(false);\n        // this.stopJingDengAni();\n        // this.clearCards();\n    },\n    onChatButton: function() {\n        ddz.LOGD(null, \"onChatButton index = \" + this._index);\n\n    },\n\n    getIsFriend:function () {\n        return false;\n    },\n    getIsGold:function () {\n        return true;\n    },\n\n    onShoGameWinAni:function (dizhuWin) {\n        var dizhuIndex = this._playController.m_dizhu;\n        var myIndex = this.getMyIndex();\n\n        var widx = 0;\n\n        var aniName;\n        if (dizhuWin){\n            if (myIndex == dizhuIndex){\n                aniName = \"shengli\";\n            }\n            else{\n                aniName = \"shibai\";\n                widx = 1;\n            }\n        }\n        else{\n            if (myIndex == dizhuIndex){\n                aniName = \"shibai\";\n                widx = 1;\n            }\n            else{\n                aniName = \"shengli\";\n            }\n        }\n\n    },\n\n    hideAll: function () {\n        this.setChatButtonActive(false);\n        this.waitTimer.active = false;\n\n        // this.setLblMsg(\" \");\n        this.setTipsSpr();\n        this.stopJingDengAni();\n\n    },\n\n    setChatButtonActive: function(isAvtive) {\n        this.chatButton.node.active = isAvtive;\n    },\n\n    start: function() {\n\n    },\n\n    // update (dt) {},\n\n    //恢复到没有玩家的状态\n    reset: function(force) {\n\n        this.hideAll();\n\n        if (force || !this.getIsFriend()){\n            this._userInfo = null;  //好友场,不清此数据\n        }\n\n        this._leftTime = -1;\n        this.setLblNum(\"\");\n        this.lblNumBg.setVisible(false);\n        this.stopJingDengAni();\n        this.clearCards();\n\n        this.boor.active = true;\n        this.landlord.active = false;\n    },\n\n    //设置“准备”是否显示，和图片\n    setPrepareVisible: function(bVisible) {\n        // this.setLblMsg(bVisible ? \"已准备\" : \" \");\n    },\n\n    setDizhuHead:function(){\n        this.head.active = true;\n        this.boor.active = false;\n        this.landlord.active = true;\n    },\n\n    /**\n     * 清空所有手牌\n     */\n    clearCards: function() {\n        this.cardNode.scale = 0.52;\n        //手牌回池\n        var cardCom;\n        while (this._playedCards.length > 0){\n            cardCom = this._playedCards.pop();\n            this._playController.returnCard(cardCom.node);\n        }\n    },\n\n    getMyIndex:function () {\n        var myIndex;\n        if (this._bTop) {\n            myIndex = ddz.GlobalFuncs.getTopIndex(this._playController._mySeatIndex);\n        } else {\n            if (this._bLeft){\n                myIndex = ddz.GlobalFuncs.getPreIndex(this._playController._mySeatIndex);\n            }\n            else{\n                myIndex = ddz.GlobalFuncs.GetNextIndex(this._playController._mySeatIndex);\n            }\n        }\n        return myIndex;\n    },\n    \n    /**\n     * 转换动画形像\n     * @param origin 好友桌\n     */\n    refreshAvatarForeFriend : function (origin) {\n        this.initData();\n\n\n        var dizhuIndex = ddz.AIRobots.dizhuPos;;\n        var myIndex = this.getMyIndex();\n\n        var that = this;\n        var nextCallBack = function () {\n            var isDiZhu = myIndex == dizhuIndex;\n            if(isDiZhu){\n                // var to_pos =  that._playController.getEmoPos(myIndex);\n                // if(origin){\n                //     that._playController.showDizhuHatOrigin(to_pos);\n                // }else {\n                //     that._playController.showDizhuHat(to_pos);\n                // }\n                that.setDizhuHead();\n            }\n        };\n        requestAnimationFrame(nextCallBack);\n        this.refreshCardsNum();\n\n\n        //确定角色后,牌的数量也就确定了,这个时候,要刷新手牌数量\n\n    },\n    /**\n     * 转换动画形像\n     */\n    refreshAvatarForeFriendOrigin : function () {\n        // this.avatar.active = true;\n        var dizhuIndex = ddz.AIRobots.dizhuPos;\n        var that = this;\n        var nextCallBack = function () {\n            var myIndex = that.getMyIndex();\n            var isDiZhu = myIndex == dizhuIndex;\n            if(isDiZhu){\n                // var to_pos =  that._playController.getEmoPos(myIndex);\n                // that._playController.showDizhuHatOrigin(to_pos);\n                that.setDizhuHead();\n            }\n        };\n        requestAnimationFrame(nextCallBack);\n    },\n\n    initData:function () {\n        if (this._userInfo){\n            return;\n        }\n        if (this._bTop) {\n            this._userInfo = this._playController._topSeatinfo.model.user_info;\n        } else {\n            this._userInfo = this._bLeft ? this._playController._leftSeatinfo.model.user_info : this._playController._rightSeatinfo.model.user_info;\n        }\n    },\n\n    refreshWithUserInfo: function() {\n        //调用此方法时可能刷新了user_info，需要去取出最新的\n\n        this.hideAll();\n        this.initData();\n\n        if (!this._userInfo){\n            //没有用户信息,就不再执行,因为有可能还没开桌,玩家就走了\n            return;\n        }\n\n\n        if (this.getIsFriend()){\n            //好友桌,进来后,互动表情就可以点击\n            // this.setChatButtonActive(true);\n        }\n\n    },\n    \n    getUserInfo:function(){\n        var data = {};\n        data.url = this._userInfo.udataInfo.m_purl;\n        \n    },\n\n    showJiaodz: function(call) {\n        var name;\n        var audioName = this.getIsMale() ? \"man_\" : \"female_\";\n        var grab = this._playController._tableInfo.config.m_grab;\n        if (grab == 1) {\n            if (this._playController._mDizhuCalled) { //抢地主\n                // name = call > 0 ? \"抢地主\" : \"不抢\";\n                audioName += call > 0 ? \"rob_dizhu\" : \"not_rob\";\n                if (call > 0) {\n                    this.setTipsSpr(11);\n                }else {\n                    this.setTipsSpr(6);\n                }\n            } else { //叫地主\n                // name = call > 0 ? \"叫地主\" : \"不叫\";\n                audioName += call > 0 ? \"call_dizhu\" : \"not_call\";\n                if (call > 0) {\n                    this.setTipsSpr(8);\n                }else {\n                    this.setTipsSpr(5);\n                }\n            }\n        } else {\n            // name = call > 0 ? call + \"分\" : \"不叫\";\n            audioName += call > 0 ? call + \"_point\" : \"not_call\";\n            if (call > 0) {\n                this.setTipsSpr(call);\n            }else {\n                this.setTipsSpr(5);\n            }\n\n        }\n\n        // this.setLblMsg(name);\n        ddz.LOGD(this._TAG, 'audioName=' + audioName);\n\n        ddz.AudioHelper.playEffect(ddz.EffectPath_mp3[audioName], false);\n    },\n    showJiaodzOnlyNumber: function(call) {\n        var name;\n        var grab = this._playController._tableInfo.config.m_grab;\n        if (grab == 1) {\n            //抢地主~~~\n            // if (this._playController._mDizhuCalled) { //抢地主\n            //     name = call > 0 ? \"抢地主\" : \"不抢\";\n            // } else { //叫地主\n            //     name = call > 0 ? \"叫地主\" : \"不叫\";\n            // }\n        } else {\n            if(call == -1){\n                return;\n            }\n            name = call > 0 ? call + \"分\" : \"不叫\";\n            if (call > 0) {\n                this.setTipsSpr(call);\n            }else {\n                this.setTipsSpr(5);\n            }\n        }\n        this.setLblMsg(name);\n    },\n\n    showCards: function(cardNums, bDizhu) {\n        if (cardNums.length > 0){\n            //当手里还有牌时,明牌\n            this._addCardsIntoContainer(cardNums, true, bDizhu);\n        }\n    },\n\n    /**\n     * 刷新剩余牌数\n     * @param widthOutAudioEffect 是否在刷新剩余牌数的时候,不播放音效\n     */\n    refreshCardsNum: function(widthOutAudioEffect) {\n        var seat_info;\n        if (this._bTop) {\n            seat_info = this._playController._topSeatinfo;\n        } else {\n            seat_info = this._bLeft ? this._playController._leftSeatinfo : this._playController._rightSeatinfo;\n            // seat_info = this._bLeft ? ddz.AIRobots.getPlayerCards(ddz.AIRobots.leftSeatIndex) : ddz.AIRobots.getPlayerCards(ddz.AIRobots.rightSeatIndex);\n        }\n        var leftNum = seat_info.model.m_card.length;\n        // var leftNum = seat_info.length;\n        this.changeShowLeftNum(leftNum);\n\n        if (leftNum < 3 && !this.aniJingDeng.active){\n            //显示警灯动画\n            this.playJingDengAni();\n        }\n\n        if (!widthOutAudioEffect){\n            var path;\n            var sexStr = this.getIsMale() ? \"man_\" : \"female_\";\n            if (leftNum == 2) {\n                path = sexStr + \"I_got_left_two_cards\";\n            } else if (leftNum == 1) {\n                path = sexStr + \"I_got_left_one_cards\";\n            }\n\n            if (path){\n                ddz.LOGD(null, 'playEffect=' + path);\n                ddz.AudioHelper.playEffect(ddz.EffectPath_mp3[path], false);\n            }\n        }\n    },\n\n    changeShowLeftNum:function (leftNum) {\n        this.setLblNum(\"\" + leftNum);\n        this.lblNumBg.setVisible(true);\n    },\n\n    playJingDengAni:function () {\n        // 显示警灯动画\n        this.aniJingDeng.active = true;\n        var animationCom = this.aniJingDeng.getComponent(cc.Animation);\n        var ani = animationCom.getAnimationState('jingdeng_anim');\n        ani.play();\n    },\n\n    stopJingDengAni:function () {\n        this.aniJingDeng.active = false;\n    },\n\n    _addCardsIntoContainer: function(cardNums, bSort, bDizhu, withAni) { //bSort表明牌是否需要排序，出牌时不需要，展示牌时需要\n\n        this.clearCards();\n\n        var len = cardNums.length;\n        var breakline = ddz.PLAYED_CARDS_MAXINLINE;\n        // var cards = [];\n        var card, cardCom;\n        for (var i = 0; i < len; i++) {\n            card = this._playController.createNewCard(cardNums[i]);\n            cardCom = card.getComponent('Card');\n            cardCom.showMask(false);\n            this._playedCards.push(cardCom);\n        }\n\n        if (bSort) {\n            this._playedCards.sort(ddz.GlobalFuncs.SortCardFunc);\n        }\n\n        var container = this.cardNode;\n\n\n        var cardSize = ddz.CARD_BIG_SIZE;\n        var splitWidth = 60;\n\n        var px, py;\n        //这两个变量是为了计算右边玩家的手牌坐标用的\n        var startPosX = 0;\n        if (!this._bLeft){\n            //右侧玩家,上家,这个值是负值,需要计算\n            startPosX = ((len < breakline ? len : breakline) - 1) * splitWidth + cardSize.width;\n            startPosX += 20;\n        }\n\n        var canShowTag;\n        for (var index = 0; index < len; index++) {\n            cardCom = this._playedCards[index];\n            card = cardCom.node;\n\n            px = (index % breakline) * splitWidth - startPosX;\n            py = -Math.floor(index/breakline) * 56;\n\n            card.setPosition(px, py);\n            card.parent = container;\n            card.zIndex = index;\n\n            canShowTag = ddz.GlobalFuncs.canShowTag(breakline, len, index);\n\n            cardCom.showTag(canShowTag);\n            cardCom.setDiZhuTag(bDizhu && canShowTag);\n        }\n\n        if (withAni){\n            ddz.GlobalFuncs.showDropEffect(this._cardBaseScale, container);\n        }\n    },\n\n    setLblMsg:function (val) {\n        if (!cc.isValid(this.lblMsg)) return;\n        if (val){\n            this.lblMsg.node.active = true;\n            this.lblMsg.string = val;\n        }\n        else{\n            this.lblMsg.node.active = false;\n        }\n    },\n\n    setTipsSpr:function(state){\n        if (!state) {\n            this.tipsSpr.node.active = false;\n            // this.state = 0;\n        }else {\n            /* 1:1分 2:2分 3:3分 4:不出 5:不叫 6:不抢 7:出牌不符合规则 8:叫地主 9:明牌\n             *   10:你没有牌大过上家 11:抢地主 12:托管 13:要不起 14:pass\n             *\n             * */\n            if (this.lordSpriteFrame[state-1]) {\n                this.tipsSpr.node.active = true;\n                this.tipsSpr.spriteFrame = this.lordSpriteFrame[state-1];\n                this.state = state;\n            }\n        }\n    },\n\n\n    setLblNum:function (val) {\n        if (!cc.isValid(this.lblNum)) return;\n        if (val){\n            this.lblNum.node.active = true;\n            try{\n                this.lblNum.string = val;\n            }\n            catch (e){\n                hall.LOGE(\"setLblNum error:\", val);\n            }\n        }\n        else{\n            this.lblNum.node.active = false;\n        }\n    },\n\n    //设置clock的显示状态和时间\n    setClockVisible: function(bVisible, time) {\n\n        this.clearCards();\n        // this.setLblMsg(\" \");\n        this.setTipsSpr();\n        if (bVisible){\n            this.showTimer(time);\n        }\n        else{\n            this.hideTimer();\n        }\n    },\n\n    /**\n     * 显示时钟\n     * @param valTime 秒\n     */\n    showTimer:function (valTime) {\n        if (!cc.isValid(this.lblTimer)) return;\n        this._leftTime = valTime;\n\n        this.waitTimer.active = true;\n        this.lblTimer.string = this._leftTime ? this._leftTime +\"\" : \" \";\n        this.unscheduleAllCallbacks();\n\n        this.schedule(function () {\n            this._leftTime--;\n            if (this._leftTime < 0){\n                this.hideTimer();\n                return;\n            }else if (this._leftTime == 0){\n                //好友桌倒计时到0,不隐藏\n                if (this.getIsFriend()){\n                    this.lblTimer.string = \"0\";\n                    this.unscheduleAllCallbacks();\n                    return;\n                }\n            }\n            this.lblTimer.string = this._leftTime ? this._leftTime +\"\" : \" \";\n        }, 1, this);\n    },\n\n    /**\n     * 隐藏时钟\n     */\n    hideTimer:function () {\n        this.unscheduleAllCallbacks();\n        this.waitTimer.active = false;\n    },\n\n    getIsMale:function () {\n        //有问题,容错\n        if(this._userInfo && this._userInfo.udataInfo ){\n            return this._userInfo.udataInfo.m_sex == ddz.Enums.PlayerSexEnum.SEX_MALE;\n        }\n        return true;\n    },\n\n    /**\n     * 出牌\n     * @param cardNums 牌数组\n     * @param bDizhu 是否为地主\n     */\n    playCards: function(cardNums, bDizhu) {\n        ddz.LOGD(this._TAG, \"playCards\");\n        var len = cardNums.length;\n        if (len <= 0) {\n            // this.setLblMsg(ddz.MSG_TEXT_BUCHU);\n            this.setTipsSpr(4);\n            var filename = this.getIsMale() ? \"man_no\" : \"female_no\";\n            ddz.LOGD(this._TAG, 'playEffect=' + filename);\n            ddz.AudioHelper.playEffect(ddz.EffectPath_mp3[filename], false);\n            return;\n        }\n\n        var card_types = ddz.RobotGlobal.judgeType(cardNums, false);\n\n        this._playController.playAnimationSoundByCardType(card_types[0], this.getIsMale());\n        // this.setLblMsg(\" \");\n        this.setTipsSpr();\n\n        this._addCardsIntoContainer(cardNums, false, bDizhu, true);\n\n        this.refreshCardsNum();\n    },\n\n    /**\n     * 恢复上手牌,用于断线重连的情况\n     * @param cardNums 要发的上手牌\n     * @param bDizhu 是否为地主\n     */\n    playTopCards:function (cardNums, bDizhu) {\n        ddz.LOGD(this._TAG, \"playTopCards\");\n        // this.setLblMsg(\" \");\n        this.setTipsSpr();\n        this._addCardsIntoContainer(cardNums, false, bDizhu);\n        this.refreshCardsNum(true);\n    },\n\n    onDestroy:function () {\n        this._playController = null;\n        this._userInfo = null;\n        this._playedCards = null;\n        ty.NotificationCenter.ignoreScope(this);\n\n        this.hideTimer();\n    }\n});"]}