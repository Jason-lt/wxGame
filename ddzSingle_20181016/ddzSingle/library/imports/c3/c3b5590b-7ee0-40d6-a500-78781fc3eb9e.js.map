{"version":3,"sources":["../../../../../assets/Script/hall/assets/Script/hall/boot.js"],"names":["BuyCenter","require","HallGameWorld","UserInfo","hall","ME","gameWorld","staticSystemInfo","version","GlobalTimer","boot","recorder","AudioRecordManager","initManager","mute","GlobalFuncs","ReadBoolFromLocalStorage","ddz","SETTING_MUTE_KEY","AudioHelper","setMusicVolume","setEffectsVolume","music_vol","ReadNumFromLocalStorage","SETTING_MUSIC_KEY","effect_vol","SETTING_EFFECT_KEY","CUSTOM_ROOMID","HAS_MAIL_KEY","LOCAL_UUID_KEY","LAST_GET_REWARD_DAY","ty","BiLog","clickStat","clickStatEventType","clickStatEventTypeWxLoginStart","wx","login","success","params","LOGD","JSON","stringify","clickStatEventTypeWxLoginSuccess","code","wxLoginCode","NotificationCenter","trigger","EventType","WX_LOGIN_SUCCESS","fail","clickStatEventTypeWxLoginFailed","complete"],"mappings":";;;;;;AAAA,IAAIA,YAAYC,QAAQ,WAAR,CAAhB;AACA,IAAIC,gBAAgBD,QAAQ,eAAR,CAApB;AACA,IAAIE,WAAWF,QAAQ,cAAR,CAAf;AACA;AACA;AACA;AACAA,QAAQ,gBAAR;AACAA,QAAQ,aAAR;AACAA,QAAQ,eAAR;AACAG,KAAKC,EAAL,GAAU,IAAIF,QAAJ,EAAV;AACAC,KAAKE,SAAL,GAAiB,IAAIJ,aAAJ,EAAjB;;AAEA;AACAE,KAAKG,gBAAL,GAAwB;AACpBC,aAAS;AADW,CAAxB;;AAIAJ,KAAKJ,SAAL,GAAiB,IAAIA,SAAJ,EAAjB;AACAI,KAAKK,WAAL,CAAiBC,IAAjB;;AAEA;AACAN,KAAKO,QAAL,GAAgB,IAAIP,KAAKQ,kBAAT,EAAhB;AACAR,KAAKO,QAAL,CAAcE,WAAd;;AAEA;AACA,IAAIC,OAAOV,KAAKW,WAAL,CAAiBC,wBAAjB,CAA0CC,IAAIC,gBAA9C,EAAgE,KAAhE,CAAX;AACA,IAAIJ,IAAJ,EAAU;AACNG,QAAIE,WAAJ,CAAgBC,cAAhB,CAA+B,CAA/B;AACAH,QAAIE,WAAJ,CAAgBE,gBAAhB,CAAiC,CAAjC;AACH,CAHD,MAGO;AACH,QAAIC,YAAYlB,KAAKW,WAAL,CAAiBQ,uBAAjB,CAAyCN,IAAIO,iBAA7C,EAAgE,GAAhE,CAAhB,CADG,CACmF;AACtFP,QAAIE,WAAJ,CAAgBC,cAAhB,CAA+BE,SAA/B;AACA,QAAIG,aAAarB,KAAKW,WAAL,CAAiBQ,uBAAjB,CAAyCN,IAAIS,kBAA7C,EAAiE,CAAjE,CAAjB,CAHG,CAGmF;AACtFT,QAAIE,WAAJ,CAAgBE,gBAAhB,CAAiCI,UAAjC;AACH;;AAGD;AACArB,KAAKuB,aAAL,GAAqB,IAArB;AACAvB,KAAKwB,YAAL,GAAoB,UAApB;;AAEAxB,KAAKyB,cAAL,GAAsB,gBAAtB;AACAzB,KAAK0B,mBAAL,GAA2B,qBAA3B;;AAEAC,GAAGC,KAAH,CAASC,SAAT,CAAmBF,GAAG5B,QAAH,CAAY+B,kBAAZ,CAA+BC,8BAAlD,EAAkF,EAAlF;AACAC,GAAGC,KAAH,CAAS;AACLC,aAAS,iBAASC,MAAT,EAAiB;AACtBnC,aAAKoC,IAAL,CAAU,IAAV,EAAgB,8BAA8BC,KAAKC,SAAL,CAAeH,MAAf,CAA9C;AACAR,WAAGC,KAAH,CAASC,SAAT,CAAmBF,GAAG5B,QAAH,CAAY+B,kBAAZ,CAA+BS,gCAAlD,EAAoF,CAACJ,OAAOK,IAAR,CAApF;AACA,YAAIL,OAAOK,IAAX,EAAiB;AACbb,eAAGc,WAAH,GAAiBN,OAAOK,IAAxB;AACAb,eAAGe,kBAAH,CAAsBC,OAAtB,CAA8BhB,GAAGiB,SAAH,CAAaC,gBAA3C;AACH;AACJ,KARI;AASLC,UAAM,cAASX,MAAT,EAAiB;AACnBR,WAAGC,KAAH,CAASC,SAAT,CAAmBF,GAAG5B,QAAH,CAAY+B,kBAAZ,CAA+BiB,+BAAlD,EAAmF,EAAnF;AACA/C,aAAKoC,IAAL,CAAU,IAAV,EAAgB,2BAA2BC,KAAKC,SAAL,CAAeH,MAAf,CAA3C;AACH,KAZI;AAaLa,cAAU,kBAASb,MAAT,EAAiB,CAC1B;AAdI,CAAT","file":"boot.js","sourceRoot":"../../../../../assets/Script/hall","sourcesContent":["var BuyCenter = require('BuyCenter');\nvar HallGameWorld = require('HallGameWorld');\nvar UserInfo = require('HallUserInfo');\n// require('BiLog');\n// require('EventType');\n// require('UserInfo');\nrequire('DdzAudioHelper');\nrequire('GlobalTimer');\nrequire('RecordManager');\nhall.ME = new UserInfo();\nhall.gameWorld = new HallGameWorld();\n\n// 系统信息，获取一次即可\nhall.staticSystemInfo = {\n    version: 1\n};\n\nhall.BuyCenter = new BuyCenter();\nhall.GlobalTimer.boot();\n\n//初始化录音管理器\nhall.recorder = new hall.AudioRecordManager();\nhall.recorder.initManager();\n\n//如果文件里存了音量信息，则进行设置\nvar mute = hall.GlobalFuncs.ReadBoolFromLocalStorage(ddz.SETTING_MUTE_KEY, false);\nif (mute) {\n    ddz.AudioHelper.setMusicVolume(0);\n    ddz.AudioHelper.setEffectsVolume(0);\n} else {\n    var music_vol = hall.GlobalFuncs.ReadNumFromLocalStorage(ddz.SETTING_MUSIC_KEY, 0.5); //如果没有存储，初始默认值0.5\n    ddz.AudioHelper.setMusicVolume(music_vol);\n    var effect_vol = hall.GlobalFuncs.ReadNumFromLocalStorage(ddz.SETTING_EFFECT_KEY, 1); //如果没有存储，初始默认值1\n    ddz.AudioHelper.setEffectsVolume(effect_vol);\n}\n\n\n//组局的房间id固定为6201\nhall.CUSTOM_ROOMID = 6201;\nhall.HAS_MAIL_KEY = \"has_mail\";\n\nhall.LOCAL_UUID_KEY = \"LOCAL_UUID_KEY\";\nhall.LAST_GET_REWARD_DAY = \"LAST_GET_REWARD_DAY\";\n\nty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeWxLoginStart, []);\nwx.login({\n    success: function(params) {\n        hall.LOGD(null, 'wx login success, params:' + JSON.stringify(params));\n        ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeWxLoginSuccess, [params.code]);\n        if (params.code) {\n            ty.wxLoginCode = params.code;\n            ty.NotificationCenter.trigger(ty.EventType.WX_LOGIN_SUCCESS);\n        }\n    },\n    fail: function(params) {\n        ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeWxLoginFailed, []);\n        hall.LOGD(null, 'wx login fail, params:' + JSON.stringify(params));\n    },\n    complete: function(params) {\n    }\n});"]}