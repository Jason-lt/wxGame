{"version":3,"sources":["CustomRoomInfo.js"],"names":["cc","Class","ctor","_TAG","tableName","customTableId","customMulti","inviteCode","customBuyinChip","tableId","players","status","roomOwner","limitTime","leftTime","result","ownerName","maxMulti","sitdownPlayer","param","arguments","parseRoomInfo","hall","LOGD","_getOwnerName","uid","player","h5","globalFunc","findInArray","element","data","filter","item","parseAsResult","baseInfo"],"mappings":"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","file":"CustomRoomInfo.js","sourceRoot":"../../../../../../assets/Script/hall/models","sourcesContent":["// hall.CustomRoomInfo\n// Created by wangjunpeng 10.22 2015\n\n\ncc.Class({\n\tctor: function() {\n\t\tthis._TAG = \"hall.CustomRoomInfo\";\n\t\tthis.tableName = \"我的牌局\"; // 房间的名字\n\t\tthis.customTableId = 0; //组局id\n\t\tthis.customMulti = 0; //自定义底分\n\t\tthis.inviteCode = \"\"; //邀请码\n\t\tthis.customBuyinChip = 0; // 自定义带入金币\n\t\tthis.tableId = 0; //游戏桌的Id\n\t\tthis.players = []; //在这个房间里面都有谁加入了  {\"uid\": 10552, \"name\": \"财神来了\", \"avatar\": \"http://ddz.image.tuyoo.com/avatar/head_lotus.png\", \"join_time\": 1446104357, \"status\":0} \n\t\tthis.status = 0; //组局的状态  0 等待 1 等待游戏开始 2游戏中 3组局已结算 4组局被解散\n\t\tthis.roomOwner = 0; // 房间的拥有者，有权限解散\n\t\tthis.limitTime = 0; //有效期\n\t\tthis.leftTime = 0; //组局剩余时间\n\t\tthis.result = null;\n\t\tthis.ownerName = \"\";\n\t\tthis.maxMulti = 0;\n\t\tthis.sitdownPlayer = [];\n\t\tvar param = arguments[0];\n\t\tif (param) {\n\t\t\tthis.parseRoomInfo(param);\n\t\t}\n\t\thall.LOGD(this._TAG, \"ctor\");\n\t},\n\n\t_getOwnerName: function() {\n\t\tvar uid = this.roomOwner;\n\t\tvar player = h5.globalFunc.findInArray(this.players, function(element) {\n\t\t\treturn element[\"uid\"] == uid;\n\t\t});\n\t\treturn player ? player[\"name\"] : \"玩家\" + uid;\n\t},\n\n\tparseRoomInfo: function(data) {\n\t\thall.LOGD(this._TAG, \"parseRoomInfo\");\n\t\tthis.customTableId = data[\"customTableId\"];\n\t\tthis.tableName = data[\"name\"];\n\t\tthis.inviteCode = data[\"inviteCode\"];\n\t\tthis.customMulti = data[\"customMulti\"];\n\t\tthis.customBuyinChip = data[\"customBuyinChip\"];\n\t\tthis.tableId = data[\"tableId\"];\n\t\tthis.players = data[\"players\"];\n\t\tthis.status = data[\"status\"];\n\t\tthis.maxMulti = data[\"maxMulti\"];\n\t\tthis.roomOwner = data[\"owner\"];\n\t\tthis.limitTime = data[\"time\"];\n\t\tthis.leftTime = data[\"left_time\"];\n\t\tthis.ownerName = this._getOwnerName();\n\t\tthis.sitdownPlayer = this.players.filter(function(item) { //筛选出status为1，即坐下的player\n\t\t\treturn item[\"status\"] != 0;\n\t\t});\n\t},\n\n\tparseAsResult: function(data) {\n\t\tthis.customTableId = data[\"customTableId\"];\n\t\tvar baseInfo = data[\"base_info\"];\n\t\tthis.tableName = baseInfo[\"name\"];\n\t\tthis.roomOwner = baseInfo[\"owner\"];\n\t\tthis.limitTime = baseInfo[\"time\"];\n\t\tthis.customMulti = baseInfo[\"customMulti\"];\n\t\tthis.customBuyinChip = baseInfo[\"customBuyinChip\"];\n\t\tthis.result = data[\"datas\"];\n\t}\n\t\t/*\n\t{\n    \"round\": 1,\n    \"singleMax\": 8000,\n    \"players\": [\n        {\n            \"uid\": 10594,\n            \"name\": \"地狱之火\",\n            \"avatar\": \"http://ddz.image.tuyoo.com/avatar/head_lotus.png\",\n            \"join_time\": 1446779040,\n            \"win_chips\": 8000,\n            \"lose_chips\": 0,\n            \"winchip\": 8000,\n            \"mvp\": 1\n        },\n        {\n            \"uid\": 10593,\n            \"name\": \"草原之狼\",\n            \"avatar\": \"http://ddz.image.tuyoo.com/avatar/head_piano.png\",\n            \"join_time\": 1446779031,\n            \"win_chips\": 0,\n            \"lose_chips\": -4000,\n            \"winchip\": -4000,\n            \"fish\": 1\n        },\n        {\n            \"uid\": 10259,\n            \"name\": \"博大精深\",\n            \"avatar\": \"http://ddz.image.tuyoo.com/avatar/head_horse.png\",\n            \"join_time\": 1446779036,\n            \"win_chips\": 0,\n            \"lose_chips\": -4000,\n            \"winchip\": -4000\n        }\n    ]\n}\n*/\n});"]}