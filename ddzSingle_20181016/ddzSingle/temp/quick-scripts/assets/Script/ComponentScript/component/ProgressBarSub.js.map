{"version":3,"sources":["ProgressBarSub.js"],"names":["cc","Class","extends","Component","ctor","properties","ptLeft","Sprite","ptRight","txtLeft","Label","txtRight","lineMask","Mask","lineDarkR","spFrameLight","SpriteFrame","spFrameDark","initWith","obj","_type","_numLeft","_numRight","_needShowLeft","_needShowRight","string","node","active","width","spriteFrame","reset","forward","that","ani","getComponent","Animation","aniState","getAnimationState","once","ty","NotificationCenter","trigger","ddz","EventType","STAGE_FORWARD","play"],"mappings":";;;;;;AAAA;;;AAGAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,UAAK,gBAAY,CAEhB,CAJI;;AAMLC,gBAAY;AACRC,gBAAQN,GAAGO,MADH;AAERC,iBAAQR,GAAGO,MAFH;AAGRE,iBAAQT,GAAGU,KAHH;AAIRC,kBAASX,GAAGU,KAJJ;;AAMRE,kBAASZ,GAAGa,IANJ;AAORC,mBAAUd,GAAGa,IAPL;AAQRE,sBAAaf,GAAGgB,WARR;AASRC,qBAAYjB,GAAGgB;AATP,KANP;;AAkBLE,cAAS,kBAAUC,GAAV,EAAe;;AAEpB,aAAKC,KAAL,GAAaD,IAAI,MAAJ,CAAb;AACA,aAAKE,QAAL,GAAgBF,IAAI,SAAJ,CAAhB;AACA,aAAKG,SAAL,GAAiBH,IAAI,UAAJ,CAAjB;AACA,aAAKI,aAAL,GAAqBJ,IAAI,cAAJ,CAArB;AACA,aAAKK,cAAL,GAAsBL,IAAI,eAAJ,CAAtB;;AAEA,aAAKV,OAAL,CAAagB,MAAb,GAAsB,KAAKJ,QAAL,GAAc,EAApC;AACA,aAAKV,QAAL,CAAcc,MAAd,GAAuB,KAAKH,SAAL,GAAe,EAAtC;;AAEA,aAAKhB,MAAL,CAAYoB,IAAZ,CAAiBC,MAAjB,GAA0B,KAAKJ,aAA/B;AACA,aAAKT,SAAL,CAAeY,IAAf,CAAoBC,MAApB,GAA6B,KAAKH,cAAlC;;AAEA,YAAI,KAAKJ,KAAL,IAAc,CAAlB,EAAoB;AAAE;AAClB,iBAAKR,QAAL,CAAcc,IAAd,CAAmBE,KAAnB,GAA2B,CAA3B;AACA,iBAAKpB,OAAL,CAAaqB,WAAb,GAA2B,KAAKZ,WAAhC;AACH,SAHD,MAIK,IAAI,KAAKG,KAAL,IAAc,CAAlB,EAAoB;AAAE;AACvB,iBAAKR,QAAL,CAAcc,IAAd,CAAmBE,KAAnB,GAA2B,EAA3B;AACA,iBAAKpB,OAAL,CAAaqB,WAAb,GAA2B,KAAKd,YAAhC;AACH;AACJ,KAxCI;;AA0CLe,WAAM,iBAAY;AACd,aAAKV,KAAL,GAAa,CAAb;AACA,aAAKC,QAAL,GAAgB,CAAhB;AACA,aAAKC,SAAL,GAAiB,CAAjB;AACA,aAAKC,aAAL,GAAqB,KAArB;AACA,aAAKC,cAAL,GAAsB,KAAtB;;AAEA,aAAKlB,MAAL,CAAYoB,IAAZ,CAAiBC,MAAjB,GAA0B,KAA1B;AACA,aAAKb,SAAL,CAAeY,IAAf,CAAoBC,MAApB,GAA6B,KAA7B;AACA,aAAKf,QAAL,CAAcgB,KAAd,GAAsB,CAAtB;AACA,aAAKpB,OAAL,CAAaqB,WAAb,GAA2B,KAAKZ,WAAhC;AACH,KArDI;;AAuDLc,aAAQ,mBAAY;;AAEhB,YAAIC,OAAO,IAAX;AACA,YAAIC,MAAM,KAAKC,YAAL,CAAkBlC,GAAGmC,SAArB,CAAV;AACA,YAAIC,WAAWH,IAAII,iBAAJ,CAAsB,SAAtB,CAAf;AACAD,iBAASE,IAAT,CAAc,UAAd,EAA0B,YAAY;AAClCN,iBAAKxB,OAAL,CAAaqB,WAAb,GAA2BG,KAAKjB,YAAhC,CADkC,CACW;AAC7CwB,eAAGC,kBAAH,CAAsBC,OAAtB,CAA8BC,IAAIC,SAAJ,CAAcC,aAA5C,EAA2DZ,KAAKV,SAAhE;AACH,SAHD,EAGG,IAHH;;AAKAc,iBAASS,IAAT;AACH;;AAED;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AA9EK,CAAT","file":"ProgressBarSub.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["/**\n *比赛进度条节点\n */\ncc.Class({\n    extends: cc.Component,\n    ctor:function () {\n\n    },\n\n    properties: {\n        ptLeft: cc.Sprite,\n        ptRight:cc.Sprite,\n        txtLeft:cc.Label,\n        txtRight:cc.Label,\n\n        lineMask:cc.Mask,\n        lineDarkR:cc.Mask,\n        spFrameLight:cc.SpriteFrame,\n        spFrameDark:cc.SpriteFrame\n    },\n\n    initWith:function (obj) {\n\n        this._type = obj['type'];\n        this._numLeft = obj['numLeft'];\n        this._numRight = obj['numRight'];\n        this._needShowLeft = obj['needShowLeft'];\n        this._needShowRight = obj['needShowRight'];\n\n        this.txtLeft.string = this._numLeft+\"\";\n        this.txtRight.string = this._numRight+\"\";\n\n        this.ptLeft.node.active = this._needShowLeft;\n        this.lineDarkR.node.active = this._needShowRight;\n\n        if (this._type == 0){ //未达成\n            this.lineMask.node.width = 0;\n            this.ptRight.spriteFrame = this.spFrameDark;\n        }\n        else if (this._type == 1){ //已经达成\n            this.lineMask.node.width = 70;\n            this.ptRight.spriteFrame = this.spFrameLight;\n        }\n    },\n\n    reset:function () {\n        this._type = 0;\n        this._numLeft = 0;\n        this._numRight = 0;\n        this._needShowLeft = false;\n        this._needShowRight = false;\n\n        this.ptLeft.node.active = false;\n        this.lineDarkR.node.active = false;\n        this.lineMask.width = 0;\n        this.ptRight.spriteFrame = this.spFrameDark;\n    },\n\n    forward:function () {\n\n        var that = this;\n        var ani = this.getComponent(cc.Animation);\n        var aniState = ani.getAnimationState('forward');\n        aniState.once('finished', function () {\n            that.ptRight.spriteFrame = that.spFrameLight;//更新节点背景\n            ty.NotificationCenter.trigger(ddz.EventType.STAGE_FORWARD, that._numRight);\n        }, this);\n\n        aniState.play();\n    }\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    // start () {\n    //\n    // },\n\n    // update:function (dt) {\n    //\n    // },\n});\n"]}