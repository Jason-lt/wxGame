{"version":3,"sources":["ddz_buttonList.js"],"names":["cc","Class","extends","Component","properties","topButton","default","type","Button","bottomButton","tempButton","topText","RichText","bottomText","tempText","colorString","parentScene","serializable","setButtonListWithButtons","buttons","buttonCount","length","node","active","bottomType","setButtonWithButtonTextAndHeight","hall","LOGW","buttonMap","button","text","height","string","setRichTextWithButton","y","changeTopTextWithButton","setTopTextWithButton","changeBottomTextWithButton","textS","title","labelS","right","left","ddz","LOGD","JSON","stringify","onTopButton","ty","TCP","connectStatus","CONNECT_STATUS_OK","MsgBoxManager","showToast","onTopButtonAction","onButtomButton","onButtomButtonAction","onTempButton","onTempButtonAction","onLoad","on"],"mappings":"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","file":"ddz_buttonList.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["\n/* {\n title :\n left :\n right :\n bottomType : (1白底,2白框)\n }\n */\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        topButton :{\n            default : null,\n            type : cc.Button\n        },//白底\n        bottomButton :{\n            default : null,\n            type : cc.Button\n        },//白框\n        tempButton :{\n            default : null,\n            type : cc.Button\n        },//白底\n        topText :{\n            default : null,\n            type : cc.RichText\n        },//白底\n        bottomText :{\n            default : null,\n            type : cc.RichText\n        },//白框\n        tempText :{\n            default : null,\n            type : cc.RichText\n        },//白框\n        colorString : \"202020\",\n        parentScene: {\n            default: null,\n            serializable: false\n        }\n    },\n\n    setButtonListWithButtons : function (buttons) {\n        var buttonCount = buttons.length;\n        this.topButton.node.active = false;\n        this.bottomButton.node.active = false;\n        this.tempButton.node.active = false;\n        if (buttonCount == 1){\n            if (buttons[0].bottomType == 1){\n                this.setButtonWithButtonTextAndHeight(buttons[0],this.topButton,this.topText,0);\n            }else {\n                hall.LOGW(\"\",\"file = [ddz_buttonList] fun = [setButtonListWithButtons] bottomType != 1\");\n                this.setButtonWithButtonTextAndHeight(buttons[0],this.tempButton,this.tempText,0);\n            }\n            return;\n        }\n\n        this.setButtonWithButtonTextAndHeight(buttons[0],this.topButton,this.topText,128);\n        if (buttons[1].bottomType == 1){\n            this.setButtonWithButtonTextAndHeight(buttons[1],this.tempButton,this.tempText,0);\n        }else {\n            this.setButtonWithButtonTextAndHeight(buttons[1],this.bottomButton,this.bottomText,0);\n        }\n    },\n\n    setButtonWithButtonTextAndHeight:function (buttonMap,button,text,height) {\n        // if (buttonMap.bottomType == 1){\n        //     this.colorString = ffffff;\n        // }else {\n        //     this.colorString = ffffff;\n        // }\n        button.node.active = true;\n        text.string = this.setRichTextWithButton(buttonMap);\n        text.node.y = 12;\n        button.node.y = height;\n    },\n\n    changeTopTextWithButton : function (button) {\n        this.topText.string = this.setRichTextWithButton(button);\n    },\n\n    setTopTextWithButton : function (string){\n        this.topText.string = string;\n    },\n\n    changeBottomTextWithButton : function (button) {\n        this.bottomText.string = this.setRichTextWithButton(button);\n    },\n    setRichTextWithButton:function(button){\n        var  textS = \"<color=#ffffff> \"+button.title+\" </color>\";\n        var labelS = textS;\n        if (button.right){\n            if(button.right = 'dda_button_diamond'){\n                labelS = textS + \"<img src='\"+button.right+\"' height=34 width=42/>\";\n            }else {\n                labelS = textS + \"<img src='\"+button.right+\"' />\";\n            }\n\n        }else if (button.left){\n            labelS = \"<img src='\"+button.left+\"' />\" + textS;\n        }\n        ddz.LOGD(null,\"file = [ddz_buttonList] fun = [setRichTextWithButton] labelS = \" + JSON.stringify(labelS));\n        return labelS;\n    },\n\n    onTopButton : function () {\n\n        if (ty.TCP.connectStatus != ty.TCP.CONNECT_STATUS_OK){\n            hall.MsgBoxManager.showToast({title : \"正在登录，请稍候\"});\n            ddz.LOGD(null, \"TCP is not ok! Please wait!\");\n            return;\n        }\n        ddz.LOGD(null, \"onTopButton\");\n        if(this.parentScene){\n            this.parentScene.onTopButtonAction();\n        }\n    },\n    onButtomButton : function () {\n\n        if (ty.TCP.connectStatus != ty.TCP.CONNECT_STATUS_OK){\n            hall.MsgBoxManager.showToast({title : \"正在登录，请稍候\"});\n            ddz.LOGD(null, \"TCP is not ok! Please wait!\");\n            return;\n        }\n        ddz.LOGD(null, \"onButtomButton\");\n        if(this.parentScene){\n            this.parentScene.onButtomButtonAction();\n        }\n    },\n    onTempButton : function () {\n\n        if (ty.TCP.connectStatus != ty.TCP.CONNECT_STATUS_OK){\n            hall.MsgBoxManager.showToast({title : \"正在登录，请稍候\"});\n            ddz.LOGD(null, \"TCP is not ok! Please wait!\");\n            return;\n        }\n\n        ddz.LOGD(null, \"onTempButton\");\n        if(this.parentScene){\n            this.parentScene.onTempButtonAction();\n        }\n    },\n    onLoad :function () {\n        this.topButton.node.on(\"click\",this.onTopButton,this);\n        this.bottomButton.node.on(\"click\",this.onButtomButton,this);\n        this.tempButton.node.on(\"click\",this.onTempButton,this);\n        //test\n        // var testArray = [{\n        //     title :\"邀请得\",\n        //     right :\"black\",\n        //     bottomType :1\n        // }\n        // , {\n        //     title :\"重新闯关\",\n        //         left : \"ddz_main_tri\",\n        //     bottomType : 0\n        // }\n        // ];\n        // this.setButtonListWithButtons(testArray);\n\n        // var widthScaling = ddz.GlobalFuncs.getWindowWidthscaling();\n        // this.topText.fontSize = this.topText.fontSize*widthScaling;\n        // this.bottomText.fontSize = this.bottomText.fontSize*widthScaling;\n        // this.tempText.fontSize = this.tempText.fontSize*widthScaling;\n        // this.topButton.node.width = this.topButton.node.width*widthScaling;\n        // this.bottomButton.node.width = this.bottomButton.node.width*widthScaling;\n        // this.tempButton.node.width = this.tempButton.node.width*widthScaling;\n\n    }\n    // update (dt) {},\n});\n"]}