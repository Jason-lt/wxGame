{"version":3,"sources":["HistoryModel.js"],"names":["ddz","historyModel","historyData","parseHistory","result","records","length","_records","i","parseResults","results","curSeatId","time","totalRound","curRound","palyMode","_mySeatIndex","timer","detailsModel","setIsHisTory","setMySeatIndex","data","avatars","getAvatars","sumScore","getSumScore","score","mySeatIndex","push","getHistoryData","index","getScore","getPlayMode","playMode","getTimer","getMySeatIndex"],"mappings":"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","file":"HistoryModel.js","sourceRoot":"../../../../../../assets/Script/ddz/models","sourcesContent":["\n/*\n*  历史战绩 数据解析\n* */\n\nddz.historyModel = {\n    historyData:[],\n    \n    parseHistory:function(result){\n        this.historyData = [];\n        if (result.records && result.records.length > 0){\n            var _records = result.records;\n            for (var i = 0; i < _records.length; i++){\n                this.parseResults(_records[i].results,_records[i].curSeatId,_records[i].time,_records[i].totalRound,_records[i].curRound,_records[i].palyMode);\n            }\n        }\n    },\n\n    parseResults:function(results,_mySeatIndex,timer,totalRound,curRound,palyMode){\n        ddz.detailsModel.parseResults(results);\n        ddz.detailsModel.setIsHisTory(true);\n        ddz.detailsModel.setMySeatIndex(_mySeatIndex);\n\n        var data = {};\n        data.avatars = ddz.detailsModel.getAvatars();\n        var sumScore = ddz.detailsModel.getSumScore();\n        data.score = sumScore[_mySeatIndex - 1];\n        data.timer = timer;\n        data.mySeatIndex = _mySeatIndex;\n        data.results = results;\n        data.totalRound = totalRound;\n        data.curRound = curRound;\n        data.palyMode = palyMode;\n        this.historyData.push(data);\n    },\n\n    getHistoryData:function(){\n        return this.historyData;\n    },\n\n    getAvatars:function(index){\n        var avatars = [];\n        if (this.historyData[index]){\n            avatars = this.historyData[index].avatars;\n        }\n        return avatars;\n    },\n\n    getScore:function(index){\n        var score = 0;\n        if (this.historyData[index]){\n            score = this.historyData[index].score;\n        }\n        return score;\n    },\n\n    getPlayMode:function(index){\n        var playMode = \"\";\n        if (this.historyData[index]){\n            playMode = this.historyData[index].palyMode;\n        }\n        return playMode;\n    },\n\n    getTimer:function(index){\n        var timer = 0;\n        if (this.historyData[index]){\n            timer = this.historyData[index].timer;\n        }\n        return timer;\n    },\n\n    getMySeatIndex:function(index){\n        var mySeatIndex = 0;\n        if (this.historyData[index] && this.historyData[index].mySeatIndex){\n            mySeatIndex = this.historyData[index].mySeatIndex;\n        }\n        return mySeatIndex;\n    }\n\n};\n"]}