{"version":3,"sources":["FriendModel.js"],"names":["ddz","friendModel","CREATE_ROUND_COUNT","CREATE_MODE_TYPE","CREATE_PLAYING_METHOD","tipsWindow","isEnterTable","parseDiZhuInfo","argument","result","action","EventType","ACTION_FT_CREATE","parseCreateFriendBack","ACTION_FT_GET_CONF","parseRoomCfg","ACTION_FT_ENTER_TABLE","parseEnterTable","ACTION_GET_FT_TABLE_RECORD","parseHistoryInfo","gameModel","parseWinLoseShareReward","ACTION_TBOX_GETREWARD","ty","NotificationCenter","trigger","MSG_TBOX_GETREWARD","info","ACTION_GET_OLD_USER_CHIP_REWARD","shortcut","UPDATE_GUIDE_ICON_STATE","isNewUser","isLimit","UPDATE_BTN_STATE","hall","gameWorld","parsePersonInfo","hasOwnProperty","BiLog","clickStat","UserInfo","clickStatEventType","clickStatEventTypeStartFriendTime","enterFTTable","LOGD","JSON","stringify","MsgBoxManager","showToast","title","_roomCfg","conf","clickStatEventTypeStartFriendFail","code","length","tipsString","preFabPath","comName","GlobalFuncs","showPopWinByPreFab","preFabNode","window","getComponent","setTipsSString","LOGW","historyModel","parseHistory","onHistory","getRoomCfg","enterFriendTable","ftId","Share","shareKeywordReplace","inviteFriendID","matchModel","getCurWaitInfo","MsgFactory","saveMatch","debugMode","getMatchRecords","curScene","cc","director","getScene","tableScene","children","name","tableInfo","getSceneType","Enums","SceneType","FRIEND","params","CMD_DIZHU","SystemInfo","gameId","_sendCmd","reqDisbind","roomId","tableId","seatId","clickStatEventTypeFriendRoomDissolveClick","NetWorkCenter","canNotLeave","CMD_TABLE_CALL","ACTION_FT_REQ_DISBIND","ansDisbind","answer","ACTION_FT_REQ_DISBIND_ANSWER","getFriendConf","continueFT","ACTION_FT_CONTINUE","createFriendRoom","nRound","double","playMode","goodCard","getHisToryInfo"],"mappings":"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","file":"FriendModel.js","sourceRoot":"../../../../../../assets/Script/ddz/models","sourcesContent":["/**\n * Created by xujing on 2018/4/13.\n */\n\nddz.friendModel = {\n    CREATE_ROUND_COUNT : \"CREATE_ROUND_COUNT\",\n    CREATE_MODE_TYPE : \"CREATE_MODE_TYPE\",\n    CREATE_PLAYING_METHOD : \"CREATE_PLAYING_METHOD\",\n    tipsWindow : null,\n\n    isEnterTable:false,\n\n    parseDiZhuInfo:function (argument) {\n        switch (argument.result.action){\n            case ddz.EventType.ACTION_FT_CREATE : {\n                this.parseCreateFriendBack(argument.result);\n                break;\n            }\n            case ddz.EventType.ACTION_FT_GET_CONF : {\n                this.parseRoomCfg(argument.result);\n                break;\n            }\n            case ddz.EventType.ACTION_FT_ENTER_TABLE : {\n                this.parseEnterTable(argument.result);\n                break;\n            }\n            case ddz.EventType.ACTION_GET_FT_TABLE_RECORD : {\n                this.parseHistoryInfo(argument.result);\n                break\n            }\n            case \"winLoseShareReward\" : {\n                ddz.gameModel.parseWinLoseShareReward(argument.result);\n                break;\n            }\n            case ddz.EventType.ACTION_TBOX_GETREWARD : {\n                ty.NotificationCenter.trigger(ddz.EventType.MSG_TBOX_GETREWARD,argument.result.info);\n                break\n            }\n            case ddz.EventType.ACTION_GET_OLD_USER_CHIP_REWARD : {\n                if (argument.result.shortcut && argument.result.shortcut == 1) {\n                    ty.NotificationCenter.trigger(ddz.EventType.UPDATE_GUIDE_ICON_STATE, false);\n                }else {\n                    ty.NotificationCenter.trigger(ddz.EventType.UPDATE_GUIDE_ICON_STATE, true);\n                }\n                ddz.gameModel.isNewUser = argument.result.isNewUser || false;\n                ddz.gameModel.isLimit = argument.result.isLimit || false;\n                ty.NotificationCenter.trigger(ddz.EventType.UPDATE_BTN_STATE);\n                hall.gameWorld.parsePersonInfo(argument.result);\n                break\n            }\n        }\n    },\n\n    /**\n     * 创建牌桌后的消息解析\n     * @param result\n     */\n    parseCreateFriendBack:function (result) {\n        if ((!result.hasOwnProperty('code') || result['code'] == 0) && result.hasOwnProperty('ftId')) {\n            ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeStartFriendTime,[result['ftId']]);\n            ddz.friendModel.enterFTTable(result['ftId']);\n        } else {\n            //弹提示信息\n            ddz.LOGD('parseCreateFriendBack','创建失败啦吧！！！！！！！！！！！！' + JSON.stringify(result));\n            hall.MsgBoxManager.showToast({title:result.info})\n        }\n    },\n\n    parseRoomCfg:function (result) {\n        this._roomCfg = result.conf;\n        ty.NotificationCenter.trigger(ddz.EventType.ACTION_FT_GET_CONF,result.conf);\n        // this.rounds = conf.rounds;\n        // this.playModes = conf.playModes;\n    },\n\n    parseEnterTable:function (result) {\n        //这个好像啥也没作{\"action\":\"ft_enter\",\"gameId\":6,\"userId\":10002,\"ftId\":\"123456\",\"code\":-1,\"info\":\"没有找到该牌桌\"}\n        // hall.LOGW(\"===\",\"=======parseEnterTable====\"+JSON.stringify(result));\n        ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeStartFriendFail,\n            [result.info]);\n\n        if(result.code == -1){\n            if (result.info && result.info.length > 0){\n                var tipsString = result.info;\n                var preFabPath = \"prefabs/dissolveNode\";\n                var comName = \"ddz_window_dissolve\";\n                hall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n                    var window = preFabNode.getComponent(comName);\n                    window.setTipsSString(tipsString);\n                });\n            }\n        }\n    },\n\n    parseHistoryInfo:function(result){\n        hall.LOGW(\"\",\"file = [FriendModel] fun = [parseHistoryInfo]\");\n        ddz.historyModel.parseHistory(result);\n        hall.GlobalFuncs.onHistory();\n    },\n\n    /**\n     * 获取房间配置\n     * @returns {*}\n     */\n    getRoomCfg:function () {\n        return this._roomCfg;\n    },\n\n    enterFriendTable : function (ftId) {\n        ddz.Share.shareKeywordReplace.inviteFriendID = ftId;\n        this.isEnterTable = true;\n        if (ddz.matchModel.getCurWaitInfo()){\n            ddz.MsgFactory.saveMatch();\n        }else {\n            if(debugMode){\n                ddz.MsgFactory.getMatchRecords();\n            }\n        }\n    },\n\n    // 请求进入好友桌\n    enterFTTable:function(ftId) {\n        if (ftId == \"\") {\n            return;\n        }\n        var curScene = cc.director.getScene();\n        var tableScene = curScene.children[0].getComponent('DdzTableScene');\n        if (curScene.name ==  \"TableScene\" && tableScene.tableInfo().getSceneType() == ddz.Enums.SceneType.FRIEND){\n            hall.MsgBoxManager.showToast({title:\"当前已在牌桌中,不可重复进桌\"});\n            return;\n        }\n        var params = {\n            \"cmd\":ddz.EventType.CMD_DIZHU,\n            \"params\":{\n                \"gameId\": ty.SystemInfo.gameId,\n                \"action\": ddz.EventType.ACTION_FT_ENTER_TABLE,\n                \"inviteId\": ftId,\n                \"ftId\": ftId,\n                \"version\":\"3.90\"\n            }\n        };\n        hall.MsgFactory._sendCmd(params);\n        ddz.friendModel.isEnterTable = false;\n    },\n\n    // 解散牌桌请求\n    reqDisbind:function (roomId, tableId, seatId) {\n        ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeFriendRoomDissolveClick, [\"request\"]);\n        ddz.NetWorkCenter.canNotLeave = false;\n        var params = {\n            \"cmd\":ddz.EventType.CMD_TABLE_CALL,\n            \"params\":{\n                \"action\": ddz.EventType.ACTION_FT_REQ_DISBIND,\n                \"gameId\": ty.SystemInfo.gameId,\n                \"seatId\": seatId,\n                \"roomId\": roomId,\n                \"tableId\": tableId,\n                \"version\":\"3.90\"\n            }\n        };\n        hall.MsgFactory._sendCmd(params);\n    },\n\n    // 确认解散牌桌请求\n    ansDisbind:function (roomId, tableId, seatId, answer) {\n        var params = {\n            \"cmd\":ddz.EventType.CMD_TABLE_CALL,\n            \"params\":{\n                \"action\": ddz.EventType.ACTION_FT_REQ_DISBIND_ANSWER,\n                \"gameId\": ty.SystemInfo.gameId,\n                \"seatId\": seatId,\n                \"roomId\": roomId,\n                \"tableId\": tableId,\n                \"answer\": answer\n            }\n        };\n        hall.MsgFactory._sendCmd(params);\n    },\n\n    /**\n     * 获取好友房间配置\n     * ft_get_conf\n     */\n    getFriendConf: function() {\n        var params = {\n            'cmd': ddz.EventType.CMD_DIZHU,\n            'params': {\n                'gameId': ty.SystemInfo.gameId,\n                \"action\": ddz.EventType.ACTION_FT_GET_CONF\n            }\n        };\n        hall.MsgFactory._sendCmd(params);\n    },\n\n\n    // 继续玩\n    continueFT:function (roomId, tableId, seatId) {\n        var params = {\n            \"cmd\":ddz.EventType.CMD_TABLE_CALL,\n            \"params\":{\n                \"action\": ddz.EventType.ACTION_FT_CONTINUE,\n                \"gameId\": ty.SystemInfo.gameId,\n                \"seatId\": seatId,\n                \"roomId\": roomId,\n                \"tableId\": tableId\n            }\n        };\n        hall.MsgFactory._sendCmd(params);\n    },\n\n    /**\n     * 创建好友房间\n     * @param nRound\n     * @param double\n     * @param playMode\n     * @param goodCard\n     */\n    createFriendRoom: function(nRound, double, playMode, goodCard) {\n        var conf = {\n            \"nRound\": nRound,\n            \"double\": double,\n            \"playMode\": playMode,\n            \"goodCard\": goodCard\n        };\n\n        var params = {\n            'cmd': ddz.EventType.CMD_DIZHU,\n            'params': {\n                'gameId': ty.SystemInfo.gameId,\n                \"action\": ddz.EventType.ACTION_FT_CREATE,\n                \"conf\" : conf\n            }\n        };\n        hall.MsgFactory._sendCmd(params);\n        // ty.NotificationCenter.trigger(ddz.EventType.ACTION_ENTER_TABLE);\n    },\n\n    /**\n     * 获取好友房历史数据\n     * \n     */\n    getHisToryInfo: function() {\n        var params = {\n            'cmd': ddz.EventType.CMD_DIZHU,\n            'params': {\n                'gameId': ty.SystemInfo.gameId,\n                \"action\": ddz.EventType.ACTION_GET_FT_TABLE_RECORD\n            }\n        };\n        hall.MsgFactory._sendCmd(params);\n    }\n};"]}