{"version":3,"sources":["ddz_cell_getDiamond.js"],"names":["cc","Class","extends","Component","properties","avatar","default","type","Sprite","detailrichText","RichText","getButton","Button","haveSpritr","unInterface","inviteedCode","state","resultMap","defaultSpriteFrame","SpriteFrame","addDataWithObject","objc","setDetailInformation","setGetButtonState","rewardState","userId","string","count","nowCount","bindRewardCount","node","active","onGetRewardAction","ty","BiLog","clickStat","UserInfo","clickStatEventType","clickStatEventTypeButtonClick","ddz","gameModel","getNewInviteReward","getInviteReward","hall","LOGW","NotificationCenter","trigger","EventType","UPDATE_DIAMOND_COUNT","onClickInviteBtn","Share","shareWithType","onShareType","clickStatShareTypeInviteNewFriend"],"mappings":"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","file":"ddz_cell_getDiamond.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        avatar :{\n            default : null,\n            type :cc.Sprite\n        },\n\n        detailrichText : cc.RichText,\n\n        getButton : cc.Button,\n        haveSpritr : cc.Sprite,\n        unInterface: cc.Sprite,\n\n        inviteedCode :\"\",\n        state : 0,//0:未达到标准,1、可领取,2、已领取\n\n        resultMap : null,\n\n        defaultSpriteFrame : cc.SpriteFrame\n    },\n    addDataWithObject : function (objc) {\n        this.setDetailInformation(objc);\n    },\n\n    setDetailInformation:function (resultMap) {\n\n        this.resultMap = resultMap;\n        this.setGetButtonState(resultMap.rewardState);\n\n        this.inviteedCode = resultMap.userId || resultMap.inviteedCode;\n\n        this.detailrichText.string =\n            \"<color=#9C7343>成功邀请\"+resultMap.count +\"位新人（\"+resultMap.nowCount+\"/\"+resultMap.count+\"）</c>\" +\n            \"<br/>\" + \"<color=#9C7343>奖励：</c>\" +\n            \"<img src='ddz_welfare_diamond_1' height=34 width=42/><color=#9C7343> +\"+resultMap.bindRewardCount+\"</c>\";\n    },\n\n    setGetButtonState : function (state) {\n        this.state = state;\n\n        switch (state){\n            case 0 :{\n                this.getButton.node.active = false;\n                this.haveSpritr.node.active = false;\n                this.unInterface.node.active = true;}\n                break;\n            case 1 :{\n                this.getButton.node.active = true;\n                this.haveSpritr.node.active = false;\n                this.unInterface.node.active = false;}\n                break;\n            case 2 :{\n                this.getButton.node.active = false;\n                this.haveSpritr.node.active = true;\n                this.unInterface.node.active = false;}\n                break;\n            default:\n                break;\n        }\n    },\n\n    onGetRewardAction : function () {\n        this.resultMap.rewardState = 2;\n        if(!this.avatar){\n            ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,\n                [\"getNewDiamond\",this.resultMap.count]);\n            ddz.gameModel.getNewInviteReward(this.inviteedCode);\n        }else {\n            ddz.gameModel.getInviteReward(this.inviteedCode);\n        }\n        this.setGetButtonState(2);\n        hall.LOGW(\"===\",\"=====onGetRewardAction=========\");\n        ty.NotificationCenter.trigger(ddz.EventType.UPDATE_DIAMOND_COUNT,this.resultMap.bindRewardCount);\n\n        // ddz.gameModel.getNewInviteReward(this.inviteedCode);\n    },\n\n    onClickInviteBtn:function(){\n        ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeButtonClick,\n            [\"diamondShareFriendToCell\"]);\n        ddz.Share.shareWithType(ddz.Share.onShareType.clickStatShareTypeInviteNewFriend);\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n\n    // update (dt) {},\n});\n"]}