{"version":3,"sources":["ddz_window_match_rewards.js"],"names":["cc","Class","extends","Component","properties","titleLable","default","type","Label","closeButton","Button","scrollView","ScrollView","listItem","Prefab","onLoad","linecount","spacing","spacing_x","content","items","initialize","matchData","hall","ME","matchInfo","getCurrentMatchData","string","matchName","ranks","matchDesMap","matchId","toString","totalCount","length","height","i","item","instantiate","getComponent","updateItem","start","end","desc","addChild","setPosition","push","onClickClose","node","removeFromParent","destroy"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAY;AACRC,qBAAS,IADD;AAERC,kBAAMP,GAAGQ;AAFD,SADJ;AAKRC,qBAAa;AACTH,qBAAS,IADA;AAETC,kBAAMP,GAAGU;AAFA,SALL;AASRC,oBAAY;AACRL,qBAAS,IADD;AAERC,kBAAMP,GAAGY;AAFD,SATJ;AAaRC,kBAAU;AACNP,qBAAS,IADH;AAENC,kBAAMP,GAAGc;AAFH;AAbF,KAHP;;AAsBLC,YAAQ,kBAAW;AACf,aAAKC,SAAL,GAAiB,CAAjB;AACA,aAAKC,OAAL,GAAe,EAAf;AACA,aAAKC,SAAL,GAAiB,EAAjB;;AAEA,aAAKC,OAAL,GAAe,KAAKR,UAAL,CAAgBQ,OAA/B;AACA,aAAKC,KAAL,GAAa,EAAb;AACA,aAAKC,UAAL;AACH,KA9BI;;AAgCLA,gBAAY,sBAAY;AACpB,YAAIC,YAAYC,KAAKC,EAAL,CAAQC,SAAR,CAAkBC,mBAAlB,EAAhB;AACA,aAAKrB,UAAL,CAAgBsB,MAAhB,GAAyBL,UAAUM,SAAnC;AACA,YAAIC,QAAQN,KAAKC,EAAL,CAAQC,SAAR,CAAkBK,WAAlB,CAA8BR,UAAUS,OAAV,CAAkBC,QAAlB,EAA9B,EAA4DH,KAAxE;AACA,YAAII,aAAaJ,MAAMK,MAAvB;AACA,aAAKf,OAAL,CAAagB,MAAb,GAAsBF,aAAW,EAAjC;AACA,aAAI,IAAIG,IAAI,CAAZ,EAAeA,IAAIH,UAAnB,EAA+BG,GAA/B,EAAoC;AAChC,gBAAIC,OAAOrC,GAAGsC,WAAH,CAAe,KAAKzB,QAApB,CAAX;AACAwB,iBAAKE,YAAL,CAAkB,uBAAlB,EAA2CC,UAA3C,CAAsDX,MAAMO,CAAN,EAASK,KAA/D,EAAsEZ,MAAMO,CAAN,EAASM,GAA/E,EAAoFb,MAAMO,CAAN,EAASO,IAA7F;AACA,iBAAKxB,OAAL,CAAayB,QAAb,CAAsBP,IAAtB;AACAA,iBAAKQ,WAAL,CAAiB,CAAjB,EAAoB,CAAC,EAAD,GAAIT,CAAJ,GAAQ,EAA5B;AACA,iBAAKhB,KAAL,CAAW0B,IAAX,CAAgBT,IAAhB;AACH;AACJ,KA7CI;;AA+CLU,kBAAc,wBAAW;AACrB,aAAKC,IAAL,CAAUC,gBAAV;AACA,aAAKD,IAAL,CAAUE,OAAV;AACH;AACD;AAnDK,CAAT","file":"ddz_window_match_rewards.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/window","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        titleLable: {\n            default: null,\n            type: cc.Label\n        },\n        closeButton: {\n            default: null,\n            type: cc.Button\n        },\n        scrollView: {\n            default: null,\n            type: cc.ScrollView\n        },\n        listItem: {\n            default: null,\n            type: cc.Prefab\n        }\n    },\n\n    onLoad: function() {\n        this.linecount = 1;\n        this.spacing = 20;\n        this.spacing_x = 20;\n\n        this.content = this.scrollView.content;\n        this.items = [];\n        this.initialize();\n    },\n\n    initialize: function () {\n        var matchData = hall.ME.matchInfo.getCurrentMatchData();\n        this.titleLable.string = matchData.matchName;\n        var ranks = hall.ME.matchInfo.matchDesMap[matchData.matchId.toString()].ranks;\n        var totalCount = ranks.length;\n        this.content.height = totalCount*52;\n        for(var i = 0; i < totalCount; i++) {\n            var item = cc.instantiate(this.listItem);\n            item.getComponent(\"ddz_cell_match_reward\").updateItem(ranks[i].start, ranks[i].end, ranks[i].desc);\n            this.content.addChild(item);\n            item.setPosition(0, -52*i - 26);\n            this.items.push(item);\n        }\n    },\n\n    onClickClose: function() {\n        this.node.removeFromParent();\n        this.node.destroy();\n    }\n    // update (dt) {},\n});\n"]}