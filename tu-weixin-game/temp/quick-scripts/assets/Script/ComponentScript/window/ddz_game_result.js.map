{"version":3,"sources":["ddz_game_result.js"],"names":["cc","Class","extends","Component","properties","betLabel_1","default","type","Label","betLabel_2","betLabel_3","betLabel_4","tipsRich","RichText","backButton","Button","scoreGoldSprite","Sprite","winNode","Node","failNode","winLabel","failLabel","nextBtn","shareButton","nextBtnLabel","timeNumber","shareType","shareData","onLoad","backButtonH","ddz","GlobalFuncs","getBackButtonPositionY","node","y","ty","NotificationCenter","listen","EventType","UPDATE_BUTTON_TEXT","onGetRewardCount","bc","gameModel","getRoomListBannerConfigJson","playResurtBanner","winnerCount","matchModel","getCurWinnerCount","start","hall","adManager","showAllWidthBannerAd","val","that","pointId","Share","SharePointType","alms","leftCount","almsConfig","getAlmsConfigJson","cityKey","UserInfo","isInBSGS","par","almsWindow","initWithPar","showPopWinByPreFab","preFabNode","getComponent","setTableScene","tableScene","_tableScene","nextBtnAction","event","_friendPanel","tableInfo","mySeatIndex","_mySeatIndex","MsgFactory","getReady","roomId","tableId","Timer","cancelTimer","callBackFun","active","destroyWidthBannerAd","gameResultPanel","anim","Animation","stop","anim2","showShareMomentsItem","playModel","playMode","_mixID","mixId","getQuickStart","userId","GameId","quickStartModel","getRoomId","staticSystemInfo","version","_reset","backAction","AudioHelper","playEffect","EffectPath_mp3","back_button_click_sound","tableinfo","getRoomLeave","show","result","dizhuWin","dizhuwin","isWin","stat","dizhu","mySeatInfo","delta","deltaAll","string","play","winShare","loseShare","chip","ME","getChip","checkShareReward","notice","roomName","call","bomb","Math","pow","chuntian","parseInt","currWinDoubles","isChunTian","bottomNode","getChildByName","haveBanner","showFtResult","showNext","x","setTimer","onDestroy","ignoreScope"],"mappings":"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","file":"ddz_game_result.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/window","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // resultSpr : {\n        //     default : null,\n        //     type : cc.Sprite\n        // },\n        // sprFrame : [\n        //     cc.SpriteFrame\n        // ],\n        betLabel_1 : {\n            default : null,\n            type : cc.Label\n        },\n        betLabel_2 : {\n            default : null,\n            type : cc.Label\n        },\n        betLabel_3 : {\n            default : null,\n            type : cc.Label\n        },\n        betLabel_4 : {\n            default : null,\n            type : cc.Label\n        },\n        tipsRich : {\n            default : null,\n            type : cc.RichText\n        },\n        backButton : {\n            default : null,\n            type : cc.Button\n        },\n\n        scoreGoldSprite : {\n            default : null,\n            type : cc.Sprite\n        },\n\n        winNode : cc.Node,\n        failNode : cc.Node,\n        winLabel : cc.Label,\n        failLabel : cc.Label,\n        nextBtn : cc.Button,\n        shareButton : cc.Button,\n        nextBtnLabel : cc.RichText,\n        timeNumber : 5,\n        shareType : \"\",\n        shareData : \"\"\n        // hasClickNext : false\n    },\n\n    onLoad:function () {\n        var backButtonH = ddz.GlobalFuncs.getBackButtonPositionY();\n        if (backButtonH){\n            this.backButton.node.y = backButtonH;\n        }\n        ty.NotificationCenter.listen(ty.EventType.UPDATE_BUTTON_TEXT, this.onGetRewardCount, this);\n\n        var bc = ddz.gameModel.getRoomListBannerConfigJson();\n        if (bc) {\n            this.playResurtBanner();\n        }\n    },\n\n    playResurtBanner:function(bc){\n        var winnerCount = ddz.matchModel.getCurWinnerCount();\n        if (bc.start) {\n            if (winnerCount >= bc.start) {\n                // if (!ddz.curAllWidthBannerAd){\n                //     hall.adManager.showAllWidthBannerAd('adunit-811cc4e234425489');\n                // }\n                hall.adManager.showAllWidthBannerAd('adunit-811cc4e234425489');\n            }\n        }else {\n            // if (!ddz.curAllWidthBannerAd){\n            //     hall.adManager.showAllWidthBannerAd('adunit-811cc4e234425489');\n            // }\n            hall.adManager.showAllWidthBannerAd('adunit-811cc4e234425489');\n        }\n    },\n\n    onGetRewardCount:function (val) {\n        var that = this;\n\n        if (val.pointId != ddz.Share.SharePointType.alms){\n            return\n        }\n\n        if (val.leftCount > 0){\n            //弹出领取救济金窗口\n            var almsConfig = ddz.gameModel.getAlmsConfigJson();\n            var cityKey = ty.UserInfo.isInBSGS ? 'bsgsCity' : 'otherCity';\n            var par = almsConfig[cityKey];\n            if (ddz.almsWindow) {\n                ddz.almsWindow.initWithPar(par);\n                return\n            }\n            hall.GlobalFuncs.showPopWinByPreFab('prefabs/ddz_window_alms', function (preFabNode) {\n                ddz.almsWindow = preFabNode.getComponent('AlmsWindow');\n                ddz.almsWindow.initWithPar(par);\n            });\n        }\n    },\n\n    setTableScene:function (tableScene) {\n        this._tableScene = tableScene;\n    },\n\n    nextBtnAction:function (event,type) {\n        // this.hasClickNext = true;\n        if(this._tableScene._friendPanel){\n            var tableInfo = this._tableScene.tableInfo();\n            var mySeatIndex = this._tableScene._mySeatIndex;\n            ddz.MsgFactory.getReady(tableInfo.roomId(), tableInfo.tableId(), mySeatIndex);\n            ty.Timer.cancelTimer(this,this.callBackFun);\n            this.node.active = false;\n            hall.adManager.destroyWidthBannerAd();\n            ddz.gameResultPanel = null;\n            var anim = this.winNode.getComponent(cc.Animation);\n            anim.stop();\n            var anim2 = this.failNode.getComponent(cc.Animation);\n            anim2.stop();\n            return;\n        }\n        if(type == \"next1\" && this.shareType != \"\"){\n            ddz.GlobalFuncs.showShareMomentsItem(this.shareType,this.shareData);\n            return;\n        }\n\n        var playModel = this._tableScene.tableInfo().playMode;\n        var _mixID = this._tableScene.tableInfo().mixId;\n\n        // hall.MsgFactory.getQuickStart(ty.UserInfo.userId, ddz.GameId, ddz.quickStartModel.getRoomId(), hall.staticSystemInfo.version, null, null, null,null,ddz.quickStartModel.getMixId(),playModel);\n        hall.MsgFactory.getQuickStart(ty.UserInfo.userId, ddz.GameId, ddz.quickStartModel.getRoomId(),\n            hall.staticSystemInfo.version, null, null, null,null,\n            _mixID,\n            playModel);\n\n        this.node.active = false;\n        hall.adManager.destroyWidthBannerAd();\n        ddz.gameResultPanel = null;\n        var anim = this.winNode.getComponent(cc.Animation);\n        anim.stop();\n        var anim2 = this.failNode.getComponent(cc.Animation);\n        anim2.stop();\n        this._tableScene._reset();\n    },\n\n    backAction : function () {\n        ddz.AudioHelper.playEffect(ddz.EffectPath_mp3.back_button_click_sound, false);\n        var tableinfo = this._tableScene.tableInfo();\n        var _mixID = tableinfo.mixId;\n        ddz.gameResultPanel = null;\n        // var _mixID = hall.gameWorld.getRoomMixId(ddz.Enums.PlayType.PLAY_TYPE_JINGDIAN,tableinfo.roomName);\n        ddz.MsgFactory.getRoomLeave(tableinfo.roomId(), tableinfo.tableId(), this._tableScene._mySeatIndex, _mixID);\n    },\n    \n    show:function (result) {\n        this.backButton.node.active = true;\n        var mySeatIndex = result.mySeatIndex;\n        var dizhuWin = result.dizhuwin == 1;\n        var isWin = false;\n        if (mySeatIndex == result.stat.dizhu){\n            isWin = dizhuWin;\n        }\n        else{\n            isWin = !dizhuWin;\n        }\n\n        var mySeatInfo = result['seat' + mySeatIndex];\n        var delta = mySeatInfo[0];\n        var deltaAll = mySeatInfo[12];\n\n        if (delta > 0){\n            delta = \"+\"+ delta;\n        }\n        this.scoreGoldSprite.node.active = true;\n        var anim;\n\n        if(isWin){\n            this.winNode.active = true;\n            this.failNode.active = false;\n            this.winLabel.node.active = true;\n            this.winLabel.string = delta;\n            this.failLabel.node.active = false;\n            anim = this.winNode.getComponent(cc.Animation);\n            anim.play('winTitle');\n        }else {\n            this.winNode.active = false;\n            this.failNode.active = true;\n            this.winLabel.node.active = false;\n            this.failLabel.node.active = true;\n            this.failLabel.string = delta;\n            anim = this.failNode.getComponent(cc.Animation);\n            anim.play('loseTitle');\n\n            if(!result.winShare && !result.loseShare) {\n                var chip = hall.ME.getChip();\n                if (chip < 1000){\n                    ddz.gameModel.checkShareReward(ddz.Share.SharePointType.alms);\n                }\n            }\n        }\n\n        var notice = \"\";\n\n        if (this._tableScene.tableInfo().roomName != '新手场' && delta != deltaAll){\n            if (isWin){\n                //没赢那么多\n                notice = \"<color=#ffffff>因开局时你有 </color><img src = 'ddz_coin_white'/><color=#ffffff> \"+delta+\"，所以本局最多赢\"+delta+\"</color>\";\n            }\n            else{\n                //没输那么多\n                delta = -delta;\n                notice = \"<color=#ffffff>因开局时对手有 </color><img src = 'ddz_coin_white'/><color=#ffffff> \"+delta+\"，所以本局最多输\"+delta+\"</color>\";\n            }\n        }\n\n        this.tipsRich.string = notice;\n\n        // this.resultSpr.spriteFrame = this.sprFrame[isWin ? 0 : 1];\n        var call = result.stat.call;\n        var bc = result.stat.bomb;\n        bc = Math.pow(2, bc);\n        var chuntian = result.stat.chuntian;\n\n        this.betLabel_1.string = call + \"倍\";\n        this.betLabel_2.string = bc > 1 ? parseInt(bc) + \"倍\" : \"--\";\n        this.betLabel_3.string = chuntian > 1 ? chuntian + \"倍\" : \"--\";\n        this.betLabel_4.string = parseInt(call * bc * chuntian) + \"倍\";\n        this.node.active = true;\n        var bc = ddz.gameModel.getRoomListBannerConfigJson();\n        if (bc) {\n            this.playResurtBanner();\n        }\n        ddz.gameResultPanel = this;\n\n        // \"currWinDoubles\", {\"multi\" : 24, \"percent\":65 , \"isChunTian\": 1}\n        if(result.currWinDoubles){\n            this.nextBtnLabel.string = \"<color=#ffffff>分享战绩</color>\";\n            this.shareButton.node.active = true;\n            if(result.currWinDoubles.isChunTian){\n                this.shareType = \"showy_spring\";\n            }else {\n                this.shareType = \"showy_highPower\";\n            }\n            this.shareData = result.currWinDoubles;\n            var bottomNode = this.node.getChildByName('bottomNode');\n            if (ddz.haveBanner) {\n                bottomNode.y = -468\n                // var bw = bottomNode.getComponent(cc.Widget);\n                // bw.bottom = 100;\n            }else {\n                bottomNode.y = -568\n            }\n        }else {\n            this.nextBtnLabel.string = \"<color=#ffffff>下一局</color>\";\n            this.shareButton.node.active = false;\n            this.shareType = \"\";\n            var bottomNode = this.node.getChildByName('bottomNode');\n            if (ddz.haveBanner) {\n                bottomNode.y = -518\n                // var bw = bottomNode.getComponent(cc.Widget);\n                // bw.bottom = 50;\n            }else {\n                bottomNode.y = -568\n            }\n        }\n    },\n\n    showFtResult : function (result,showNext) {\n        this.shareType = \"\";\n        if(result.stat.dizhu == 0){\n            this.nextBtnAction();\n            return;\n        }\n        this.backButton.node.active = false;\n        var tableInfo = this._tableScene.tableInfo();\n        var mySeatIndex = this._tableScene._mySeatIndex;\n        var dizhuWin = result.dizhuwin == 1;\n        var isWin = false;\n        if (mySeatIndex == result.stat.dizhu){\n            isWin = dizhuWin;\n        }\n        else{\n            isWin = !dizhuWin;\n        }\n\n        var mySeatInfo = result['seat' + mySeatIndex];\n        var delta = mySeatInfo[0];\n        var deltaAll = mySeatInfo[12];\n\n        if (delta > 0){\n            delta = \"+\"+ delta;\n        }\n        this.winLabel.x = 0;\n        this.failLabel.x = 0;\n        if(isWin){\n            this.winNode.active = true;\n            this.failNode.active = false;\n            this.winLabel.node.active = true;\n            this.failLabel.node.active = false;\n            this.winLabel.string = \"分 \"+delta;\n            var anim = this.winNode.getComponent(cc.Animation);\n            anim.play('winTitle');\n        }else {\n            this.winNode.active = false;\n            this.failNode.active = true;\n            this.winLabel.node.active = false;\n            this.failLabel.node.active = true;\n            this.failLabel.string = \"分 \"+delta;\n            var anim = this.failNode.getComponent(cc.Animation);\n            anim.play('loseTitle');\n        }\n        this.scoreGoldSprite.node.active = false;\n\n        var call = result.stat.call;\n        var bc = result.stat.bomb;\n        bc = Math.pow(2, bc);\n        var chuntian = result.stat.chuntian;\n\n        this.betLabel_1.string = call + \"倍\";\n        this.betLabel_2.string = bc > 1 ? parseInt(bc) + \"倍\" : \"--\";\n        this.betLabel_3.string = chuntian > 1 ? chuntian + \"倍\" : \"--\";\n        this.betLabel_4.string = parseInt(call * bc * chuntian) + \"倍\";\n        this.node.active = true;\n        var bc = ddz.gameModel.getRoomListBannerConfigJson();\n        if (bc) {\n            this.playResurtBanner();\n        }\n        ddz.gameResultPanel = this;\n\n        if(showNext){\n            this.nextBtn.node.active = true;\n            this.timeNumber = 5;\n            this.nextBtnLabel.string = '继续('+this.timeNumber+')';\n            ty.Timer.setTimer(this,this.callBackFun,1);\n        }else {\n            this.nextBtn.node.active = false;\n        }\n    },\n    callBackFun : function () {\n        var tableInfo = this._tableScene.tableInfo();\n        var mySeatIndex = this._tableScene._mySeatIndex;\n        this.timeNumber -- ;\n        if(this.timeNumber <= -1){\n            ddz.MsgFactory.getReady(tableInfo.roomId(), tableInfo.tableId(), mySeatIndex);\n            // this._tableScene._mySeatIndex\n            ty.Timer.cancelTimer(this,this.callBackFun);\n            this.node.active = false;\n            hall.adManager.destroyWidthBannerAd();\n            ddz.gameResultPanel = null;\n            var anim = this.winNode.getComponent(cc.Animation);\n            anim.stop();\n            var anim2 = this.failNode.getComponent(cc.Animation);\n            anim2.stop();\n        }\n        this.nextBtnLabel.string = '继续('+this.timeNumber+')';\n    },\n\n    onDestroy :function () {\n        ty.NotificationCenter.ignoreScope(this);\n        this._tableScene = null;\n        ddz.gameResultPanel = null;\n        ddz.almsWindow = null;\n        hall.adManager.destroyWidthBannerAd();\n    }\n});\n"]}