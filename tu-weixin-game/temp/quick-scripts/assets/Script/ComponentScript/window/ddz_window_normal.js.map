{"version":3,"sources":["ddz_window_normal.js"],"names":["cc","Class","extends","Component","properties","backBg","default","type","Button","titleLabel","Label","contentLabel","RichText","leftButton","rightButton","centerButton","centerRichText","leftRichText","rightRichText","actionBefore","clickType","onLoad","size","director","getWinSize","node","setContentSize","leftCallFunc","rightCallFunc","centerCallFunc","animation","getComponent","Animation","anim1","getAnimationState","play","setTitleContentAndButtonsString","titleString","contentString","buttons","closeFun","string","length","active","title","callFunc","closeCallFun","playEndAnimation","completeAni","destroy","onClickLeftButton","event","ddz","AudioHelper","playEffect","EffectPath_mp3","button_click_sound","onClickRightButton","ty","TCP","connectStatus","CONNECT_STATUS_OK","hall","MsgBoxManager","showToast","LOGD","onClickCenterButton","onClose","onDestroy","gameModel","normalWindow"],"mappings":"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","file":"ddz_window_normal.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/window","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        backBg : {\n            default : null,\n            type  : cc.Button\n        },\n        titleLabel : {\n            default : null,\n            type  : cc.Label\n        },\n        contentLabel : {\n            default : null,\n            type : cc.RichText\n        },\n        leftButton : {\n            default : null,\n            type : cc.Button\n        },\n        rightButton : {\n            default : null,\n            type : cc.Button\n        },\n        centerButton : {\n            default : null,\n            type : cc.Button\n        },\n        centerRichText : {\n            default : null,\n            type : cc.RichText\n        },\n        leftRichText : {\n            default : null,\n            type : cc.RichText\n        },\n        rightRichText : {\n            default : null,\n            type : cc.RichText\n        },\n        actionBefore : false, //先有事件,手动close播放消失动画\n        clickType : \"\"\n    },\n\n    onLoad : function () {\n        var size = cc.director.getWinSize();\n        this.backBg.node.setContentSize(size);\n\n        if(!this.leftCallFunc){\n            this.leftCallFunc = function(){};\n        }\n        if(!this.rightCallFunc){\n            this.rightCallFunc = function(){};\n        }\n        if(!this.centerCallFunc){\n            this.centerCallFunc = function(){};\n        }\n\n        var animation = this.getComponent(cc.Animation);\n        var anim1 = animation.getAnimationState('tipsWindowNode');\n        anim1.play();\n    },\n\n    setTitleContentAndButtonsString: function (titleString, contentString, buttons, closeFun) {\n        this.titleLabel.string = titleString;\n        this.contentLabel.string = contentString;\n        if(buttons.length == 1){\n            this.centerButton.node.active = true;\n            this.leftButton.node.active = false;\n            this.rightButton.node.active = false;\n            this.centerRichText.string = buttons[0].title;\n            this.centerCallFunc = buttons[0].callFunc;\n        }else if(buttons.length == 2){\n            this.centerButton.node.active = false;\n            this.leftButton.node.active = true;\n            this.rightButton.node.active = true;\n            this.leftRichText.string = buttons[0].title;\n            this.leftCallFunc = buttons[0].callFunc;\n            this.rightRichText.string = buttons[1].title;\n            this.rightCallFunc = buttons[1].callFunc;\n        }\n        this.closeCallFun = closeFun;\n    },\n    \n    playEndAnimation : function () {\n        this.completeAni();\n    },\n    completeAni : function () {\n        if(this.clickType != \"\"){\n            switch (this.clickType){\n                case  'left' : this.leftCallFunc();break;\n                case  'right' : this.rightCallFunc();break;\n                case  'center' : this.centerCallFunc();break;\n                default : break;\n            }\n        }\n        this.node.destroy();\n    },\n    onClickLeftButton:function (event,type) {\n        ddz.AudioHelper.playEffect(ddz.EffectPath_mp3.button_click_sound, false);\n        if(!this.actionBefore){\n            this.clickType = type;\n            this.playEndAnimation();\n        }else {\n            this.leftCallFunc();\n        }\n    },\n    onClickRightButton:function (event,type) {\n        ddz.AudioHelper.playEffect(ddz.EffectPath_mp3.button_click_sound, false);\n        if (ty.TCP.connectStatus != ty.TCP.CONNECT_STATUS_OK){\n            hall.MsgBoxManager.showToast({title : \"正在登录，请稍候\"});\n            ddz.LOGD(null, \"TCP is not ok! Please wait!\");\n            return;\n        }\n        if(!this.actionBefore){\n            this.clickType = type;\n            this.playEndAnimation();\n        }else {\n            this.rightCallFunc();\n        }\n    },\n    onClickCenterButton:function (event,type) {\n        ddz.AudioHelper.playEffect(ddz.EffectPath_mp3.button_click_sound, false);\n        if (ty.TCP.connectStatus != ty.TCP.CONNECT_STATUS_OK){\n            hall.MsgBoxManager.showToast({title : \"正在登录，请稍候\"});\n            ddz.LOGD(null, \"TCP is not ok! Please wait!\");\n            return;\n        }\n        if(!this.actionBefore){\n            this.clickType = type;\n            this.playEndAnimation();\n        }else {\n            this.centerCallFunc();\n        }\n    },\n\n    onClose:function (event) {\n        if (this.closeCallFun){\n            this.closeCallFun()\n        }\n        this.playEndAnimation();\n    },\n\n    onDestroy : function () {\n        ddz.gameModel.normalWindow = null;\n    }\n});\n"]}