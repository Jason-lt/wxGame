{"version":3,"sources":["Share.js"],"names":["crypto","require","ddz","Share","LAST_SHARE_TIME","LAST_LOGIN_TIME","SHARETICKETS_LIST","LAST_SHARE_TIMELIST","YESTERDAY_SHARE_NUMBER","shareQuery","unSensitivePersonage","sharePoint","shareType","isOnShare","isMatchShare","shareTicket","resultType","shareWithType","type","successCallBackFun","failCallBackFun","testCfg","onShareType","clickStatShareTypeRevial","shareMap","gameModel","shareConfig","shareDetail","shareCfg","hall","GlobalFuncs","getShareRandomNumberWithShareList","shareTitle","replaceKeyWordInString","shareContent","query","ty","UserInfo","userId","shareSchemeId","userName","queryString","shareImage","sharePicUrl","extraAdd","length","callBackF","imageUrl","shareImformation","getShareImageWithShareMap","nowIndex","tempCavas","wx","createCanvas","width","height","context","getContext","image","createImage","src","onload","event","ima","target","drawImage","preTextWidth","preTextHeight","preX","preY","extraMap","textInformation","text","textformatString","font","fontSize","textColorRGB","indexOf","fillStyle","textAlign","replace","textX","parseInt","originPointX","textY","originPointY","fillText","measureText","imageInformation","sunImage","addImageUrl","userPic","sizeWidth","sizeHeight","shape","beginPath","arc","Math","PI","stroke","clip","img","tempFilePath","toTempFilePathSync","x","y","destWidth","destHeight","onerror","LOGW","titleString","sharePointId","BiLog","clickStat","clickStatEventType","clickStatEventTypeShareAction","clickStatShareTypeInviteFriend","clickStatEventTypeInviteFriendClick","shareKeywordReplace","inviteFriendID","shareAppMessage","title","success","result","clickStatEventTypeInviteFriendSuccess","clickStatShareTypeGiveProp","clickStatEventTypeGiveProp","inviteTreasureID","JSON","stringify","shareTickets","ShareState","isNotAGroupChat","fail","failToShare","LOGD","arguments","complete","shareResults","winloses","share","clickStatShareTypeShareResults","getRandomNumberBefore","imageType","tempCanvas","callBack","avatars","detailsModel","nicknNames","nickNames","scores","sumScores","_info","i","player_info","avatar","nicknName","score","push","sort","a","b","imageIndex","j","SliceStringToLength","avatarImage","toY","shareWindowTips","_shareType","playAnimationAfterShareWithType","toDayList","GlobalTimer","getCurDayList","lastShareTimeList","ReadStringFromLocalStorage","toString","setInLocalStorage","YESTERDAYSHARE","NotificationCenter","trigger","EventType","UPDATE_SHARE_STATE","clickStatShareTypeRankList","gotoRank","endWithSuccessShare","that","getShareInfo","shareKey","matchModel","revivalShareKey","getShareResultWithKey","failToGetShareTicket","LOGE","iv","encryptedData","reultString","decrypt","wxgame_session_key","informationMap","parse","openGId","toDay","getCurDay","lastShareTime","shareNumber","shareTicketsDic","shareList","repetitionGroupChat","getOpenGid","_boxUserId","_openGid","encryFunc","isBringVersion","getBoxReward","SystemInfo","treasureID","key","crypted","Buffer","decipher","createDecipheriv","decoded","update","final","sucessShare","shareToGetreward","clickStatShareTypeMainTips","clickStatShareTypeCongratulation","clickStatShareTypeWithDraw","clickStatShareCash","clickStatShareTypeShareButton","clickStatShareTypeGetDiamondFail","clickStatShareTypeGetDiamondFailSix","clickStatShareTypeGetDiamondFailWindow","clickStatShareTypeMainRestartWindow","clickStatShareTypeGetDiamondHall","clickStatShareTypeWinAward","clickStatShareTypeFailDamage","clickStatShareTypeInviteNewFriend","clickStatShareTypeArenaLose","clickStatShareTypeArenaWin","clickStatShareTypeGongZhongHaoCard","clickStatShareTypeGongZhongHaoMenu","clickStatShareTypeGoldHighPower","clickStatShareTypeGoldSpring","clickStatShareTypeGoldWinStreak","clickStatShareTypeGoldHighTotal","clickStatShareTypeMatchFirst","clickStatShareTypeMatchSecond","clickStatShareTypeMatchThird","clickStatShareTypeFirstWithDraw","clickStatShareTypeWithChip","clickStatShareTypeGetRedPacket","clickStatShareTypeAlms","clickStatShareTypeSeekHelpFriend","clickStatShareTypeCustomsSuccess","clickStatShareTypeNewUserGifts","clickStatShareTypeSkipCustom","clickStatShareTypeSkipCustomNewer","clickStatShareType","SharePointType","firstFail","userGroup","tongGuan","redPacket","arenaPoint1","arenaPoint2","arenaPoint3","arenaPoint4","gongZhongHaoCard","gongZhongHaoMenu","lottery","alms","firstWithDraw","withChip","getRedPacket","boxShare","shareFriend","customsSuccess","failSix","firstUseJiPaiQi","adGetJiPaiQi","getDayFirstLogin","failDiamond","skipCustom","addApplet","failWindw","mainRestart","exShare","resurgenceConfig","shareMoments","onShareAppMessage","groupMsgInfos"],"mappings":"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","file":"Share.js","sourceRoot":"../../../../../assets/Script/Framework","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\nvar crypto = require('crypto');\n\nddz.Share = {\n    LAST_SHARE_TIME : \"LAST_SHARE_TIME\",//最后一次分享的时间\n    LAST_LOGIN_TIME : \"LAST_LOGIN_TIME\",//最后一次登录的时间\n    SHARETICKETS_LIST : \"SHARETICKETS_LIST\",//今天的分享群聊信息集合\n    LAST_SHARE_TIMELIST : \"LAST_SHARE_TIMELIST\",//分享日期数组\n    YESTERDAY_SHARE_NUMBER : \"YESTERDAY_SHARE_NUMBER\",//昨天分享次数\n    shareQuery : \"\",\n\n    unSensitivePersonage : 0,//0、验证不同群,1、什么都不验证,2、验证群\n    sharePoint : 0,\n    shareType : \"\",\n\n    isOnShare : false,\n    isMatchShare : false,\n    shareTicket:\"\",\n    resultType : 0,//1、不是群,2、重复群,3、正常\n\n    shareWithType : function (type, successCallBackFun, failCallBackFun, testCfg) {\n        if(type == ddz.Share.onShareType.clickStatShareTypeRevial){\n            ddz.Share.isMatchShare = true;\n        }\n        var shareMap = ddz.gameModel.shareConfig;\n        if(!shareMap){\n            //TODO:取不到分享配置信息\n            return;\n            // shareMap = ddz.Share.shareConfig.share;\n        }\n        var shareDetail = shareMap[type];\n\n        // var shareCfg = shareDetail[hall.GlobalFuncs.getRandomNumberBefore(shareDetail.length)];\n        var shareCfg = shareDetail[hall.GlobalFuncs.getShareRandomNumberWithShareList(shareDetail)];\n\n        if (testCfg){\n            //配置上线前测试准备\n            shareCfg = testCfg;\n        }\n\n        var shareTitle = hall.GlobalFuncs.replaceKeyWordInString(shareCfg.shareContent);\n\n        var query = \"inviteCode=\"+ty.UserInfo.userId+\"&sourceCode=\"+type +\"&imageType=\"+shareCfg.shareSchemeId+\"&inviteName=\"+ty.UserInfo.userName;\n        if(shareDetail.query){\n            ddz.Share.shareQuery = shareDetail.query;\n            var queryString = hall.GlobalFuncs.replaceKeyWordInString(shareDetail.query);\n            query = query+\"&\"+queryString;\n        }else {\n            ddz.Share.shareQuery = \"\";\n        }\n\n        if(shareDetail.unSensitivePersonage){\n            ddz.Share.unSensitivePersonage = shareDetail.unSensitivePersonage;\n        }else {\n            ddz.Share.unSensitivePersonage = 0;\n        }\n\n        var shareImage = shareCfg.sharePicUrl;\n        if(shareCfg.extraAdd && shareCfg.extraAdd.length && shareCfg.extraAdd.length > 0 ){\n            var callBackF = function(imageUrl) {\n                ddz.Share.shareImformation(type, shareCfg, shareTitle, imageUrl, query, shareDetail.sharePoint, successCallBackFun, failCallBackFun);\n            };\n            ddz.Share.getShareImageWithShareMap(0, shareCfg.extraAdd, shareImage, callBackF);\n        }else {\n            ddz.Share.shareImformation(type, shareCfg, shareTitle, shareImage, query, shareDetail.sharePoint, successCallBackFun, failCallBackFun);\n        }\n    },\n\n    getShareImageWithShareMap : function (nowIndex, extraAdd, imageUrl, callBackF) {\n\n        var tempCavas = wx.createCanvas();\n        tempCavas.width =  360;\n        tempCavas.height =  288;\n\n        var context = tempCavas.getContext(\"2d\");\n        var image = wx.createImage();\n        image.src = imageUrl;\n\n        image.onload = function (event) {\n            var ima = event.target;\n            context.drawImage(ima,0,0);\n            var preTextWidth=0;\n            var preTextHeight=0;\n            var preX=0;\n            var preY=0;\n            while (nowIndex < extraAdd.length) {\n                var extraMap = extraAdd[nowIndex];\n                if (extraMap.type == \"text\") {\n                    var textInformation = extraMap.textInformation;\n                    var text = hall.GlobalFuncs.replaceKeyWordInString(textInformation.textformatString);\n                    context.font = textInformation.fontSize + \"px Arial\";\n                    if (textInformation.textColorRGB.indexOf('#') == -1){\n                        textInformation.textColorRGB = \"#\" + textInformation.textColorRGB;\n                    }\n                    context.fillStyle = textInformation.textColorRGB;\n                    context.textAlign = textInformation.textAlign.replace('middle','center');\n                    var textX = parseInt(textInformation.originPointX);\n                    if(textX < 0){\n                        if(textX == -1){\n                            textX = preX - preTextWidth/2;\n                        }else if(textX == -2){\n                            textX = preX + preTextWidth/2;\n                        }\n                    }\n                    var textY = parseInt(textInformation.originPointY);\n                    if (textY < 0){\n                        if(textY == -1){\n                            textY = preY - preTextHeight/2;\n                        }if(textY == -2){\n                            textY = preY + preTextHeight/2;\n                        }\n                    }\n                    context.fillText(text,textX,textY);\n                    preTextWidth = context.measureText(text).width;\n                    preTextHeight = context.measureText(text).height;\n                    preX = textX;\n                    preY = textY;\n                    nowIndex ++;\n                }else if(extraMap.type == \"image\") {\n                    var imageInformation = extraMap.imageInformation;\n                    var sunImage = wx.createImage();\n                    // sunImage.src = imageInformation.addImageUrl;\n                    if(imageInformation.addImageUrl == \"avatar\"){\n                        sunImage.src = ty.UserInfo.userPic;\n                    }else {\n                        sunImage.src = imageInformation.addImageUrl;\n                    }\n\n                    sunImage.originPointX = parseInt(imageInformation.originPointX);\n                    sunImage.originPointY = parseInt(imageInformation.originPointY);\n                    sunImage.sizeWidth = parseInt(imageInformation.sizeWidth);\n                    sunImage.sizeHeight = parseInt(imageInformation.sizeHeight);\n                    if(imageInformation.shape && imageInformation.shape == 2){\n                        context.beginPath();\n                        context.arc(sunImage.originPointX+sunImage.sizeWidth/2,sunImage.originPointY+sunImage.sizeHeight/2,sunImage.sizeWidth/2,0,2*Math.PI);\n                        context.stroke();\n                        context.clip();\n                    }\n                    sunImage.onload = function (event) {\n                        var img = event.target;\n                        context.drawImage(img,img.originPointX,img.originPointY,img.sizeWidth,img.sizeHeight);\n                        var tempFilePath = tempCavas.toTempFilePathSync({\n                            x: 0,\n                            y: 0,\n                            width: tempCavas.width,\n                            height: tempCavas.height,\n                            destWidth: tempCavas.width,\n                            destHeight: tempCavas.height\n                        });\n                        if(callBackF) {\n                            callBackF(tempFilePath);\n                        }\n                    };\n                    sunImage.onerror = function (event) {\n                        var img = event.target;\n                        hall.LOGW(\"==\",\"============加载头像失败===========\"+sunImage.src+\"====\"+imageInformation.addImageUrl+\"====\");\n                        var tempFilePath = tempCavas.toTempFilePathSync({\n                            x: 0,\n                            y: 0,\n                            width: tempCavas.width,\n                            height: tempCavas.height,\n                            destWidth: tempCavas.width,\n                            destHeight: tempCavas.height\n                        });\n                        if(callBackF) {\n                            callBackF(tempFilePath);\n                        }\n                    };\n                    return;\n                }\n            }\n            var tempFilePath = tempCavas.toTempFilePathSync({\n                x: 0,\n                y: 0,\n                width: tempCavas.width,\n                height: tempCavas.height,\n                destWidth: tempCavas.width,\n                destHeight: tempCavas.height\n            });\n            if(callBackF) {\n                callBackF(tempFilePath);\n            }\n        };\n        image.onerror = function (event) {\n            var img = event.target;\n            hall.LOGW(\"==\",\"============加载底图失败===========\"+img.src);\n        };\n    },\n\n    shareImformation : function (type, shareCfg, titleString, imageUrl, query, sharePoint, successCallBackFun, failCallBackFun) {\n        ddz.Share.shareType = type;\n        ddz.Share.sharePoint = sharePoint;\n        ddz.Share.isOnShare = true;\n        ddz.Share.resultType = 0;\n        ddz.Share.shareTicket = \"\";\n\n        var sharePointId = shareCfg.sharePointId;\n        var shareSchemeId = shareCfg.shareSchemeId;\n\n        ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeShareAction,[sharePointId, 1, shareSchemeId]);\n\n        if(type == ddz.Share.onShareType.clickStatShareTypeInviteFriend){\n            ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeInviteFriendClick,\n                [ddz.Share.shareKeywordReplace.inviteFriendID]);\n        }\n\n        wx.shareAppMessage({\n            title: titleString,\n            imageUrl : imageUrl,//5:4\n            query : query,//'key1=val1&key2=val2',\n            success : function (result) {\n                ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeShareAction,[sharePointId, 2, shareSchemeId]);\n                if(type == ddz.Share.onShareType.clickStatShareTypeInviteFriend){\n                    ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeInviteFriendSuccess,\n                        [ddz.Share.shareKeywordReplace.inviteFriendID]);\n                }\n                // 免费宝箱\n                if(type == ddz.Share.onShareType.clickStatShareTypeGiveProp){\n                    ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeGiveProp,\n                        [ddz.Share.shareKeywordReplace.inviteTreasureID]);\n                }\n\n                if (successCallBackFun){\n                    successCallBackFun(result);\n                }\n                hall.LOGW(null, \"shareAppMessage+++++++++++++++++\"+JSON.stringify(result));\n                if(!result.shareTickets || !result.shareTickets[0]){\n                    ddz.Share.resultType = ddz.Share.ShareState.isNotAGroupChat;\n                    ddz.Share.shareTicket = \"\";\n                    return;\n                }\n                ddz.Share.shareTicket = result.shareTickets[0];\n            },\n            fail : function () {\n                if (failCallBackFun){\n                    failCallBackFun();\n                }\n                ddz.Share.isMatchShare = false;\n                ddz.Share.resultType = ddz.Share.ShareState.failToShare;\n                hall.LOGD(null, JSON.stringify(arguments));\n            },\n            complete : function () {\n            }\n        });\n    },\n\n    shareResults:function (winloses) {\n        var shareMap = ddz.gameModel.shareConfig;\n        if(!shareMap){\n            shareMap = ddz.Share.shareConfig.share;\n        }\n        var type = ddz.Share.onShareType.clickStatShareTypeShareResults;\n\n        var shareDetail = shareMap[type];\n        if(shareDetail.unSensitivePersonage){\n            ddz.Share.unSensitivePersonage = shareDetail.unSensitivePersonage;\n        }else {\n            ddz.Share.unSensitivePersonage = 0;\n        }\n\n        var shareCfg = shareDetail[hall.GlobalFuncs.getRandomNumberBefore(shareDetail.length)];\n        var titleString = hall.GlobalFuncs.replaceKeyWordInString(shareCfg.shareContent);\n\n        var imageType = shareCfg.sharePointId + \"_\" + shareCfg.shareSchemeId;\n\n        var tempCanvas = wx.createCanvas();\n        tempCanvas.width = 360;\n        tempCanvas.height = 288;\n        var context = tempCanvas.getContext(\"2d\");\n        var callBack = function () {\n            var tempFilePath = tempCanvas.toTempFilePathSync({\n                x: 0,\n                y: 0,\n                width: tempCanvas.width,\n                height:tempCanvas.height,\n                destWidth: tempCanvas.width,\n                destHeight: tempCanvas.height\n            });\n            var query = \"inviteCode=\" + ty.UserInfo.userId + \"&sourceCode=\" + type + \"&imageType=\" + imageType + \"&inviteName=\" + ty.UserInfo.userName;\n            if(shareDetail.query){\n                var queryString = hall.GlobalFuncs.replaceKeyWordInString(shareDetail.query);\n                query = query+\"&\"+queryString;\n            }\n            ddz.Share.shareImformation(ddz.Share.onShareType.clickStatShareTypeShareResults, shareCfg, titleString, tempFilePath, query);\n        };\n        var image = wx.createImage();\n        image.src = shareCfg.sharePicUrl;\n\n        var avatars = ddz.detailsModel.avatars;\n        var nicknNames = ddz.detailsModel.nickNames;\n        var scores = ddz.detailsModel.sumScores;\n        // 分享出去按分数排序,从高到底\n        var _info = [];\n        for (var i = 0;i < 3; i++){\n            var player_info = {};\n            player_info.avatar = avatars[i];\n            player_info.nicknName = nicknNames[i];\n            player_info.score = scores[i];\n            _info.push(player_info);\n        }\n        _info.sort(function(a, b) {\n            return b.score - a.score;\n        });\n        hall.LOGW(\"\",\"==========分享排序================\"+JSON.stringify(_info));\n\n        image.onload = function (event) {\n            // var imageD = event.target;\n            context.drawImage(image,0,0);\n            context.font = \"25px Arial\";\n            var imageIndex = 0;\n            for (var j = 0; j < 3; j ++){\n                var height = 70 + j * 72;\n                context.fillStyle = \"#202020\";\n                context.textAlign = \"left\";\n\n                if(_info[j].nicknName){\n                    context.fillText(hall.GlobalFuncs.SliceStringToLength(_info[j].nicknName,7),150,height);\n                }else {\n                    context.fillText(\"你的好友\",150,height);\n                }\n                context.textAlign = \"right\";\n                if (_info[j].score >  0){\n                    context.fillStyle = \"#fd5051\";\n                    context.fillText(\"+\"+_info[j].score+\"分\",325,height);\n                }else {\n                    context.fillStyle = \"#1593c1\";\n                    context.fillText(_info[j].score+\"分\",325,height);\n                }\n                var avatarImage = wx.createImage();\n                if(_info[j].avatar){\n                    avatarImage.src = _info[j].avatar;\n                }else {\n                    avatarImage.src = \"res/raw-assets/resources/table/nopack/ddz_avatar_default.png\";\n                }\n                avatarImage.toY = 35+ j *72;\n                avatarImage.onload = function (event) {\n                    var img = event.target;\n                    context.drawImage(img,85,img.toY,50,50);\n                    imageIndex ++;\n                    if(imageIndex >= 3){\n                        callBack();\n                    }\n                };\n                avatarImage.onerror = function (event) {\n                    imageIndex ++;\n                    if(imageIndex >= 3){\n                        callBack();\n                    }\n                };\n            }\n        };\n    },\n\n    shareWindowTips : function(_shareType) {\n        // if (_shareType && _shareType == ddz.Share.onShareType.clickStatShareTypeInviteNewFriend ||\n        //     _shareType == ddz.Share.onShareType.clickStatShareTypeGetDiamondHall ||\n        //     _shareType == ddz.Share.onShareType.clickStatShareTypeRevial) {\n        //     hall.LOGD(\"==\",\" file = [Share] fun = [shareWindowTips] return _shareType = \" + _shareType);\n        //     return;\n        // }\n        //\n        // var type = ddz.Share.resultType;\n        // hall.LOGD(\"==\",\" file = [Share] fun = [shareWindowTips] _shareType = \" + _shareType);\n        // switch (type){\n        //     case 1:\n        //\n        //         var tips = \"只有分享到微信群才能领取奖励哦\";\n        //         var _string = hall.GlobalFuncs.getButtonTitle(_shareType);\n        //         var preFabPath = \"prefabs/ddz_window_normal\";\n        //         var  comName = \"ddz_window_normal\";\n        //         hall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n        //             var window = preFabNode.getComponent(comName);\n        //             var tiString = _string;ƒ\n        //             window.setTitleContentAndButtonsString(\"提示\",\"<color=#1A6951>\" + tips + \"</c>\",[{title:tiString,callFunc:function () {\n        //                 ddz.Share.shareWithType(_shareType);\n        //             }}]);\n        //         });\n        //         // var timer = 3;\n        //         break;\n        //     case 2:\n        //         var tips = \"这个群已经分享过啦，分享到其他群吧\";\n        //         var _string = hall.GlobalFuncs.getButtonTitle(_shareType);\n        //         var preFabPath = \"prefabs/ddz_window_normal\";\n        //         var  comName = \"ddz_window_normal\";\n        //         hall.GlobalFuncs.showPopWinByPreFab(preFabPath, function (preFabNode) {\n        //             var window = preFabNode.getComponent(comName);\n        //             var tiString = _string;\n        //             window.setTitleContentAndButtonsString(\"提示\",\"<color=#1A6951>\" + tips + \"</c>\",[{title:tiString,callFunc:function () {\n        //                 ddz.Share.shareWithType(_shareType);\n        //             }}]);\n        //         });\n        //         break;\n        //     case 3:\n        //         break;\n        //     default:\n        //         break;\n        // }\n        // ddz.Share.resultType = 0;\n    },\n\n    playAnimationAfterShareWithType : function () {\n        hall.LOGW(\"\",\"file = [Share] fun = [playAnimationAfterShareWithType]\");\n\n        var toDayList = hall.GlobalTimer.getCurDayList();\n        var lastShareTimeList = hall.GlobalFuncs.ReadStringFromLocalStorage(ddz.Share.LAST_SHARE_TIMELIST, []);\n\n        if(toDayList.toString() != lastShareTimeList.toString()){\n            if (toDayList[0] == lastShareTimeList[0] && toDayList[1] == lastShareTimeList[1]){\n                if (toDayList[2] == lastShareTimeList[2] + 1){\n                    hall.GlobalFuncs.setInLocalStorage(ddz.gameModel.YESTERDAYSHARE, true);\n                }else {\n                    hall.GlobalFuncs.setInLocalStorage(ddz.gameModel.YESTERDAYSHARE, false);\n                }\n            }\n            hall.GlobalFuncs.setInLocalStorage(ddz.Share.LAST_SHARE_TIMELIST, toDayList);\n        }\n\n\n        if(ddz.Share.resultType == ddz.Share.ShareState.failToShare){\n            ty.NotificationCenter.trigger(ddz.EventType.UPDATE_SHARE_STATE,ddz.Share.shareType);\n            return;\n        }\n        //直接跳转排行榜\n        if(ddz.Share.shareType == ddz.Share.onShareType.clickStatShareTypeRankList){\n            if(ddz.Share.shareTicket && ddz.Share.shareTicket != \"\"){\n                hall.GlobalFuncs.gotoRank(ddz.Share.shareTicket);\n                ddz.Share.shareType = \"\";\n                ddz.Share.resultType = 0;\n                return;\n            }\n        }\n\n        //不是分享点,不做任何处理\n        if((!ddz.Share.sharePoint || ddz.Share.sharePoint == 0)\n            && ddz.Share.shareType != ddz.Share.onShareType.clickStatShareTypeRevial){\n            ddz.Share.shareType = \"\";\n            ddz.Share.resultType = 0;\n            return;\n        }\n        //分享点什么都不验证,直接发钻石\n        if(ddz.Share.unSensitivePersonage == 1 && ddz.Share.shareType != ddz.Share.onShareType.clickStatShareTypeRevial){\n            this.endWithSuccessShare();\n            return;\n        }\n        //没有分享到群,发送通知结果类型和分享类型通知(没有分享到微信群)\n        if (!ddz.Share.shareTicket || ddz.Share.shareTicket == \"\"){\n            ty.NotificationCenter.trigger(ddz.EventType.UPDATE_SHARE_STATE,ddz.Share.shareType);\n            this.shareWindowTips(ddz.Share.shareType);\n            return;\n        }\n        //分享点只验证群,直接发钻石\n        if(ddz.Share.unSensitivePersonage == 2 && ddz.Share.shareType != ddz.Share.onShareType.clickStatShareTypeRevial){\n            this.endWithSuccessShare();\n            return;\n        }\n        \n        var that = this;\n\n        hall.LOGW(\"\",\"file = [Share] fun = [playAnimationAfterShareWithType] shareTicket = \"+JSON.stringify(ddz.Share.shareTicket));\n\n        //要验证群的处理\n        wx.getShareInfo(\n            {\n                shareTicket :ddz.Share.shareTicket,\n                success : function (result) {\n                    var shareKey;\n                    if(ddz.Share.shareType == ddz.Share.onShareType.clickStatShareTypeRevial){\n                        shareKey = ddz.matchModel.revivalShareKey;\n                        ddz.Share.getShareResultWithKey(result,shareKey);\n                    }else {\n                        shareKey = ddz.Share.sharePoint +\"\";\n                        ddz.Share.getShareResultWithKey(result,shareKey);\n                    }\n                },\n                fail : function () {\n                    ddz.Share.resultType = ddz.Share.ShareState.failToGetShareTicket;\n                    ty.NotificationCenter.trigger(ddz.EventType.UPDATE_SHARE_STATE,ddz.Share.shareType);\n                    that.shareWindowTips(ddz.Share.shareType);\n                    hall.LOGE(\"\",\"====getShareInfo=fail=====\"+JSON.stringify(arguments));\n                },\n                complete : function () {\n                }\n            }\n        );\n    },\n\n    getShareResultWithKey : function (result,shareKey) {\n        // var shareKey = ddz.Share.sharePoint +\"\";get_box_reward\n        var iv = result.iv ;\n        var encryptedData = result.encryptedData;\n        var reultString = ddz.Share.decrypt(ty.UserInfo.wxgame_session_key,iv,encryptedData);\n        // hall.LOGW(\"\",\"file = [Share] fun = [getShareResultWithKey] reultString = \"+JSOclickStatShareTypeWithChipN.stringify(reultString));\n        // {\"openGId\":\"tGXVqG5IZmqkGArWBhZNJwn2NsqaQ\",\"watermark\":{\"timestamp\":1524292994,\"appid\":\"wxbfebdafc2fc60b54\"}}\n        var informationMap = JSON.parse(reultString);\n        var openGId = informationMap.openGId;\n        var toDay = hall.GlobalTimer.getCurDay();\n        var lastShareTime = hall.GlobalFuncs.ReadStringFromLocalStorage(ddz.Share.LAST_SHARE_TIME, \"\");\n        var shareNumber = hall.GlobalFuncs.ReadStringFromLocalStorage(ddz.Share.YESTERDAY_SHARE_NUMBER, 0);\n\n        var shareTicketsDic = {};\n        if(toDay != lastShareTime){\n            shareTicketsDic[shareKey] = [openGId];\n            hall.GlobalFuncs.setInLocalStorage(ddz.Share.SHARETICKETS_LIST, JSON.stringify(shareTicketsDic));\n            hall.GlobalFuncs.setInLocalStorage(ddz.Share.LAST_SHARE_TIME, toDay);\n            hall.GlobalFuncs.setInLocalStorage(ddz.Share.YESTERDAY_SHARE_NUMBER, 1);\n        }else {\n            shareNumber++;\n            hall.GlobalFuncs.setInLocalStorage(ddz.Share.YESTERDAY_SHARE_NUMBER, shareNumber);\n            var shareTickets = hall.GlobalFuncs.ReadStringFromLocalStorage(ddz.Share.SHARETICKETS_LIST, \"\");\n            shareTicketsDic = JSON.parse(shareTickets);\n            if(shareTicketsDic && shareTicketsDic[shareKey] && shareTicketsDic[shareKey].length){\n                var shareList = shareTicketsDic[shareKey];\n                if (shareList.indexOf(openGId) > -1){\n                    ddz.Share.resultType = ddz.Share.ShareState.repetitionGroupChat;\n                    ty.NotificationCenter.trigger(ddz.EventType.UPDATE_SHARE_STATE,ddz.Share.shareType);\n                    this.shareWindowTips(ddz.Share.shareType);\n                    ddz.Share.shareTicket = \"\";\n                    return;\n                }\n                shareList.push(openGId);\n                hall.GlobalFuncs.setInLocalStorage(ddz.Share.SHARETICKETS_LIST, JSON.stringify(shareTicketsDic));\n            }else {\n                shareTicketsDic[shareKey] = [openGId];\n                hall.GlobalFuncs.setInLocalStorage(ddz.Share.SHARETICKETS_LIST, JSON.stringify(shareTicketsDic));\n            }\n        }\n        this.endWithSuccessShare();\n    },\n\n    getOpenGid:function(shareTicket,_boxUserId){\n\n        var _openGid = \"\";\n\n        var encryFunc = function(result){\n            var iv = result.iv ;\n            var encryptedData = result.encryptedData;\n            var reultString = ddz.Share.decrypt(ty.UserInfo.wxgame_session_key,iv,encryptedData);\n            // hall.LOGW(\"\",\"file = [Share] fun = [getShareResultWithKey] reultString = \"+JSON.stringify(reultString));\n            // {\"openGId\":\"tGXVqG5IZmqkGArWBhZNJwn2NsqaQ\",\"watermark\":{\"timestamp\":1524292994,\"appid\":\"wxbfebdafc2fc60b54\"}}\n            var informationMap = JSON.parse(reultString);\n            var openGId = informationMap.openGId;\n            _openGid = openGId;\n            if(!ddz.gameModel.isBringVersion){\n                ddz.gameModel.getBoxReward(parseInt(_boxUserId),ty.SystemInfo.treasureID,_openGid);\n            }\n\n            hall.LOGW(\"\",\"file = [Share] fun = [getOpenGid] _openGid = \"+JSON.stringify(_openGid));\n        };\n\n        wx.getShareInfo(\n            {\n                shareTicket :shareTicket,\n                success : function (result) {\n                    encryFunc(result);\n                },\n                fail : function () {\n                    hall.LOGW(\"\",\"file = [Share] fun = [getOpenGid] fail \");\n                    if(!ddz.gameModel.isBringVersion){\n                        ddz.gameModel.getBoxReward(parseInt(_boxUserId),ty.SystemInfo.treasureID,_openGid);\n                    }\n                },\n                complete : function () {\n                }\n            }\n        );\n\n    },\n\n    decrypt :function(key, iv, crypted) {\n        crypted = new Buffer(crypted, 'base64');\n        iv = new Buffer(iv, 'base64');\n        key = new Buffer(key, 'base64');\n        var decipher = crypto.createDecipheriv('aes-128-cbc', key, iv);\n        var decoded = decipher.update(crypted, 'binary', 'utf8');\n        decoded += decipher.final('utf8');\n        return decoded;\n    },\n\n    endWithSuccessShare : function () {\n        ddz.Share.resultType = ddz.Share.ShareState.sucessShare;\n        if(ddz.Share.shareType != ddz.Share.onShareType.clickStatShareTypeRevial){\n            // if(ddz.Share.shareType == ddz.Share.onShareType.clickStatShareTypeWithDraw ||\n            //     ddz.Share.shareType == ddz.Share.onShareType.clickStatShareTypeGetDiamondHall ||\n            //     ddz.Share.shareType == ddz.Share.onShareType.clickStatShareTypeMainTips){\n            //\n            //     ddz.gameModel.saveRewardToBox(ddz.Share.sharePoint);\n            // }else {\n            //     ddz.gameModel.shareToGetreward(ddz.Share.sharePoint);\n            // }\n\n            ddz.gameModel.shareToGetreward(ddz.Share.sharePoint);\n            // var _config = ddz.gameModel.getCongratulationGetRewardJson();\n            // if (_config && _config.saveToBox){\n            //     // ddz.gameModel.saveRewardToBox(ddz.Share.sharePoint);\n            //     ddz.gameModel.shareToGetreward(ddz.Share.sharePoint);\n            // }\n            //\n        }\n        ty.NotificationCenter.trigger(ddz.EventType.UPDATE_SHARE_STATE,ddz.Share.shareType);\n        this.shareWindowTips(ddz.Share.shareType);\n    },\n\n    onShareType :{\n        clickStatShareTypeMainTips : \"clickStatShareTypeMainTips\",//发奖弹窗现金分享\n        clickStatShareTypeCongratulation : \"clickStatShareTypeCongratulation\",//恭喜通关\n        clickStatShareTypeWithDraw : \"clickStatShareTypeWithDraw\",//提现成功分享\n        clickStatShareCash : \"clickStatShareCash\",//提现前分享\n        clickStatShareTypeShareButton : \"clickStatShareTypeShareButton\",//微信分享按钮\n        clickStatShareTypeRankList : \"clickStatShareTypeRankList\",//查看群排行榜\n        clickStatShareTypeGetDiamondFail : \"clickStatShareTypeGetDiamondFail\",//邀请得钻石(闯关失败)\n        clickStatShareTypeGetDiamondFailSix : \"clickStatShareTypeGetDiamondFailSix\",//邀请得钻石(第六关闯关失败)\n        clickStatShareTypeGetDiamondFailWindow : \"clickStatShareTypeGetDiamondFailWindow\",//邀请得钻石(第六关闯关失败)弹窗按钮\n        clickStatShareTypeMainRestartWindow : \"clickStatShareTypeMainRestartWindow\",//首页开始重新闯关弹窗按钮\n        clickStatShareTypeGetDiamondHall : \"clickStatShareTypeGetDiamondHall\",//邀请得钻石(钻石主页分享到群)\n        clickStatShareTypeInviteFriend : \"clickStatShareTypeInviteFriend\", //邀请好友进桌(好友桌)\n        clickStatShareTypeShareResults : \"clickStatShareTypeShareResults\",//分享战绩\n        clickStatShareTypeRevial : \"clickStatShareTypeRevial\",//每日首次失败分享复活\n        clickStatShareTypeWinAward : \"clickStatShareTypeWinAward\",//金币场赢牌分享获得奖励\n        clickStatShareTypeFailDamage : \"clickStatShareTypeFailDamage\",//金币场输牌分享获得赔偿\n        clickStatShareTypeInviteNewFriend : \"clickStatShareTypeInviteNewFriend\",//邀请新人朋友\n        clickStatShareTypeArenaLose : \"clickStatShareTypeArenaLose\",//arena比赛失败\n        clickStatShareTypeArenaWin : \"clickStatShareTypeArenaWin\",//arena比赛成功\n        clickStatShareTypeGongZhongHaoCard : \"clickStatShareTypeGongZhongHaoCard\",// 公众号会话\n        clickStatShareTypeGongZhongHaoMenu : \"clickStatShareTypeGongZhongHaoMenu\",// 公众号自定义菜单\n        clickStatShareTypeGoldHighPower : \"clickStatShareTypeGoldHighPower\",//金币场赢牌分享高倍\n        clickStatShareTypeGoldSpring : \"clickStatShareTypeGoldSpring\",//金币场赢牌分享春天\n        clickStatShareTypeGoldWinStreak : \"clickStatShareTypeGoldWinStreak\",//金币场赢牌分享连胜\n        clickStatShareTypeGoldHighTotal : \"clickStatShareTypeGoldHighTotal\",//金币场赢牌分享总分\n        clickStatShareTypeMatchFirst : \"clickStatShareTypeMatchFirst\",//比赛场第一名\n        clickStatShareTypeMatchSecond : \"clickStatShareTypeMatchSecond\",//比赛场第二名\n        clickStatShareTypeMatchThird : \"clickStatShareTypeMatchThird\",//比赛场第三名\n        clickStatShareTypeFirstWithDraw : \"clickStatShareTypeGongZhongHaoMenu\",//首次提现\n        clickStatShareTypeWithChip : \"clickStatShareTypeWithChip\",//发奖弹窗金币分享\n        clickStatShareTypeGetRedPacket : \"clickStatShareTypeGetRedPacket\",//分享领取红包\n        clickStatShareTypeAlms : \"clickStatShareTypeAlms\",//分享领取救济金\n        clickStatShareTypeGiveProp : \"clickStatShareTypeGiveProp\",//免费送道具\n        clickStatShareTypeSeekHelpFriend : \"clickStatShareTypeSeekHelpFriend\",//求助好友开宝箱\n        clickStatShareTypeCustomsSuccess : \"clickStatShareTypeCustomsSuccess\",//闯关成功分享\n        clickStatShareTypeNewUserGifts : \"clickStatShareTypeNewUserGifts\",//新人限时宝箱\n        clickStatShareTypeSkipCustom : \"clickStatShareTypeSkipCustom\",//跳关\n        clickStatShareTypeSkipCustomNewer : \"clickStatShareTypeSkipCustomNewer\"//新人跳关\n    },\n\n    clickStatShareType :{\n        clickStatShareTypeShareButton : \"004\",//微信分享按钮\n        clickStatShareTypeGetDiamondHall :\"005\",//邀请得钻石(钻石主页分享到群)\n        clickStatShareTypeGetDiamondFail :\"006\",//邀请得钻石(闯关失败)\n        clickStatShareTypeMainTips : \"007\",//发奖弹窗现金分享\n        clickStatShareTypeWithDraw : \"008\",//提现成功分享\n        clickStatShareTypeCongratulation : \"009\",//恭喜通关\n        clickStatShareTypeRankList : \"010\",//查看群排行榜\n        clickStatShareTypeMatchFirst : \"011\",//比赛场第一名\n        clickStatShareTypeMatchSecond : \"012\",//比赛场第二名\n        clickStatShareTypeMatchThird : \"013\",//比赛场第三名\n        clickStatShareTypeInviteNewFriend : \"014\",//邀请新人朋友\n        clickStatShareTypeArenaLose : \"015\",//arena比赛失败\n        clickStatShareTypeArenaWin : \"016\",//arena比赛成功\n        clickStatShareTypeRevial :\"017\",//每日首次失败分享复活\n        clickStatShareTypeGoldHighPower : \"018\",//金币场赢牌分享高倍\n        clickStatShareTypeGoldSpring : \"019\",//金币场赢牌分享春天\n        clickStatShareTypeGoldWinStreak : \"020\",//金币场赢牌分享连胜\n        clickStatShareTypeGoldHighTotal : \"021\",//金币场赢牌分享总分\n        clickStatShareTypeInviteFriend :\"022\", //邀请好友进桌(好友桌)\n        clickStatShareTypeShareResults :\"023\",//分享战绩\n        clickStatShareTypeSeekHelpFriend : \"058\",//求助好友开宝箱\n        clickStatShareTypeGiveProp : \"071\",//免费送道具\n        clickStatShareTypeCustomsSuccess : \"098\",//闯关成功分享\n        clickStatShareTypeGetDiamondFailSix : \"099\",//第六关闯关失败分享\n        clickStatShareTypeNewUserGifts : \"100\",//新人限时宝箱\n        clickStatShareTypeGongZhongHaoCard : \"101\",// 公众号会话\n        clickStatShareTypeGongZhongHaoMenu : \"102\",// 公众号自定义菜单\n        clickStatShareTypeWithChip : \"147\",//发奖弹窗现金分享兑换金币\n        clickStatShareTypeGetRedPacket : \"148\",//分享领取红包\n        clickStatShareTypeSkipCustom : \"280\",//跳关\n        clickStatShareTypeSkipCustomNewer : \"282\",//新人跳关\n        clickStatShareCash : \"4\",//提现前分享\n        clickStatShareTypeWinAward :\"12\",//金币场赢牌分享获得奖励\n        clickStatShareTypeFailDamage :\"13\",//金币场输牌分享获得赔偿\n        clickStatShareTypeFirstWithDraw : \"26\",//首次提现\n        clickStatShareTypeAlms : \"29\",//分享领取救济金\n        clickStatShareTypeGetDiamondFailWindow : 29,//邀请得钻石(第六关闯关失败)弹窗按钮\n        clickStatShareTypeMainRestartWindow : 29//首页开始重新闯关弹窗按钮\n    },\n\n    shareKeywordReplace :{\n        \"wechatName\":\"。\",//微信昵称\n        // 比赛场\n        \"allWinnerCount\":\"0\",//当前通关人数\n        \"bonusTotal\":\"0\",      //平分奖励金额\n        \"withDrawMoney\":\"0\",//提现金额\n        \"lastWinnerCount\":\"0\",//自己上次通关人次\n        \"lastBonusOnly\":\"0\",//自己上次获得奖励\n        \"curWinnerCount\":\"0\",//自己本次次通关人次\n        \"curBonusOnly\":\"0\",//自己本次获得奖励\n        \"curBonusOnlyChip\":\"0\", //自己本次获得奖励兑换金币\n        \"selfTotalBonus\":0,//个人所得总奖励\n        \"selfAllWinnerCount\": 0,//个人全部通关次数\n        //好友桌\n        \"inviteFriendID\":\"10001\",//好友桌邀请好友进桌房间ID\n        \"totalRound\":0, //总局数\n        \"displayName\":\"经典\",//玩法选择\n        \"goodCard\":\"标准\",//发牌模式\n        //金币场分享\n        \"goldWinReward\":\"0\",//金币场赢取奖励while\n        \"surpassPercent\":0, //超越比例\n        //arena比赛场分享\n        \"arenaWinRewardMoney\":\"0\",//arena比赛赢取奖励金钱\n        \"arenaWinRewardChip\":\"0\",//arena比赛赢取奖励金币\n        \"arenaRanking\":0, //arena比赛名次\n        //复活弹窗\n        \"repeatNumber\":1,\n        \"stageIndex\":1,\n        \"hadNumber\":0,\n        \"diamondPicture\":\"<img src='dda_button_diamond' height=34 width=42/>\",\n        \"redDiamondPicture\":\"<img src='ddz_diamond_red' height=34 width=42/>\",\n        \"coinPicture\":\"<img src='ddz_main_chip' height=48 width=48/>\",\n        \"inviteTreasureID\":\"0\",//免费宝箱ID;\n        \"newerTreasureID\":\"0\"//新人限时宝箱ID\n    },\n\n    SharePointType:{\n        firstFail : 67890001,  //首败\n        userGroup : 67890002,   //分享到三个群\n        tongGuan : 67890003,   //通关后分享\n        redPacket : 67890003,   //提现后分享\n        arenaPoint1 : 67890005,   //比赛1的分享点\n        arenaPoint2 : 67890006,   //比赛2的分享点\n        arenaPoint3 : 67890007,   //比赛3的分享点\n        arenaPoint4 : 67890008,   //比赛4的分享点\n        gongZhongHaoCard : 67890009,   //公众号会话卡片\n        gongZhongHaoMenu : 67890010,   //公众号自定义菜单\n        lottery : 67890003,   //发奖分享,\n        alms:67890013, //救济金\n        firstWithDraw : 67890012,  //首次提现\n        withChip : 67890003,  //发奖金币弹窗分享\n        getRedPacket : 67890015,  //分享领取红包\n        boxShare : 67890016,  //宝箱分享\n        shareFriend : 67890017, //首页邀请好友\n        customsSuccess : 67890018, //闯关成功分享\n        failSix : 67890003, //第六关闯关失败\n        firstUseJiPaiQi:67890020, //首次送记牌器match_back\n        adGetJiPaiQi:67890021, //看广告领取记牌器\n        getDayFirstLogin:67890022, //看广告领取记牌器\n        failDiamond:67890023, //闯关失败求助得钻石\n        skipCustom:67890024, //跳关\n        addApplet:67890025, //加入小程序\n        failWindw:67890026, //闯关失败重新闯关弹窗分享点\n        mainRestart:67890027, //首页重新闯关弹窗分享点\n    },\n\n    ShareState:{\n        isNotAGroupChat : 1,   //不是群聊\n        repetitionGroupChat : 2,  //重复群聊\n        sucessShare : 3, //正常分享\n        exShare : 4,\n        failToGetShareTicket : 5,\n        failToShare : 6\n    },\n\n    resurgenceConfig: {\n        \"arenaMatch\": {\n            \"oldUser\": [{\n                \"stageIndexMin\": 1,\n                \"stageIndexMax\": 3,\n                \"failCondition\": [{\n                    \"failCountMin\": 1,\n                    \"failCountMax\": 1,\n                    \"resurgenceCondition\": {\n                        \"conditionType\": \"ad\",\n                        \"requestCount\": 1,\n                        \"adIds\":[\"adunit-8bde7ac62d379503\"]\n                    },\n                    \"title\": \"提示\",\n                    \"content\": \"晋级失败\\n观看广告即可免费复活\",\n                    \"buttonText1\": \"观看广告复活\",\n                    \"buttonText2\": \"点击放弃>\"\n                },\n                    {\n                        \"failCountMin\": 2,\n                        \"failCountMax\": 4,\n                        \"resurgenceCondition\": {\n                            \"conditionType\": \"share\",\n                            \"requestCount\": 1\n                        },\n                        \"title\": \"提示\",\n                        \"content\": \"晋级失败\\n分享游戏给朋友即可免费复活\",\n                        \"buttonText1\": \"分享\",\n                        \"buttonText2\": \"点击放弃>\"\n                    },\n                    {\n                        \"failCountMin\": 5,\n                        \"failCountMax\": 20,\n                        \"resurgenceCondition\": {\n                            \"conditionType\": \"ad\",\n                            \"requestCount\": 1,\n                            \"adIds\":[\"adunit-8bde7ac62d379503\"]\n                        },\n                        \"title\": \"提示\",\n                        \"content\": \"晋级失败\\n观看广告即可免费复活\",\n                        \"buttonText1\": \"观看广告复活\",\n                        \"buttonText2\": \"点击放弃>\"\n                    }\n                    ]\n            }],\n            \"newUser\": [{\n                \"stageIndexMin\": 1,\n                \"stageIndexMax\": 3,\n                \"failCondition\": [{\n                    \"failCountMin\": 1,\n                    \"failCountMax\": 2,\n                    \"resurgenceCondition\": {\n                        \"conditionType\": \"ad\",\n                        \"requestCount\": 1,\n                        \"adIds\":[\"adunit-8bde7ac62d379503\"]\n                    },\n                    \"title\": \"提示\",\n                    \"content\": \"晋级失败\\n观看广告即可免费复活\",\n                    \"buttonText1\": \"观看广告复活\",\n                    \"buttonText2\": \"点击放弃>\"\n                },\n                    {\n                        \"failCountMin\": 3,\n                        \"failCountMax\": 5,\n                        \"resurgenceCondition\": {\n                            \"conditionType\": \"share\",\n                            \"requestCount\": 1\n                        },\n                        \"title\": \"提示\",\n                        \"content\": \"晋级失败\\n分享游戏给朋友即可免费复活\",\n                        \"buttonText1\": \"分享\",\n                        \"buttonText2\": \"点击放弃>\"\n                    },\n                    {\n                        \"failCountMin\": 6,\n                        \"failCountMax\": 20,\n                        \"resurgenceCondition\": {\n                            \"conditionType\": \"ad\",\n                            \"requestCount\": 1,\n                            \"adIds\":[\"adunit-8bde7ac62d379503\"]\n                        },\n                        \"title\": \"提示\",\n                        \"content\": \"晋级失败\\n观看广告即可免费复活\",\n                        \"buttonText1\": \"观看广告复活\",\n                        \"buttonText2\": \"点击放弃>\"\n                    }\n                    ]\n            }]\n        },\n        \"fightMatch\": {\n            \"oldUser\": [\n                {\n                \"stageIndexMin\": 2,\n                \"stageIndexMax\": 3,\n                \"failCondition\": [{\n                    \"failCountMin\": 1,\n                    \"failCountMax\": 1,\n                    \"resurgenceCondition\": {\n                        \"conditionType\": \"ad\",\n                        \"requestCount\": 1,\n                        \"adIds\":[\"adunit-8bde7ac62d379503\"]\n                    },\n                    \"title\": \"提示\",\n                    \"content\": \"观看广告即可免费复活\\n继续挑战第stageIndex关\",\n                    \"buttonText1\": \"观看广告复活\",\n                    \"buttonText2\": \"点击放弃>\"\n                },\n                    {\n                        \"failCountMin\": 2,\n                        \"failCountMax\": 4,\n                        \"resurgenceCondition\": {\n                            \"conditionType\": \"share\",\n                            \"requestCount\": 1\n                        },\n                        \"title\": \"提示\",\n                        \"content\": \"分享游戏给朋友即可免费复活\\n继续挑战第stageIndex关\",\n                        \"buttonText1\": \"分享\",\n                        \"buttonText2\": \"点击放弃>\"\n                    },\n                    {\n                        \"failCountMin\": 5,\n                        \"failCountMax\": 10,\n                        \"resurgenceCondition\": {\n                            \"conditionType\": \"ad\",\n                            \"requestCount\": 1,\n                            \"adIds\":[\"adunit-8bde7ac62d379503\"]\n                        },\n                        \"title\": \"提示\",\n                        \"content\": \"观看广告即可免费复活\\n继续挑战第stageIndex关\",\n                        \"buttonText1\": \"观看广告复活\",\n                        \"buttonText2\": \"点击放弃>\"\n                    }\n                    ]\n            },\n                {\n                    \"stageIndexMin\": 4,\n                    \"stageIndexMax\": 5,\n                    \"failCondition\": [{\n                        \"failCountMin\": 1,\n                        \"failCountMax\": 1,\n                        \"resurgenceCondition\": {\n                            \"conditionType\": \"ad\",\n                            \"requestCount\": 2,\n                            \"adIds\":[\"adunit-8bde7ac62d379503\"]\n                        },\n                        \"title\": \"提示\",\n                        \"content\": \"看repeatNumber次广告可免费复活\\n继续挑战第stageIndex关\",\n                        \"buttonText1\": \"观看广告(hadNumber/repeatNumber)\",\n                        \"buttonText2\": \"点击放弃>\"\n                    },\n                        {\n                            \"failCountMin\": 2,\n                            \"failCountMax\": 4,\n                            \"resurgenceCondition\": {\n                                \"conditionType\": \"share\",\n                                \"requestCount\": 3\n                            },\n                            \"title\": \"提示\",\n                            \"content\": \"分享游戏到repeatNumber个群即可免费复活\\n继续挑战第stageIndex关\",\n                            \"buttonText1\": \"邀请好友(hadNumber/repeatNumber)\",\n                            \"buttonText2\": \"点击放弃>\"\n                        },\n                        {\n                            \"failCountMin\": 5,\n                            \"failCountMax\": 10,\n                            \"resurgenceCondition\": {\n                                \"conditionType\": \"ad\",\n                                \"requestCount\": 3,\n                                \"adIds\":[\"adunit-8bde7ac62d379503\"]\n                            },\n                            \"title\": \"提示\",\n                            \"content\": \"看repeatNumber次广告可免费复活\\n继续挑战第stageIndex关\",\n                            \"buttonText1\": \"观看广告(hadNumber/repeatNumber)\",\n                            \"buttonText2\": \"点击放弃>\"\n                        }\n                        ]\n                }\n                ],\n            \"newUser\": [{\n                \"stageIndexMin\": 2,\n                \"stageIndexMax\": 5,\n                \"failCondition\": [{\n                    \"failCountMin\": 1,\n                    \"failCountMax\": 2,\n                    \"resurgenceCondition\": {\n                        \"conditionType\": \"ad\",\n                        \"requestCount\": 1,\n                        \"adIds\":[\"adunit-8bde7ac62d379503\"]\n                        },\n                    \"title\": \"提示\",\n                    \"content\": \"观看广告即可免费复活\\n继续挑战第stageIndex关\",\n                    \"buttonText1\": \"观看广告复活\",\n                    \"buttonText2\": \"点击放弃>\"\n                    },\n                    {\n                        \"failCountMin\": 3,\n                        \"failCountMax\": 5,\n                        \"resurgenceCondition\": {\n                            \"conditionType\": \"share\",\n                            \"requestCount\": 1\n                        },\n                        \"title\": \"提示\",\n                        \"content\": \"分享游戏给朋友即可免费复活\\n继续挑战第stageIndex关\",\n                        \"buttonText1\": \"分享\",\n                        \"buttonText2\": \"点击放弃>\"\n                    },\n                    {\n                        \"failCountMin\": 6,\n                        \"failCountMax\": 20,\n                        \"resurgenceCondition\": {\n                            \"conditionType\": \"ad\",\n                            \"requestCount\": 1,\n                            \"adIds\":[\"adunit-8bde7ac62d379503\"]\n                        },\n                        \"title\": \"提示\",\n                        \"content\": \"观看广告即可免费复活\\n继续挑战第stageIndex关\",\n                        \"buttonText1\": \"观看广告复活\",\n                        \"buttonText2\": \"点击放弃>\"\n                    }\n                    ]\n                }]\n        }\n    },\n\n    shareMoments:{\n        \"invite\":[\n            {\n                \"backUrl\":\"share_moments/share_moments_invite0.jpg\",\n                \"bottomType\":\"type0\"\n            },\n            {\n                \"backUrl\":\"share_moments/share_moments_invite1.jpg\",\n                \"bottomType\":\"type0\"\n            },\n            {\n                \"backUrl\":\"share_moments/share_moments_invite2.jpg\",\n                \"bottomType\":\"type0\"\n            },\n            {\n                \"backUrl\":\"share_moments/share_moments_invite3.jpg\",\n                \"bottomType\":\"type0\"\n            }\n        ],\n        \"showy_highPower\":[\n            {\n                \"backUrl\":\"share_moments/share_moments_showy_highPower.jpg\",\n                \"bottomType\":\"type1\"\n            }\n        ],\n        \"showy_highTotal\":[\n            {\n                \"backUrl\":\"share_moments/share_moments_showy_highTotal.jpg\",\n                \"bottomType\":\"type1\"\n            }\n        ],\n        \"showy_spring\":[\n            {\n                \"backUrl\":\"share_moments/share_moments_showy_spring.jpg\",\n                \"bottomType\":\"type1\"\n            }\n        ],\n        \"showy_winningStreak\":[\n            {\n                \"backUrl\":\"share_moments/share_moments_showy_winningStreak.jpg\",\n                \"bottomType\":\"type1\"\n            }\n        ],\n        \"bottomType\":{\n            \"type0\":{\n                \"bottomUrl\":\"share_moments/shareTo_moments_bottom2.png\",\n                \"bottomHeight\":254,\n                \"qrCenterX\":508,\n                \"qrCenterY\":987,\n                \"qrRadius\":87,\n                \"avatarRadius\":39\n            },\n            \"type1\":{\n                \"bottomUrl\":\"share_moments/shareTo_moments_bottom.jpg\",\n                \"bottomHeight\":182,\n                \"qrCenterX\":530,\n                \"qrCenterY\":1028,\n                \"qrRadius\":72,\n                \"avatarRadius\":32\n            }\n        }\n    }\n};\n\nwx.onShareAppMessage(function (result) {\n    var type = ddz.Share.onShareType.clickStatShareTypeShareButton;\n    var shareMap = ddz.gameModel.shareConfig;\n    if(!shareMap){\n        //TODO:取不到分享配置信息\n        return;\n    }\n\n    var shareDetail = shareMap.clickStatShareTypeShareButton;\n\n    var shareCfg = shareDetail[hall.GlobalFuncs.getRandomNumberBefore(shareDetail.length)];\n    var shareTitle = hall.GlobalFuncs.replaceKeyWordInString(shareCfg.shareContent);\n\n    var imageUrl = shareCfg.sharePicUrl;\n    var sharePointId = shareCfg.sharePointId;\n    var shareSchemeId = shareCfg.shareSchemeId;\n\n    var query;\n    if(shareDetail.query){\n        var queryString = hall.GlobalFuncs.replaceKeyWordInString(shareDetail.query);\n        query = \"inviteCode=\" + ty.UserInfo.userId+\"&sourceCode=\" + type + \"&imageType=\" + shareSchemeId + \"&inviteName=\" + ty.UserInfo.userName + \"&\" + queryString;\n    }else {\n        query = \"inviteCode=\" + ty.UserInfo.userId+\"&sourceCode=\" + type + \"&imageType=\" + shareSchemeId + \"&inviteName=\" + ty.UserInfo.userName;\n    }\n\n    if(shareDetail.unSensitivePersonage){\n        ddz.Share.unSensitivePersonage = shareDetail.unSensitivePersonage;\n    }else {\n        ddz.Share.unSensitivePersonage = 0;\n    }\n\n    ddz.Share.shareType = type;\n    ddz.Share.sharePoint = shareDetail.sharePoint;\n    ddz.Share.isOnShare = true;\n    ddz.Share.resultType = 0;\n    ddz.Share.shareTicket = \"\";\n    ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeShareAction,[sharePointId, 1, shareSchemeId]);\n\n    return {\n        title: shareTitle,\n        imageUrl:imageUrl,\n        query : query,//'key1=val1&key2=val2',\n        success : function (shareTickets, groupMsgInfos) {\n            ty.BiLog.clickStat(ty.UserInfo.clickStatEventType.clickStatEventTypeShareAction,[sharePointId , 2, shareSchemeId]);\n            hall.LOGD(null, \"onShareAppMessage+++++++++++++++++\"+JSON.stringify(shareTickets));\n        },\n        fail : function () {\n            hall.LOGD(null, JSON.stringify(arguments));\n        },\n        complete : function () {\n        }\n    }\n});"]}