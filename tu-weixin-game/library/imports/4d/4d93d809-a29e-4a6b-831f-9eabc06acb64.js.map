{"version":3,"sources":["../../../../../../assets/Script/ComponentScript/component/assets/Script/ComponentScript/component/ddz_zuanshiBox.js"],"names":["cc","Class","extends","Component","properties","countNumberLabel","Label","typeBg","Sprite","typeSpriteFrame","SpriteFrame","boxBtn","Node","bgBtn","savaBoxBtn","onLoad","isSavaBox","active","saveBox","ani","node","getComponent","Animation","play","that","once","curScene","director","getScene","name","onClose","setZuanshiNnm","_count","isType","hall","LOGW","spriteFrame","string","onClickBox","adManager","destroyWidthBannerAd","ddz","isClickOpenBox","gameModel","getOpenBox","stopBoxAni","stop","zuanshiBoxCom","destroy","onDestroy"],"mappings":"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","file":"ddz_zuanshiBox.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        countNumberLabel : cc.Label,\n        typeBg : cc.Sprite,\n        typeSpriteFrame : [cc.SpriteFrame],\n        boxBtn:cc.Node,\n        bgBtn:cc.Node,\n        savaBoxBtn:cc.Node,\n    },\n\n    onLoad:function(){\n        this.isSavaBox = false;\n        this.boxBtn.active = false;\n        this.bgBtn.active = true;\n        this.savaBoxBtn.active = true;\n    },\n\n    saveBox:function(){\n        if (!this.isSavaBox) {\n            this.isSavaBox = true;\n            var ani = this.node.getComponent(cc.Animation);\n            ani.play('fangru');\n            var that = this;\n            ani.once(\"finished\", function () {\n                that.boxBtn.active = true;\n                that.bgBtn.active = false;\n                that.savaBoxBtn.active = false;\n                var curScene = cc.director.getScene();\n                if (curScene.name == \"Ddz\") {\n                    that.onClose();\n                }\n            });\n        }\n    },\n\n    setZuanshiNnm:function(_count,isType){\n        hall.LOGW(\"\",\"file = [ddz_zuanshiBox] fun = [setZuanshiNnm] \");\n\n        this.isSavaBox = false;\n        this.boxBtn.active = false;\n        this.bgBtn.active = true;\n        this.savaBoxBtn.active = true;\n\n        if (isType == \"item:1311\"){\n            this.typeBg.spriteFrame = this.typeSpriteFrame[0];\n        }else if (isType == \"user:chip\"){\n            this.typeBg.spriteFrame = this.typeSpriteFrame[1];\n        }\n        this.countNumberLabel.string = \"x\" + _count;\n\n        var ani = this.node.getComponent(cc.Animation);\n        ani.play('feibaoxiang');\n    },\n\n    onClickBox:function(){\n        hall.adManager.destroyWidthBannerAd();\n        ddz.isClickOpenBox = true;\n        ddz.gameModel.getOpenBox();\n        this.onClose();\n    },\n\n    stopBoxAni:function(){\n        var ani = this.node.getComponent(cc.Animation);\n        ani.stop();\n    },\n\n    onClose:function(){\n        this.isSavaBox = false;\n        this.stopBoxAni();\n        ddz.zuanshiBoxCom = null;\n        if (this.node) {\n            this.node.destroy();\n        }\n    },\n\n    onDestroy:function(){\n        ddz.zuanshiBoxCom = null;\n    },\n\n});\n"]}