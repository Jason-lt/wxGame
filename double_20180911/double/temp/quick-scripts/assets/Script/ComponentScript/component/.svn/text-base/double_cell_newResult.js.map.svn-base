{"version":3,"sources":["double_cell_newResult.js"],"names":["cc","Class","extends","Component","properties","topNode","Node","topSprite","default","type","Sprite","topLabel","Label","middleNode","middleSprite","middleLabel","bottomNode","bottomSprite","bottomLabel","objectSpriteFrameList","SpriteFrame","gunSpriteFrameList","objectType","lastIndex","tempIndex","tempNode","endIndex","bgY","windowHeight","changeNumber","moveSpeed","rollAnimation","animationTime","onLoad","setRollTypeAndScale","double","windowNewWeaponType","newWeapon","node","active","setRollTime","time","speed","update","dt","y","ty","NotificationCenter","trigger","EventType","GAME_ROLL_STOP","hall","GlobalFuncs","getRandomNumberBefore","spriteFrame","string","GameWorld","objectConfig","doubleObjectList","goldNumber","onDestroy","ignoreScope","unscheduleAllCallbacks"],"mappings":"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","file":"double_cell_newResult.js","sourceRoot":"../../../../../../assets/Script/ComponentScript/component","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        topNode : cc.Node,\n        topSprite : {\n            default : null,\n            type : cc.Sprite\n        },\n        topLabel : {\n            default : null,\n            type : cc.Label\n        },\n\n        middleNode : cc.Node,\n        middleSprite : {\n            default : null,\n            type : cc.Sprite\n        },\n        middleLabel : {\n            default : null,\n            type : cc.Label\n        },\n\n        bottomNode : cc.Node,\n        bottomSprite : {\n            default : null,\n            type : cc.Sprite\n        },\n        bottomLabel : {\n            default : null,\n            type : cc.Label\n        },\n\n\n        objectSpriteFrameList : [cc.SpriteFrame],\n        gunSpriteFrameList : [cc.SpriteFrame],\n        objectType : 0,\n        lastIndex : 0,\n        tempIndex : 0,\n        tempNode : {\n            default : null,\n            type : cc.Node\n        },\n        endIndex : 0,\n\n        bgY : 0,\n        windowHeight : 0,\n        changeNumber : 0,\n\n        moveSpeed : 0,\n        rollAnimation : false,\n        animationTime : 0\n    },\n\n    onLoad : function() {\n    },\n\n    setRollTypeAndScale : function (type,lastIndex,endIndex) {\n        this.objectType = type ;\n        this.lastIndex = lastIndex;\n        this.endIndex = endIndex;\n        if(type == double.windowNewWeaponType.newWeapon){\n            this.topLabel.node.active = false;\n            this.middleLabel.node.active = false;\n            this.bottomLabel.node.active = false;\n            // this.nowSpriteFrameList = this.objectSpriteFrameList;\n        }else {\n            // this.nowSpriteFrameList = this.gunSpriteFrameList;\n            this.topLabel.node.active = true;\n            this.middleLabel.node.active = true;\n            this.bottomLabel.node.active = true;\n        }\n    },\n\n    setRollTime : function (time,speed) {\n        this.animationTime = time;\n        this.rollAnimation = true;\n        this.moveSpeed = speed;\n    },\n\n    update : function(dt) {\n        if(!this.rollAnimation){\n            return;\n        }\n\n        this.bgY = this.middleNode.y - this.moveSpeed* dt;\n\n        this.middleNode.y = this.bgY;\n        this.topNode.y = this.bgY + this.windowHeight;\n        this.bottomNode.y = this.bgY - this.windowHeight;\n\n        if(this.bgY <= 0){\n            if(this.animationTime == 0){\n                this.bgY = 0;\n                this.middleNode.y = this.bgY;\n                this.topNode.y = this.bgY + this.windowHeight;\n                this.bottomNode.y = this.bgY - this.windowHeight;\n                this.rollAnimation = false;\n                ty.NotificationCenter.trigger(double.EventType.GAME_ROLL_STOP,this.objectType);\n                return;\n            }\n            this.changeNumber ++;\n            if(this.changeNumber >= 3){\n                this.changeNumber = 0;\n            }\n            this.tempIndex = hall.GlobalFuncs.getRandomNumberBefore(this.lastIndex);\n            this.animationTime --;\n            if(this.animationTime == 0){\n                this.tempIndex = this.endIndex;\n            }\n            if(this.changeNumber == 0){\n                if(this.objectType == double.windowNewWeaponType.newWeapon){\n                    this.middleSprite.spriteFrame = this.gunSpriteFrameList[this.tempIndex];\n                }else {\n                    this.middleSprite.spriteFrame = this.objectSpriteFrameList[this.tempIndex];\n                }\n                // this.middleSprite.spriteFrame = this.nowSpriteFrameList[this.tempIndex];\n                // this.middleLabel.string = double.GameWorld.doubleObjectList[this.tempIndex];\n                this.middleLabel.string = double.GameWorld.objectConfig[double.GameWorld.doubleObjectList[this.tempIndex]].goldNumber;\n            }else if(this.changeNumber == 1){\n                if(this.objectType == double.windowNewWeaponType.newWeapon){\n                    this.topSprite.spriteFrame = this.gunSpriteFrameList[this.tempIndex];\n                }else {\n                    this.topSprite.spriteFrame = this.objectSpriteFrameList[this.tempIndex];\n                }\n                // this.topSprite.spriteFrame = this.nowSpriteFrameList[this.tempIndex];\n                this.topLabel.string =  double.GameWorld.objectConfig[double.GameWorld.doubleObjectList[this.tempIndex]].goldNumber;\n            }else {\n                if(this.objectType == double.windowNewWeaponType.newWeapon){\n                    this.bottomSprite.spriteFrame = this.gunSpriteFrameList[this.tempIndex];\n                }else {\n                    this.bottomSprite.spriteFrame = this.objectSpriteFrameList[this.tempIndex];\n                }\n                // this.bottomSprite.spriteFrame = this.nowSpriteFrameList[this.tempIndex];\n                this.bottomLabel.string =  double.GameWorld.objectConfig[double.GameWorld.doubleObjectList[this.tempIndex]].goldNumber;\n            }\n            this.tempNode = this.topNode;\n            this.topNode = this.bottomNode;\n            this.bottomNode = this.middleNode;\n            this.middleNode = this.tempNode;\n        }\n    },\n\n    onDestroy : function () {\n        ty.NotificationCenter.ignoreScope(this);\n        this.unscheduleAllCallbacks();\n    }\n});\n"]}